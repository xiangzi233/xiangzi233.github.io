<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>java面向对象 | Hexo</title><meta name="description" content="1.1 面向对象入门 在Java中对象其实就是一个Class(类)，在Java 世界中所有的程序都是由Class (对象、类)组成的；  UML类图：管理和维护对象的图形语言。 了解类框图   QQ群界面    UML类图  转换成java代码： 123456789101112131415161718192021package com.qq.model;&#x2F;** *  群对象，封装了群的基础数据 *"><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yoursite.com/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="java面向对象"><meta property="og:url" content="http://yoursite.com/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="1.1 面向对象入门 在Java中对象其实就是一个Class(类)，在Java 世界中所有的程序都是由Class (对象、类)组成的；  UML类图：管理和维护对象的图形语言。 了解类框图   QQ群界面    UML类图  转换成java代码： 123456789101112131415161718192021package com.qq.model;&#x2F;** *  群对象，封装了群的基础数据 *"><meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><meta property="article:published_time" content="2020-07-23T07:29:18.841Z"><meta property="article:modified_time" content="2020-07-23T07:29:04.736Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="新Java网络编程" href="http://yoursite.com/2020/07/23/%E6%96%B0Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><link rel="next" title="post_name" href="http://yoursite.com/2020/07/15/post-name/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">13</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-面向对象入门"><span class="toc-number">1.</span> <span class="toc-text">1.1 面向对象入门</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-类的关联关系"><span class="toc-number">2.</span> <span class="toc-text">1.2 类的关联关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#对象"><span class="toc-number">2.1.</span> <span class="toc-text">对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#对象的特性"><span class="toc-number">2.2.</span> <span class="toc-text">对象的特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关联"><span class="toc-number">2.3.</span> <span class="toc-text">关联</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#"><span class="toc-number">2.4.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-1"><span class="toc-number">2.5.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#类之间关系有"><span class="toc-number">2.6.</span> <span class="toc-text">类之间关系有</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-访问控制修饰符"><span class="toc-number">3.</span> <span class="toc-text">1.3 访问控制修饰符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#类"><span class="toc-number">3.1.</span> <span class="toc-text">类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#类的方法-实例变量"><span class="toc-number">3.2.</span> <span class="toc-text">类的方法&#x2F;实例变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-封装"><span class="toc-number">4.</span> <span class="toc-text">1.4 封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-5-常量"><span class="toc-number">5.</span> <span class="toc-text">1.5 常量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#常用字符串常量"><span class="toc-number">5.1.</span> <span class="toc-text">常用字符串常量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#内存缓存"><span class="toc-number">5.2.</span> <span class="toc-text">内存缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML图中常量声明"><span class="toc-number">5.3.</span> <span class="toc-text">UML图中常量声明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-继承语法"><span class="toc-number">6.</span> <span class="toc-text">2.1 继承语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-方法覆盖"><span class="toc-number">7.</span> <span class="toc-text">2.2 方法覆盖</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例化Dog对象"><span class="toc-number">7.1.</span> <span class="toc-text">实例化Dog对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#实例化Animal对象"><span class="toc-number">7.2.</span> <span class="toc-text">实例化Animal对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-super-关键字"><span class="toc-number">8.</span> <span class="toc-text">2.3 super 关键字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1接口的语法"><span class="toc-number">9.</span> <span class="toc-text">3.1接口的语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-接口实现类"><span class="toc-number">10.</span> <span class="toc-text">3.2 接口实现类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实例化"><span class="toc-number">10.1.</span> <span class="toc-text">实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#接口转化"><span class="toc-number">10.2.</span> <span class="toc-text">接口转化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UML接口实现图"><span class="toc-number">10.3.</span> <span class="toc-text">UML接口实现图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#命名规则"><span class="toc-number">10.4.</span> <span class="toc-text">命名规则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-任务"><span class="toc-number">11.</span> <span class="toc-text">3.2.2 任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-Java常用接口"><span class="toc-number">12.</span> <span class="toc-text">3.3 Java常用接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Java异常机制"><span class="toc-number">13.</span> <span class="toc-text">4.1 Java异常机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-常见的异常类"><span class="toc-number">14.</span> <span class="toc-text">4.2 常见的异常类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#多个异常捕获"><span class="toc-number">14.1.</span> <span class="toc-text">多个异常捕获</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-抛出异常"><span class="toc-number">15.</span> <span class="toc-text">4.3 抛出异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#UML图"><span class="toc-number">15.1.</span> <span class="toc-text">UML图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-自定义异常"><span class="toc-number">16.</span> <span class="toc-text">4.4 自定义异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#finally"><span class="toc-number">16.1.</span> <span class="toc-text">finally</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-内部类语法"><span class="toc-number">17.</span> <span class="toc-text">5.1 内部类语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#UML类图"><span class="toc-number">17.1.</span> <span class="toc-text">UML类图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#内部类实例化"><span class="toc-number">17.2.</span> <span class="toc-text">内部类实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#访问实例内部类"><span class="toc-number">17.3.</span> <span class="toc-text">访问实例内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#静态内部类"><span class="toc-number">17.4.</span> <span class="toc-text">静态内部类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#局部内部类"><span class="toc-number">17.5.</span> <span class="toc-text">局部内部类</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-匿名类"><span class="toc-number">18.</span> <span class="toc-text">5.2 匿名类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#随机数补充介绍"><span class="toc-number">18.1.</span> <span class="toc-text">随机数补充介绍</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-接口中的默认方法"><span class="toc-number">19.</span> <span class="toc-text">5.3 接口中的默认方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#抽象类UML图"><span class="toc-number">19.1.</span> <span class="toc-text">抽象类UML图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#接口的默认方法"><span class="toc-number">19.2.</span> <span class="toc-text">接口的默认方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-对象的关系"><span class="toc-number">20.</span> <span class="toc-text">6.1 对象的关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#聚合关系-Aggregation"><span class="toc-number">20.1.</span> <span class="toc-text">聚合关系(Aggregation)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#聚合关系UML图"><span class="toc-number">20.2.</span> <span class="toc-text">聚合关系UML图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#组合关系-Composition"><span class="toc-number">20.3.</span> <span class="toc-text">组合关系(Composition)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#组合关系UML图"><span class="toc-number">20.4.</span> <span class="toc-text">组合关系UML图</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#依赖关系-Dependency"><span class="toc-number">21.</span> <span class="toc-text">依赖关系(Dependency)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#继承-Inheritance-实现-Realization-关系"><span class="toc-number">21.1.</span> <span class="toc-text">继承(Inheritance)&#x2F;实现(Realization)关系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-List和数组的互换"><span class="toc-number">22.</span> <span class="toc-text">7.1 List和数组的互换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#static-List-asList-T…-a"><span class="toc-number">22.1.</span> <span class="toc-text">static List asList(T… a)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List转为数组"><span class="toc-number">22.2.</span> <span class="toc-text">List转为数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List转为字符串"><span class="toc-number">22.3.</span> <span class="toc-text">List转为字符串</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-排序"><span class="toc-number">23.</span> <span class="toc-text">7.2 排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Arrays-sort"><span class="toc-number">23.1.</span> <span class="toc-text">Arrays.sort()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Arrays-toString-的方法签名如下"><span class="toc-number">23.2.</span> <span class="toc-text">Arrays.toString 的方法签名如下</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自定义排序"><span class="toc-number">23.3.</span> <span class="toc-text">自定义排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#集合的排序"><span class="toc-number">23.4.</span> <span class="toc-text">集合的排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-集合操作"><span class="toc-number">24.</span> <span class="toc-text">7.3 集合操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#删除-remove"><span class="toc-number">24.1.</span> <span class="toc-text">删除 remove</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#合并-addAll"><span class="toc-number">24.2.</span> <span class="toc-text">合并 addAll</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#截取-subList"><span class="toc-number">24.3.</span> <span class="toc-text">截取 subList</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">Hexo</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">java面向对象</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-07-23 15:29:18"><i class="far fa-calendar-alt fa-fw"></i> Created 2020-07-23</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-07-23 15:29:04"><i class="fas fa-history fa-fw"></i> Updated 2020-07-23</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta__icon"></i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h3 id="1-1-面向对象入门"><a href="#1-1-面向对象入门" class="headerlink" title="1.1 面向对象入门"></a>1.1 面向对象入门</h3><ul>
<li><p>在Java中对象其实就是一个Class(类)，在Java 世界中所有的程序都是由Class (对象、类)组成的；</p>
</li>
<li><p>UML类图：管理和维护对象的图形语言。</p>
<p>了解类框图   QQ群界面</p>
</li>
</ul>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/qq-group.png" alt="qq群界面"></p>
<p>UML类图</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/group_user.svg" alt="UML类图"></p>
<p>转换成java代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qq.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  群对象，封装了群的基础数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Group</span></span>&#123;</span><br><span class="line">    <span class="comment">//群唯一的ID</span></span><br><span class="line">    String id;</span><br><span class="line">    <span class="comment">//群号</span></span><br><span class="line">    String groupNo;</span><br><span class="line">    <span class="comment">//群图标</span></span><br><span class="line">    String icon;</span><br><span class="line">    <span class="comment">//群名称</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="comment">//群公告</span></span><br><span class="line">    String notice;</span><br><span class="line">    <span class="comment">//群简介</span></span><br><span class="line">    String desc;</span><br><span class="line">    <span class="comment">// 群成员</span></span><br><span class="line">    ArrayList&lt;User&gt; users;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-2-类的关联关系"><a href="#1-2-类的关联关系" class="headerlink" title="1.2 类的关联关系"></a>1.2 类的关联关系</h3><p>真实世界里每一个事物（学校、电影、音乐等等）都能用计算机模拟，这些事物叫做<strong>领域</strong></p>
<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><p>对象是对问题领域中事物的抽象</p>
<p>抽象就是把事物变成编程语言的过程</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/chouxiang1.svg" alt="img"></p>
<h4 id="对象的特性"><a href="#对象的特性" class="headerlink" title="对象的特性"></a>对象的特性</h4><ol>
<li><p>万物皆对象</p>
</li>
<li><p>每个对象都是唯一的</p>
<p>对象的唯一是指的实例化后的每个实例都是唯一的，对于相同事物抽象后的类可以是相同的。</p>
</li>
<li><p>对象具备属性和方法</p>
</li>
</ol>
<h4 id="关联"><a href="#关联" class="headerlink" title="关联"></a>关联</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/student_major_2.svg" alt="img"></h4><h4 id="-1"><a href="#-1" class="headerlink" title=""></a><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/arrows.jpg" alt="img"></h4><p>该线条表示<code>student</code>  类通过  <code>major</code>  属性关联了 类<code>Major</code></p>
<h4 id="类之间关系有"><a href="#类之间关系有" class="headerlink" title="类之间关系有"></a>类之间关系有</h4><ol>
<li>关联</li>
<li>依赖</li>
<li>聚集</li>
<li>泛化</li>
<li>实现</li>
</ol>
<h3 id="1-3-访问控制修饰符"><a href="#1-3-访问控制修饰符" class="headerlink" title="1.3 访问控制修饰符"></a>1.3 访问控制修饰符</h3><p>面向对象的基本思想之一是封装实现细节并且公开接口， 在Java语言中采用了访问控制修饰符来控制类，以及类的方法和变量的访问权限，从而达到隐藏实现细节只暴露接口的能力。</p>
<p>●公开级别:用public修饰，对外公开<br>●受保护级别:用protected修饰，向子类及同一个包中的类公开<br>●默认级别:没有访问修饰符，向同一个包中的类公开<br>●私有级别:用private修饰，只有类本身可以访问,不对外公开</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>同类</th>
<th>同包</th>
<th>不同的包</th>
<th>UML表示符</th>
</tr>
</thead>
<tbody><tr>
<td>public</td>
<td>有权限</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td>（绿）圆</td>
</tr>
<tr>
<td>protected</td>
<td>有权限</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td>（黄）菱形</td>
</tr>
<tr>
<td>默认</td>
<td>有权限</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td></td>
</tr>
<tr>
<td>private</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td><em>无权限</em></td>
<td>（红）正方形</td>
</tr>
</tbody></table>
<p>注： protected一般和父子类在一起才生效</p>
<h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><p>可以用<code>public</code>和<code>默认</code>,不可以用 protected和private</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/public1.svg" alt="img"></p>
<h4 id="类的方法-实例变量"><a href="#类的方法-实例变量" class="headerlink" title="类的方法/实例变量"></a>类的方法/实例变量</h4><p>一般情况下类的成员变量(属性)就叫做实例变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 声明一个公开访问的字符串类型实例变量</span></span><br><span class="line">  <span class="keyword">public</span> String msg = <span class="string">"Hello"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明一个公开访问的方法</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">(String word)</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> msg + word;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>某些方法定义需要返回值但是uml图没有标明，可以return null；</p>
<h3 id="1-4-封装"><a href="#1-4-封装" class="headerlink" title="1.4 封装"></a>1.4 封装</h3><p>把对象的属性隐藏起来，通过公开的方法来得到或者设置属性值；</p>
<p>setter、getter规范</p>
<p>●get+属性名称(属性名的首字母要大写)，用于获取属性<br>●set+属性名称(属性名的首字母要大写)，用于设置属性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">  <span class="comment">//定义了一个关于名称的实例变量</span></span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 获取 name 的值 getter</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 设置 name 的值 setter</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>UML封装图</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/setter3.svg" alt="img"></p>
<h3 id="1-5-常量"><a href="#1-5-常量" class="headerlink" title="1.5 常量"></a>1.5 常量</h3><p>也可以叫静态变量，可以直接获取或者操作变量，不需要实例化，借助关键字<code>static</code></p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/static1.svg" alt="img"></p>
<p>static关键字：用于声明静态变量、静态代码块，可在其中执行代码并且调用static变量；</p>
<p>schools：常量的变量名为与变量区分开，一般<strong>全大写</strong>，单词间用<code>-</code>分隔开</p>
<h4 id="常用字符串常量"><a href="#常用字符串常量" class="headerlink" title="常用字符串常量"></a>常用字符串常量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 用户Session key</span></span><br><span class="line"><span class="comment">  * final 表示 该变量不可被再次修改</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String USER_KEY = <span class="string">"m_key"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 手机验证码 key</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SMS_KEY = <span class="string">"m_sms_key"</span>;</span><br></pre></td></tr></table></figure>



<h4 id="内存缓存"><a href="#内存缓存" class="headerlink" title="内存缓存"></a>内存缓存</h4><p>先声明static变量再创建static</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.School;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 学校服务</span></span><br><span class="line"><span class="comment"> */</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SchoolService</span></span>&#123;</span><br><span class="line">  <span class="comment">// 学校数据的常量</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;School&gt; SCHOOLS = <span class="keyword">new</span> ArrayList&lt;&gt;();    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 声明一个静态代码块，用于初始化学校数据</span></span><br><span class="line">  <span class="keyword">static</span>&#123;</span><br><span class="line">    School school = <span class="keyword">new</span> School();</span><br><span class="line">    school.setId(<span class="string">"1"</span>);</span><br><span class="line">    school.setName(<span class="string">"北京大学"</span>);</span><br><span class="line">    SCHOOLS.add(school);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//初始化school，再赋值</span></span><br><span class="line">    school = <span class="keyword">new</span> School();</span><br><span class="line">    school.setId(<span class="string">"2"</span>);</span><br><span class="line">    school.setName(<span class="string">"清华大学"</span>);</span><br><span class="line">    SCHOOLS.add(school);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 测试打印一下内存的数据</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;SCHOOLS.size();i++)&#123;</span><br><span class="line">      School school = SCHOOLS.get(i);</span><br><span class="line">      System.out.println(school.getName());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="UML图中常量声明"><a href="#UML图中常量声明" class="headerlink" title="UML图中常量声明"></a>UML图中常量声明</h4><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/userservice1.svg" alt="img"></p>
<p>加一个下划线</p>
<h3 id="2-1-继承语法"><a href="#2-1-继承语法" class="headerlink" title="2.1 继承语法"></a>2.1 继承语法</h3><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/extends.svg" alt="img"></p>
<p>Dog：Animal的子类</p>
<p>Animal: 父类</p>
<p>UML类图：</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/dog2.svg" alt="img"></p>
<p>箭头子类指向父类</p>
<p><strong>注意：继承关系中，子类只可以获取父类的protected，或者public的，获取不到private级别的变量或者方法</strong></p>
<h3 id="2-2-方法覆盖"><a href="#2-2-方法覆盖" class="headerlink" title="2.2 方法覆盖"></a>2.2 方法覆盖</h3><p>在子类重写父类定义的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"><span class="comment">//在Dog里面覆盖Animal的方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"狗狗喜欢吃肉骨头"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实例化Dog对象"><a href="#实例化Dog对象" class="headerlink" title="实例化Dog对象"></a>实例化Dog对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 实例化 dog 对象</span></span><br><span class="line">    Dog d = <span class="keyword">new</span> Dog();</span><br><span class="line">    d.setName(<span class="string">"小灰"</span>);</span><br><span class="line">    d.setAge(<span class="number">3</span>);</span><br><span class="line">    System.out.println(d.getName()+<span class="string">"---"</span>+d.getAge());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实例化Animal对象"><a href="#实例化Animal对象" class="headerlink" title="实例化Animal对象"></a>实例化Animal对象</h4><p>是抽象的，没有具体指某个动物，要结合子类<code>Animal d = new Dog();</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 实例化 dog 对象并赋值给 Animal 对象</span></span><br><span class="line">    Animal d = <span class="keyword">new</span> Dog();</span><br><span class="line">    d.setName(<span class="string">"小灰"</span>);</span><br><span class="line">    d.setAge(<span class="number">3</span>);</span><br><span class="line">    System.out.println(d.getName()+<span class="string">"---"</span>+d.getAge());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>父类Animal可以直接调用在子类Dog里面覆盖的对象<code>d.eat()</code></p>
<p>子类的对象是可以转化为父类对象，但是父类不能转化为子类。也就是说 Dog dog = new Animal()是错误的</p>
<h3 id="2-3-super-关键字"><a href="#2-3-super-关键字" class="headerlink" title="2.3 super 关键字"></a>2.3 super 关键字</h3><p>super操作父类，只发生在子类中</p>
<p>子类Dog里面调用父类Animal的eat（）方法  <code>super.eat();</code></p>
<p>当父类只有一个有参数的构造函数的时候，子类也必须要具备这个构造函数，或者调用 super 方法来实现新的构造函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomFile</span></span>&#123;</span><br><span class="line">  <span class="comment">// 存储文件路径的变量</span></span><br><span class="line">  <span class="keyword">public</span> String filePath;</span><br><span class="line">  <span class="comment">// 存储文件后缀变量，通过后缀来区分文件类型</span></span><br><span class="line">  <span class="keyword">public</span> String ext;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明一个构造函数，接受文件路径</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">CustomFile</span><span class="params">(String filePath)</span></span>&#123;</span><br><span class="line">    <span class="comment">//给类变量 filePath 赋值</span></span><br><span class="line">    <span class="comment">//this代表的是当前类的实例</span></span><br><span class="line">    <span class="keyword">this</span>.filePath = filePath;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 获取文件名称</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 比如文件路径是 /Users/mac/work/face.png</span></span><br><span class="line">    <span class="comment">// 把文件路径分隔成数组（分隔符是 / ）</span></span><br><span class="line">    <span class="comment">// 数组的最后一位就是文件名</span></span><br><span class="line">    String[] paths = filePath.split(<span class="string">"/"</span>);</span><br><span class="line">    <span class="comment">// 数组的最后一位需要减1，因为数组是从索引0开始的。</span></span><br><span class="line">    <span class="keyword">return</span>  paths[paths.length-<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在构造函数里的 super 方法必须写在第一行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JavaFile</span> <span class="keyword">extends</span> <span class="title">CustomFile</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String packageName;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明一个构造函数</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">JavaFile</span><span class="params">(String filePath,String packageName)</span></span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(filePath);</span><br><span class="line">    <span class="keyword">this</span>.packageName = packageName;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getPackageName</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.packageName;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-1接口的语法"><a href="#3-1接口的语法" class="headerlink" title="3.1接口的语法"></a>3.1接口的语法</h3><ol>
<li>在java中，接口也是一个类，也包含方法</li>
</ol>
<p>我们定义了一个接口类以后，就可以支持多个实现类，接口的调用方不用关心是谁写的实现类，只关心接口的方法参数、方法返回值就可以无缝的完成程序的对接。</p>
<ol start="2">
<li><p>接口的定义</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/LoginService.svg" alt="img"></p>
</li>
<li><p>UML接口定义</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/RoleService.svg" alt="img"></p>
<p>表示定义了一个<code>RoleService</code>接口，它依赖了<code>Role</code>类</p>
</li>
</ol>
<p>接口</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/interface.png" alt="img"></p>
<p>接口命名规范：XxxxxService</p>
<h3 id="3-2-接口实现类"><a href="#3-2-接口实现类" class="headerlink" title="3.2 接口实现类"></a>3.2 接口实现类</h3><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/implements.svg" alt="img"></p>
<ul>
<li>接口定义的方法在实现类里必须要全部实现了，而且方法签名要一模一样（同样的方法名称、方法参数、方法返回值）</li>
<li>由于接口定义的方法都是<code>public</code>的，所以实现类的方法控制修饰符也必须是<code>public</code></li>
</ul>
<p>接口与继承的区别：</p>
<p>继承：子类只能继承一个父类</p>
<p>接口：实现类可以实现多个接口，多个接口用<code>,</code>分开</p>
<p><em>接口代码：</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EchoService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 输出任意的内容</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">echo</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>实现多接口代码：</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"><span class="comment">//1.注意导包</span></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.EchoService;</span><br><span class="line"><span class="comment">//2.多个接口用 , 隔开</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceImpl</span> </span></span><br><span class="line"><span class="class">             <span class="keyword">implements</span> <span class="title">RoleService</span>,<span class="title">EchoService</span></span>&#123;</span><br><span class="line"><span class="comment">//3.要实现接口的所有方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">echo</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实例化"><a href="#实例化" class="headerlink" title="实例化"></a>实例化</h4><p>结合实现类实例化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//总结：接口 变量名 = new 实现类（）；</span></span><br><span class="line">    RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="接口转化"><a href="#接口转化" class="headerlink" title="接口转化"></a>接口转化</h4><p>实现了多个接口，实例可以被转化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//实例化</span></span><br><span class="line">    RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类型转化：把 roleService 实例转化为 EchoService 接口类型</span></span><br><span class="line">      <span class="comment">//总结：新接口 新名称 = （新接口）被转化的名称；</span></span><br><span class="line">    EchoService echoService = (EchoService)roleService;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="UML接口实现图"><a href="#UML接口实现图" class="headerlink" title="UML接口实现图"></a>UML接口实现图</h4><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/RoleService1.svg" alt="img"></p>
<h4 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h4><ul>
<li><p>一实现类的包名在service包下并且命名为impl</p>
</li>
<li><p>实现类命名规则<code>XxxServicelmpl</code>，也就是后缀是<code>ServiceImpl</code></p>
</li>
<li><p>例：<code>com . youkeda. service. impl. RoleServiceImpl</code></p>
</li>
</ul>
<h3 id="3-2-2-任务"><a href="#3-2-2-任务" class="headerlink" title="3.2.2 任务"></a>3.2.2 任务</h3><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/RoleService2.svg" alt="img"></p>
<p>如上图，我们根据这个UML图完成代码的编写，<br>我们需要你在RoleServiceTest类里完成RoleService角色数据的添加和取。你需要得到RoleService的实例，以及调用addRole方法，最后调用getRoles方法得到所有的角色，并打印出角色集合的最后-条记录的名称和描述。测试数据如下</p>
<table>
<thead>
<tr>
<th>name</th>
<th>desc</th>
</tr>
</thead>
<tbody><tr>
<td>admin</td>
<td>系统管理员</td>
</tr>
<tr>
<td>design</td>
<td>设计师</td>
</tr>
<tr>
<td>dev</td>
<td>开发者</td>
</tr>
</tbody></table>
<p>打印的结果是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dev:开发者</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Role</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDesc</span><span class="params">(String desc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleService</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoleService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ArrayList&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceImpl</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceImpl</span> </span></span><br><span class="line"><span class="class">                <span class="keyword">implements</span> <span class="title">RoleService</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> ArrayList&lt;Role&gt; ROLES = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> ArrayList&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ROLES;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>&#123;</span><br><span class="line">    ROLES.add(role);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line">    </span><br><span class="line">    Role role = <span class="keyword">new</span> Role();</span><br><span class="line">    role.setName(<span class="string">"admin"</span>);</span><br><span class="line">    role.setDesc(<span class="string">"系统管理员"</span>);</span><br><span class="line">    roleService.addRole(role);</span><br><span class="line">    </span><br><span class="line">    role = <span class="keyword">new</span> Role();</span><br><span class="line">    role.setName(<span class="string">"design"</span>);</span><br><span class="line">    role.setDesc(<span class="string">"设计师"</span>);</span><br><span class="line">    roleService.addRole(role);</span><br><span class="line">    </span><br><span class="line">    role = <span class="keyword">new</span> Role();</span><br><span class="line">    role.setName(<span class="string">"dev"</span>);</span><br><span class="line">    role.setDesc(<span class="string">"开发者"</span>);</span><br><span class="line">    roleService.addRole(role);</span><br><span class="line">    </span><br><span class="line">    ArrayList&lt;Role&gt; roles = roleService.getRoles();</span><br><span class="line">    Role lastRole = roles.get(roles.size()-<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">        System.out.println(lastRole.getName()+<span class="string">":"</span>+lastRole.getDesc());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="3-3-Java常用接口"><a href="#3-3-Java常用接口" class="headerlink" title="3.3 Java常用接口"></a>3.3 Java常用接口</h3><ul>
<li><p>Map</p>
<ul>
<li><p>遵循<code>key:value</code>这样形式的集合 </p>
</li>
<li><p>实例化：<code>Map&lt;Integer,String&gt; map = new HashMap&lt;&gt;();</code></p>
</li>
<li><p>赋值：<code>map.put(Integer,String);</code></p>
</li>
<li><p>取值：<code>map.get(key);</code></p>
</li>
<li><p>是集合数据，可以用<code>.size();</code>   ,  for遍历</p>
</li>
</ul>
</li>
</ul>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/java-map1.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="comment">// key value 得是 Java 类型</span></span><br><span class="line"><span class="comment">//Map&lt;key,value&gt; map = new HashMap&lt;&gt;();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化Map对象</span></span><br><span class="line">Map&lt;Integer,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">map.put(<span class="number">1</span>,<span class="string">"Monday"</span>);</span><br><span class="line">map.put(<span class="number">2</span>,<span class="string">"Tuesday"</span>);</span><br><span class="line">map.put(<span class="number">3</span>,<span class="string">"Wednesday"</span>);</span><br><span class="line">map.put(<span class="number">4</span>,<span class="string">"Thursday"</span>);</span><br><span class="line">map.put(<span class="number">5</span>,<span class="string">"Friday"</span>);</span><br><span class="line">map.put(<span class="number">6</span>,<span class="string">"Saturday"</span>);</span><br><span class="line">map.put(<span class="number">7</span>,<span class="string">"Sunday"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//取值</span></span><br><span class="line">String weekText = map.get(<span class="number">3</span>);</span><br><span class="line">System.out.println(weekText);</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"> <span class="keyword">for</span> (Map.Entry&lt;Integer,String&gt; entry : map.entrySet())&#123; </span><br><span class="line"></span><br><span class="line">   System.out.println(<span class="string">"Key = "</span> + entry.getKey() + </span><br><span class="line">                  <span class="string">", Value = "</span> + entry.getValue());</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>







<ul>
<li>List<ul>
<li>是ArrayList的接口，用法和ArrayList大致相同</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串集合</span></span><br><span class="line">List&lt;String&gt; strings = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="keyword">for</span>(String str : strings)&#123;</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>3.3.3 任务</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/RoleService3.svg" alt="img"></p>
<p>任务清单</p>
<p>1.重构 RoleService</p>
<p>ArrayList换成了List</p>
<p>2.编写UserServiceImpl</p>
<p>常量USERS初始化数据：</p>
<table>
<thead>
<tr>
<th>nickName</th>
<th>userName</th>
<th>password</th>
</tr>
</thead>
<tbody><tr>
<td>爱吹风的牛</td>
<td>niu</td>
<td>Niu123</td>
</tr>
<tr>
<td>我爱西红柿</td>
<td>xihongshi</td>
<td>Didi5</td>
</tr>
</tbody></table>
<p>我们知道这个login方法是根据输入的用户名和密码来找出对应的User例。<br>我们可以使用组合条件判断哦，比如下面的伪代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password) )&#123;</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.完成UserRoleServiceTest编写</p>
<p>注意不要忘记在main函数里调用一下testRole和testUser方法哦</p>
<p>userService的login测试数据是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User user = userService.login(<span class="string">"xihongshi"</span>,<span class="string">"Didi5"</span>);</span><br></pre></td></tr></table></figure>

<p>预期打印结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dev:开发者</span><br><span class="line">我爱西红柿:xihongshi</span><br></pre></td></tr></table></figure>



<p>代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Role</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDesc</span><span class="params">(String desc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleService</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoleService</span> </span>&#123;</span><br><span class="line">  <span class="comment">//添加角色</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>;</span><br><span class="line">  <span class="comment">//获取所有角色</span></span><br><span class="line">  List&lt;Role&gt;getRoles();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceImpl</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceImpl</span> </span></span><br><span class="line"><span class="class">  <span class="keyword">implements</span> <span class="title">RoleService</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Role&gt; ROLES = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>&#123;</span><br><span class="line">      ROLES.add(role);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> ROLES;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * User</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String nickName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getNickName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> nickName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNickName</span><span class="params">(String nickName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nickName = nickName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.User;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * UserService</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">User <span class="title">login</span><span class="params">(String userName,String password)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.User;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * UserServiceImpl</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> </span></span><br><span class="line"><span class="class">  <span class="keyword">implements</span> <span class="title">UserService</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;User&gt; USERS= <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setNickName(<span class="string">"爱吹风的牛"</span>);</span><br><span class="line">        user.setUserName(<span class="string">"niu"</span>);</span><br><span class="line">        user.setPassword(<span class="string">"Niu123"</span>);</span><br><span class="line">        USERS.add(user);</span><br><span class="line"></span><br><span class="line">        user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setNickName(<span class="string">"我爱西红柿"</span>);</span><br><span class="line">        user.setUserName(<span class="string">"xihongshi"</span>);</span><br><span class="line">        user.setPassword(<span class="string">"Didi5"</span>);</span><br><span class="line">        USERS.add(user);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">login</span><span class="params">(String userName, String password)</span></span>&#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (User user : USERS)&#123;</span><br><span class="line">        <span class="keyword">if</span>( user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password) )&#123;</span><br><span class="line">           <span class="keyword">return</span> user;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.User;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.UserServiceImpl;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * UserRoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRoleServiceTest</span> </span>&#123;</span><br><span class="line"><span class="comment">//实例化接口</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> UserService userService = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        testRole();</span><br><span class="line">        testUser();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testRole</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Role role = <span class="keyword">new</span> Role();</span><br><span class="line">        role.setName(<span class="string">"admin"</span>);</span><br><span class="line">        role.setDesc(<span class="string">"系统管理员"</span>);</span><br><span class="line">        roleService.addRole(role);</span><br><span class="line"></span><br><span class="line">        role = <span class="keyword">new</span> Role();</span><br><span class="line">        role.setName(<span class="string">"design"</span>);</span><br><span class="line">        role.setDesc(<span class="string">"设计师"</span>);</span><br><span class="line">        roleService.addRole(role);</span><br><span class="line"></span><br><span class="line">        role = <span class="keyword">new</span> Role();</span><br><span class="line">        role.setName(<span class="string">"dev"</span>);</span><br><span class="line">        role.setDesc(<span class="string">"开发者"</span>);</span><br><span class="line">        roleService.addRole(role);</span><br><span class="line"></span><br><span class="line">        List&lt;Role&gt; roles = roleService.getRoles();</span><br><span class="line"></span><br><span class="line">        Role lastRole = roles.get(roles.size() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(lastRole.getName() + <span class="string">":"</span> + lastRole.getDesc());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        User user = userService.login(<span class="string">"xihongshi"</span>, <span class="string">"Didi5"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(user.getNickName() + <span class="string">":"</span> + user.getUserName());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="4-1-Java异常机制"><a href="#4-1-Java异常机制" class="headerlink" title="4.1 Java异常机制"></a>4.1 Java异常机制</h3><ul>
<li><p>编译错误</p>
</li>
<li><p>运行错误</p>
<p>异常：运行后出现错误</p>
<p>捕获：处理该异常</p>
</li>
</ul>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/ExceptionTest2.svg" alt="img"></p>
<p>异常被捕获后程序可正常运行</p>
<h3 id="4-2-常见的异常类"><a href="#4-2-常见的异常类" class="headerlink" title="4.2 常见的异常类"></a>4.2 常见的异常类</h3><ul>
<li><p>java异常类：一般命名为XxxxxException</p>
</li>
<li><p>IOException:操作输入流和输出流时可能出现的异常,这个以后我们会经常遇到</p>
</li>
<li><p>ArithmeticException:<strong>数学异常</strong>。如果把整数除以0，就会出现这种异常</p>
</li>
<li><p>NullPointerException:<strong>空指针</strong>异常。当引用变量为null时，试图访问对象的属性或方法，就会出现这种异常，例如：</p>
<p><code>String d = null;
System.out.println(d.length()); // 抛出NullPointerException</code></p>
</li>
<li><p>ArrayIndexOutOfBoundsException:<strong>下标越界异常</strong>,一般出现在数组中，比如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line">array[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">array[<span class="number">7</span>]=<span class="number">1</span>;<span class="comment">// 抛出 ArrayIndexOutOfBoundsException</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ClassCastException:当<strong>类型转化失败</strong>的时候就会出现该异常</p>
</li>
<li><p>IllegalArgumentException:非常参数异常，<strong>可以用来检查方法的参数是否合法</strong></p>
</li>
</ul>
<h4 id="多个异常捕获"><a href="#多个异常捕获" class="headerlink" title="多个异常捕获"></a>多个异常捕获</h4><p>转换字符串为数字：<code>Integer.parseInt(str)</code></p>
<p>捕获多个异常需要多次 catch</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest4</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          num = getInt(<span class="string">"小王"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串转换为数字</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于这些 Exceptions 都是继承于 Exception，所以你也可以直接用一个 Exception 捕获所有的异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest4</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          num = getInt(<span class="string">"小王"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串转换为数字</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-3-抛出异常"><a href="#4-3-抛出异常" class="headerlink" title="4.3 抛出异常"></a>4.3 抛出异常</h3><p>我们不知道如何处理一些超出预期的数据的时候，我们就可以抛出异常给上层去处理，如果上层也不知道，那么可以继续向上抛出。</p>
<p>检查参数是否合法：<code>java.lang.IllegalArgumentException</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(str == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在想要抛出的地方使用throw关键字，throw后是具体的异常实例（异常也是Java类，需要new实例化）</p>
<p><strong>异常堆栈</strong>：异常的错误显示</p>
<p><strong>RuntimeException</strong></p>
<p>与<code>Exception</code>不同，它不需要在方法上约定可能抛出的异常，而Exception需要声明</p>
<p>把IllegalArgumentException换成Exception</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest6</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = getInt(<span class="keyword">null</span>);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(str == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">运行报错：</span><br><span class="line">    未报告的异常错误java.lang.Exception; 必须对其进行捕获或声明以便抛出</span><br></pre></td></tr></table></figure>

<p>表示：需要在此方法签名上声明它</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest7</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = getInt(<span class="keyword">null</span>);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(str == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行还有错误，因为这个时候调用者没有捕获它</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            num = getInt(<span class="keyword">null</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了获取异常的信息,我们还使用了<code>e. getMessage()</code>这个可以获取异常的符串消息，这个指我们在<code>new Exception(&quot;姓名不能为空&quot;)</code>时候出传入的。</p>
<p><em>建议少用RuntimeException，因为这个在编译阶段是不做检查的，可能产生一些未知问题</em></p>
<h4 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h4><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/UserServiceException.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function">User <span class="title">login</span><span class="params">(String userName,String password)</span> <span class="keyword">throws</span> NullPointerException</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-4-自定义异常"><a href="#4-4-自定义异常" class="headerlink" title="4.4 自定义异常"></a>4.4 自定义异常</h3><p>以 UserService 为例，之前我们在 login 上抛出了 Exception，这个实在搞不明白是啥异常,所以我们创建了一个 ParamNullException</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/ParamNullException.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParamNullException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参数为空的时候异常</p>
<p>实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">login</span><span class="params">(String userName, </span></span></span><br><span class="line"><span class="function"><span class="params">                  String password)</span> <span class="keyword">throws</span> ParamNullException </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (userName == <span class="keyword">null</span> || password == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> ParamNullException();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (User user : USERS) &#123;</span><br><span class="line">    <span class="keyword">if</span> (user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password)) &#123;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>想知道具体的哪个对象是空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">login</span><span class="params">(String userName, </span></span></span><br><span class="line"><span class="function"><span class="params">                  String password)</span> <span class="keyword">throws</span> ParamNullException </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (userName == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> ParamNullException(<span class="string">"用户名为空"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (password == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> ParamNullException(<span class="string">"密码为空"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (User user : USERS) &#123;</span><br><span class="line">    <span class="keyword">if</span> (user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password)) &#123;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上运行会报错</p>
<p>因为我们调用了<code>throw new ParamNullException(&quot;密码为空&quot;);</code></p>
<p>大家知道这个new其实执行了ParamNullException 的构造函数，但是我们并没有创建这个方法，所以我们需要新增这个构造函数。在创建构造函数的时候，你得先了解一下父类的构造函数</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/exceptionMethod.png" alt="img"></p>
<p>我们创建的时候必须要执行 super 构造函数的，所以最后你应该是这样的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParamNullException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ParamNullException</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ParamNullException</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：我们还要创建一个空的构造函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ParamNullException</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h4><p>假如小王在.工作时突然犯病,<br>因而提前下班。我们来模<br>拟一下这个行为，我们还创建了两个异常类:<br>LeaveEarlyException(代表提前下班的异常)、<br>DiseaseException(代表生病的异常)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> <span class="keyword">throws</span> LeaveEarlyException </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      开门</span><br><span class="line">      工作 <span class="number">8</span>个小时 <span class="comment">// 可能会抛出异常 DiseaseException</span></span><br><span class="line">      关门</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (DiseaseException e)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> LeaveEarlyException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们应该希望不管上班过程出现任何意外，都是要关门的。所以这个时候我们就需要使用到finally 代码块，它一般和 try一起使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> <span class="keyword">throws</span> LeaveEarlyException </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      开门</span><br><span class="line">      工作 <span class="number">8</span>个小时 <span class="comment">// 可能会抛出异常 DiseaseException</span></span><br><span class="line">      关门</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (DiseaseException e)&#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> LeaveEarlyException();</span><br><span class="line">    &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">      关门</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如.上面的模拟代码，这样系统就安全啦。finally 在我们以后操作数据库或者其他流的时候会用到，其他时候用的不多所以我们这里不演示其他案例了</p>
<h3 id="5-1-内部类语法"><a href="#5-1-内部类语法" class="headerlink" title="5.1 内部类语法"></a>5.1 内部类语法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如上面的代码，内部类的格式和普通的Java类并没有什么不同</p>
<p><strong>内部类</strong>:创建在一个class内,这里的InnerTool</p>
<p>Outer我们称为<strong>外部类</strong></p>
<p>想调用内部类，要<strong>先实例化</strong>且实例化只能在<code>Outer</code>内完成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//实例化</span></span><br><span class="line">    <span class="keyword">private</span> InnerTool tool = <span class="keyword">new</span> InnerTool();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="UML类图"><a href="#UML类图" class="headerlink" title="UML类图"></a>UML类图</h4><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/InnerTool.svg" alt="img"></p>
<h4 id="内部类实例化"><a href="#内部类实例化" class="headerlink" title="内部类实例化"></a>内部类实例化</h4><p>加需求，实现3个数字的加法；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> InnerTool tool = <span class="keyword">new</span> InnerTool();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> tool.add( tool.add(a,b) , c );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>tool.add( tool.add(a,b) , c );</code></p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/tools.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.util.OuterUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtilTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       OuterUtil outer = <span class="keyword">new</span> OuterUtil();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">int</span> sum = outer.add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">       System.out.println(sum);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="访问实例内部类"><a href="#访问实例内部类" class="headerlink" title="访问实例内部类"></a>访问实例内部类</h4><p>其他类调用内部类</p>
<p>比如<code>OuterUtilTest</code>调用<code>InnerTool</code></p>
<p><code>InnerTool</code>访问控制符是public 所以：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OuterUtil.InnerTool tool = <span class="keyword">new</span> OuterUtil().<span class="keyword">new</span> InnerTool();</span><br></pre></td></tr></table></figure>

<p>先把外部类实例化：</p>
<p><strong>该内部所属的外部类.内部类 实例名  = new 外部类方法（）.new 内部类方法（）；</strong></p>
<p>实例内部类有个约束：<strong>不能有静态变量</strong></p>
<h4 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h4><p>内部类变静态内部类：增加 static 关键字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果我们声明为静态内部类后，那么就可以直接调用这个内部类，不需要先实例化外部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.util.OuterUtil;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态内部类是需要单独 import 的</span></span><br><span class="line"><span class="keyword">import</span> com.youkeda.util.OuterUtil.InnerTool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtilTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       InnerTool tool = <span class="keyword">new</span> InnerTool();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">int</span> sum = tool.add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">       System.out.println(sum);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="局部内部类"><a href="#局部内部类" class="headerlink" title="局部内部类"></a>局部内部类</h4><p>在方法里面定义一个类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tester</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">B</span></span>&#123;</span><br><span class="line">            <span class="keyword">int</span> a;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        B b = <span class="keyword">new</span> B();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在过去内部类经常用于解决子类只能继承一个父类的缺陷，相对来说在 Android 场景上使用的会多一些，但是随着 Java 语言自身的不断升级，内部类的使用场景越来越少。</p>
<h3 id="5-2-匿名类"><a href="#5-2-匿名类" class="headerlink" title="5.2 匿名类"></a>5.2 匿名类</h3><p>本质上它就是一个局部内部类，不同的是匿名类只用于类的实例化，而不是声明</p>
<p>举个例子,我们现在有一个接口A</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运用匿名类，可以实现接口类</p>
<p>实例化：<code>A a = new A(){A接口的方法};</code></p>
<p>运用：<code>a.A接口中的方法</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ATest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">      <span class="comment">//new一个接口类，方法体是接口方法，</span></span><br><span class="line">    A a = <span class="keyword">new</span> A()&#123;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">         System.out.println(<span class="string">"执行内部类"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    a.method();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相当于实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AImpl</span> <span class="keyword">implements</span> <span class="title">A</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"执行类"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>匿名类除了实现接口外，也可以是继承父类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sub</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    Sub sub = <span class="keyword">new</span> Sub()&#123;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">         System.out.println(<span class="string">"执行内部类"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    sub.print();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相当于</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubNode</span> <span class="keyword">extends</span> <span class="title">Sub</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"执行"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>类似简写的实现类</em></p>
<h4 id="随机数补充介绍"><a href="#随机数补充介绍" class="headerlink" title="随机数补充介绍"></a>随机数补充介绍</h4><p>我们在前面学习过 Math.random() 得到 0~1 之间的随机数，除了这种方案之外，还可以利用 java.util.Random 类。例子如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实例化随机数</span></span><br><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="comment">// 得到0-7之间的随机数</span></span><br><span class="line"><span class="keyword">int</span> num = r.nextInt(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果想得到 0-8 之间的随机数</span></span><br><span class="line"><span class="keyword">int</span> num = r.nextInt(<span class="number">9</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果想得到50-100之间的随机数</span></span><br><span class="line"><span class="keyword">int</span> num = r.nextInt(<span class="number">51</span>)+<span class="number">50</span>;</span><br><span class="line"><span class="comment">// 这个 51 = 100 - 50 + 1</span></span><br></pre></td></tr></table></figure>



<h3 id="5-3-接口中的默认方法"><a href="#5-3-接口中的默认方法" class="headerlink" title="5.3 接口中的默认方法"></a>5.3 接口中的默认方法</h3><p>抽象类：首先是一个父类，他的实例化必须有子类</p>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个武器的抽象类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Weapon</span></span>&#123;</span><br><span class="line">  <span class="comment">// 抽象方法：攻击</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>关键字<code>abstract</code>：需要声明在class类上以及需要抽象的方法上</p>
<p><em>抽象类也可以添加普通的方法从而方便子类去复用方法</em></p>
<p>声明抽象类后，它的子类必须实现抽象方法，如同实现接口一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoldenBar</span> <span class="keyword">extends</span> <span class="title">Weapon</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"使用金箍棒进行劈一棍"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="抽象类UML图"><a href="#抽象类UML图" class="headerlink" title="抽象类UML图"></a>抽象类UML图</h4><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/weapon.svg" alt="img"></p>
<h4 id="接口的默认方法"><a href="#接口的默认方法" class="headerlink" title="接口的默认方法"></a>接口的默认方法</h4><p>接口的默认方法也解决另外一个常见的重构问题，就是接口新增一个方法不需要所有子类修改，起到平滑升级的目的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"我是一辆车!"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>default</code>关键字：这个时候实现类如果没有自己的实现逻辑，就可以不用覆盖默认方法。</p>
<p><strong>总结：用了<code>default</code>关键字后，接口可以定义方法体，实现类可覆盖可不覆盖不会报错，main（）；可以直接调用接口里面定义的方法运行</strong></p>
<h3 id="6-1-对象的关系"><a href="#6-1-对象的关系" class="headerlink" title="6.1 对象的关系"></a>6.1 对象的关系</h3><h4 id="聚合关系-Aggregation"><a href="#聚合关系-Aggregation" class="headerlink" title="聚合关系(Aggregation)"></a>聚合关系(Aggregation)</h4><p>聚合是一种特殊的关联(Association)形式，表示两个对象之间的所属(has-a)关系。所有者对象称为<strong>聚合对象</strong>，它的类称为<strong>聚合类</strong>；从属对象称为<strong>被聚合对象</strong>，它的类称为称为<strong>被聚合类</strong>。</p>
<p>例如，一个公司有很多员工就是公司类 Company 和员工类 Employee 之间的一种聚合关系。被聚合对象和聚合对象有着各自的生命周期，即<em>如果公司倒闭并不影响员工的存在</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Company</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Employee&gt; employees;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="聚合关系UML图"><a href="#聚合关系UML图" class="headerlink" title="聚合关系UML图"></a>聚合关系UML图</h4><p>注意箭头</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/aggregation.svg" alt="img"></p>
<h4 id="组合关系-Composition"><a href="#组合关系-Composition" class="headerlink" title="组合关系(Composition)"></a>组合关系(Composition)</h4><p>聚合是一种较弱形式的对象包含(一个对象包含另一个对象)关系，较强形式是组合(Composition)。在组合关系中包含对象负责被包含对象的创建以及生命周期，即当包含对象被销毁时被包含对象也会不复存在。</p>
<p>例如一辆汽车拥有一个引擎是汽车类 Car 与引擎类 Engine 的组合关系。下面是组合的一些例子。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 实例化一个不可变的属性 engine</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Engine engine = <span class="keyword">new</span> Engine();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Engine</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="组合关系UML图"><a href="#组合关系UML图" class="headerlink" title="组合关系UML图"></a>组合关系UML图</h4><p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/composition.svg" alt="img"></p>
<h3 id="依赖关系-Dependency"><a href="#依赖关系-Dependency" class="headerlink" title="依赖关系(Dependency)"></a>依赖关系(Dependency)</h3><p>依赖(Dependency)描述的是一个类的引用用作另一个类的方法的参数。</p>
<p>如，我们之前使用的 UserService 和 User 之间就是依赖关系,大家注意看一下线条，依赖和关联的区别在于有没有属性存在，<em>依赖的类是有属性变量的</em></p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/dependency.svg" alt="img"></p>
<h4 id="继承-Inheritance-实现-Realization-关系"><a href="#继承-Inheritance-实现-Realization-关系" class="headerlink" title="继承(Inheritance)/实现(Realization)关系"></a>继承(Inheritance)/实现(Realization)关系</h4><p>继承和实现的 UML 图是一样的表达了子类继承父类，实现类实现接口的关系</p>
<p><img src= "/img/loading.gif" data-src="https://style.youkeda.com/img/ham/course/j2/bar.svg" alt="img"></p>
<h3 id="7-1-List和数组的互换"><a href="#7-1-List和数组的互换" class="headerlink" title="7.1 List和数组的互换"></a>7.1 List和数组的互换</h3><p>专门处理数组和集合的类<code>java.util.Arrays</code></p>
<h4 id="static-List-asList-T…-a"><a href="#static-List-asList-T…-a" class="headerlink" title="static List asList(T… a)"></a>static List asList(T… a)</h4><p>asList 方法是把任意的相同对象实例转变为 List。</p>
<p>T 是泛型类型 : 泛型代表可以是任意的 Java 对象，比如 String、Course 等。泛型如果要使用，还<strong>需要在方法名前面再额外声明</strong>，比如我们这里的<code>&lt;T&gt;</code></p>
<p><code>...</code>是可变参数的一种声明  ： 方法参数不确定的时候可以使用。和数组很像</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function">List&lt;T&gt; <span class="title">asList</span><span class="params">(T[] a)</span></span></span><br></pre></td></tr></table></figure>

<p>案例分析<code>List&lt;Integer&gt; lists = Arrays.asList(intArr);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysMain</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 数字数组</span></span><br><span class="line">    Integer[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line">    <span class="comment">// 转化数组为 list</span></span><br><span class="line">      </span><br><span class="line">    List&lt;Integer&gt; lists = Arrays.asList(intArr);</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">    System.out.println(<span class="string">"集合的长度是: "</span> + lists.size());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong> Arrays.asList() 的参数值必须是<strong>对象数组</strong>（例如<code>Integer[]</code>）,才支持泛型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line"><span class="comment">// 不能用泛型</span></span><br><span class="line">List lists = Arrays.asList(intArr);</span><br></pre></td></tr></table></figure>

<p>也就是说，对于基本类型（小写的 <code>byte,short,int,long,float,double,boolean</code>）的数组（例如 <code>int[]</code>），<code>lists</code>包含了什么类型的数据，是不清楚的。</p>
<p>所以 不要用  Arrays.asList()  转换 <strong>基本类型数组</strong></p>
<p><code>...</code>效果  <code>...</code>就是代码中的”小王”,”小明”；”小王”,”小明”,”小李”；不确定参数个数、集合长度时候建议用这种声明办法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysMain</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// 转化数组为 list</span></span><br><span class="line">   List&lt;String&gt; lists = Arrays.asList(<span class="string">"小王"</span>,<span class="string">"小明"</span>);</span><br><span class="line">   System.out.println(<span class="string">"集合的长度是: "</span> + lists.size());</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 转化数组为 list2</span></span><br><span class="line">   List&lt;String&gt; lists2 = Arrays.asList(<span class="string">"小王"</span>,<span class="string">"小明"</span>,<span class="string">"小李"</span>);</span><br><span class="line">   System.out.println(<span class="string">"集合2的长度是: "</span> + lists2.size());</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="List转为数组"><a href="#List转为数组" class="headerlink" title="List转为数组"></a>List转为数组</h4><p>toArray方法,不用导包</p>
<p><code>Integer[] arr = al.toArray(new Integer[]{});</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">List2ArrayTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; al = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        al.add(<span class="number">10</span>);</span><br><span class="line">        al.add(<span class="number">20</span>);</span><br><span class="line">        al.add(<span class="number">30</span>);</span><br><span class="line">        al.add(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转化为数组</span></span><br><span class="line">       Integer[] arr = al.toArray(<span class="keyword">new</span> Integer[]&#123;&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Integer x : arr) &#123;</span><br><span class="line">          System.out.println(x + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="List转为字符串"><a href="#List转为字符串" class="headerlink" title="List转为字符串"></a>List转为字符串</h4><p><code>String.join(&quot;split&quot;,list)</code>方法</p>
<p><code>String string = String.join(&quot;,&quot;, list);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Array2StringTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建字符串集合</span></span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">"Geeks"</span>, <span class="string">"ForGeeks"</span>, <span class="string">"GeeksForGeeks"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转化集合为字符串， 使用 `,` 分割</span></span><br><span class="line">        String string = String.join(<span class="string">","</span>, list);</span><br><span class="line">        <span class="comment">// 打印结果</span></span><br><span class="line">        System.out.println(<span class="string">"字符串是: "</span> + string);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者写成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//*  表示把java.util包下的全部导入（List、ArrayList、Arrays都导入了）</span></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Array2StringTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 字符串数组</span></span><br><span class="line">        String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"Geeks"</span>, <span class="string">"ForGeeks"</span>, <span class="string">"GeeksForGeeks"</span>&#125;;</span><br><span class="line">        <span class="comment">// 创建字符串集合</span></span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(arr);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转化集合为字符串， 使用 `,` 分割</span></span><br><span class="line">        String string = String.join(<span class="string">","</span>, list);</span><br><span class="line">        <span class="comment">// 打印结果</span></span><br><span class="line">        System.out.println(<span class="string">"字符串是: "</span> + string);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="7-2-排序"><a href="#7-2-排序" class="headerlink" title="7.2 排序"></a>7.2 排序</h3><h4 id="Arrays-sort"><a href="#Arrays-sort" class="headerlink" title="Arrays.sort()"></a>Arrays.sort()</h4><p>导包：<code>java.util.Arrays;</code> </p>
<p><code>sort()</code>方法默认  从小到大排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysSortTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get the Array</span></span><br><span class="line">        Integer[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// To sort the array using normal sort-</span></span><br><span class="line">        Arrays.sort(intArr);</span><br><span class="line">        </span><br><span class="line"><span class="comment">//注意：使用了  toString（）  方法进行打印</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"Integer Array: "</span></span><br><span class="line">                           + Arrays.toString(intArr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line">    Integer Array: [<span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">22</span>, <span class="number">35</span>]</span><br></pre></td></tr></table></figure>

<h4 id="Arrays-toString-的方法签名如下"><a href="#Arrays-toString-的方法签名如下" class="headerlink" title="Arrays.toString 的方法签名如下"></a>Arrays.toString 的方法签名如下</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">boolean</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">byte</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">char</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">double</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">float</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">long</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(Object[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">short</span>[] arr)</span></span></span><br></pre></td></tr></table></figure>

<h4 id="自定义排序"><a href="#自定义排序" class="headerlink" title="自定义排序"></a>自定义排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(T[] a, Comparator&lt; <span class="keyword">super</span> T&gt; c)</span>:</span></span><br></pre></td></tr></table></figure>

<p>我们可以在第二个参数里传递自定义比较类来确定排序</p>
<p><code>java.util.Comparator</code>是一个接口</p>
<p>该接口方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">//返回值是 int，我们根据返回值 &gt;0、=0、&lt;0 进行重新排序</span></span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果 第一个参数：o1 &gt; 第二个参数：o2 则执行的是升序，o1 &lt; o2 则执行降序</p>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysSortTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Integer[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自定义排序</span></span><br><span class="line">        Arrays.sort(intArr, <span class="keyword">new</span> Comparator&lt;Integer&gt;()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span></span>&#123;</span><br><span class="line">                <span class="comment">// 判断 o2&gt;o1，执行降序排序</span></span><br><span class="line">                <span class="comment">//前面的o1-后面的o2 ：从小到大</span></span><br><span class="line">                <span class="comment">//后面的o2-前面的o1 : 从大到小</span></span><br><span class="line">                <span class="keyword">return</span> o2-o1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Integer Array: "</span></span><br><span class="line">                           + Arrays.toString(intArr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">    Integer Array: [<span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">22</span>, <span class="number">35</span>]</span><br></pre></td></tr></table></figure>



<h4 id="集合的排序"><a href="#集合的排序" class="headerlink" title="集合的排序"></a>集合的排序</h4><p>用<code>java.util.Collections</code>工具，用sort方法来处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(List&lt;T&gt; list, Comparator&lt;? <span class="keyword">super</span> T&gt; c)</span></span></span><br></pre></td></tr></table></figure>

<p>注意：如果执行了 Collections.sort 方法，list 的顺序会直接被修改为排序后</p>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> rollNo;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> rollNo, String name,</span></span></span><br><span class="line"><span class="function"><span class="params">                               String address)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.rollNo = rollNo;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 省略了 getter、setter</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写 toString 方法，用于后面的打印</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.rollNo + <span class="string">" "</span> + <span class="keyword">this</span>.name +</span><br><span class="line">                           <span class="string">" "</span> + <span class="keyword">this</span>.address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>test</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListSortTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Student&gt; ar = <span class="keyword">new</span> ArrayList&lt;Student&gt;();</span><br><span class="line">    ar.add(<span class="keyword">new</span> Student(<span class="number">111</span>, <span class="string">"bbbb"</span>, <span class="string">"london"</span>));</span><br><span class="line">    ar.add(<span class="keyword">new</span> Student(<span class="number">131</span>, <span class="string">"aaaa"</span>, <span class="string">"nyc"</span>));</span><br><span class="line">    ar.add(<span class="keyword">new</span> Student(<span class="number">121</span>, <span class="string">"cccc"</span>, <span class="string">"jaipur"</span>));</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"原始集合"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ar.size(); i++) &#123;</span><br><span class="line">      System.out.println(ar.get(i));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 实现升序排序</span></span><br><span class="line">    Collections.sort(ar, <span class="keyword">new</span> Comparator&lt;Student&gt;()&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Student a, Student b)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 第一个参数的学号 &gt; 第二个参数的学号</span></span><br><span class="line">          </span><br><span class="line">        <span class="keyword">return</span> a.getRollNo() - b.getRollNo();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"\n排序后的集合"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ar.size(); i++) &#123;</span><br><span class="line">      System.out.println(ar.get(i));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="7-3-集合操作"><a href="#7-3-集合操作" class="headerlink" title="7.3 集合操作"></a>7.3 集合操作</h3><h4 id="删除-remove"><a href="#删除-remove" class="headerlink" title="删除 remove"></a>删除 remove</h4><p>集合既然可以添加也可以删除，如果我们要移除某一个元素</p>
<p><code>List.remove(int index)</code></p>
<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListRemoveDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list.add(<span class="string">"for"</span>);</span><br><span class="line">        list.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list.add(<span class="string">"10"</span>);</span><br><span class="line">        list.add(<span class="string">"20"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"集合: "</span> + list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除第4条记录</span></span><br><span class="line">        list.remove(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"修改后的集合: "</span> + list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="合并-addAll"><a href="#合并-addAll" class="headerlink" title="合并 addAll"></a>合并 addAll</h4><p>两个集合，合并为一个集合    <code>A.addAll(B)</code>把B合并到A里面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListAddAllDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list1.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list1.add(<span class="string">"For"</span>);</span><br><span class="line">        list1.add(<span class="string">"ForGeeks"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ArrayList 1: "</span></span><br><span class="line">                           + list1);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list2.add(<span class="string">"GeeksForGeeks"</span>);</span><br><span class="line">        list2.add(<span class="string">"A computer portal"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ArrayList 2: "</span></span><br><span class="line">                           + list2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 合并 list2 到 list1 集合中</span></span><br><span class="line">        list1.addAll(list2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Joined ArrayLists: "</span></span><br><span class="line">                           + list1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="截取-subList"><a href="#截取-subList" class="headerlink" title="截取 subList"></a>截取 subList</h4><p>从集合里截取一段内容，我们就得需要 <code>subList(int begin,int end)</code> 方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubListDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list.add(<span class="string">"for"</span>);</span><br><span class="line">        list.add(<span class="string">"Geeks1"</span>);</span><br><span class="line">        list.add(<span class="string">"10"</span>);</span><br><span class="line">        list.add(<span class="string">"20"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"集合: "</span> + list);</span><br><span class="line"><span class="comment">//截取第三（包含）（0 1 2）条到第四条（不含）</span></span><br><span class="line">        List&lt;String&gt; arrlist2 = list.subList(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"修改后的集合: "</span> + arrlist2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">    </span><br><span class="line">集合: [Geeks, <span class="keyword">for</span>, Geeks1, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">修改后的集合: [Geeks1, <span class="number">10</span>]</span><br></pre></td></tr></table></figure>

</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">John Doe</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">http://yoursite.com/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/07/23/%E6%96%B0Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"><img class="prev-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">新Java网络编程</div></div></a></div><div class="next-post pull-right"><a href="/2020/07/15/post-name/"><img class="next-cover" data-src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">post_name</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By John Doe</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font_plus" title="Increase Font Size"><i class="fas fa-plus"></i></button><button id="font_minus" title="Decrease Font Size"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="Setting"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script></body></html>