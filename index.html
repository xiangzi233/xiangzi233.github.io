<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-数据结构与算法入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2020-07-26T08:51:52.000Z" itemprop="datePublished">2020-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/">数据结构与算法入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="2-1-大O记法"><a href="#2-1-大O记法" class="headerlink" title="2.1 大O记法"></a>2.1 大O记法</h3><p><strong>复杂度分析</strong>（大O记法）：不用具体的测试数据和测试环境，就可以粗略地估计算法执行效率的方法。</p>
<p><strong>时间复杂度</strong>：程序运行时间</p>
<p><strong>空间复杂度</strong>：程序运行所消耗的内存</p>
<ul>
<li><p>单位时间unit_time<strong>：计算机可以通过一步跳到任意一个索引的位置进行数据的读取，大 O 记法，称作为</strong>常数时间—O(1)**</p>
</li>
<li><p>猜数字的游戏需要的步数为log(N)，我们称为<strong>对数时间—O(log(N))</strong>。</p>
</li>
<li><p>N的阶乘</p>
</li>
</ul>
<p><img src="https://style.youkeda.com/img/course/a1/2/2-2-4.svg" alt="img"></p>
<p>一共的时间复杂度为2N + 2</p>
<p>大 O 记法<em>忽略常量</em>，我们称作为<strong>线性时间—O(N )</strong>。</p>
<ul>
<li><p>计算一个数组中的所有组合方式<strong>指数时间–O(N^2)</strong></p>
<p>例如：我们传入一个数组{“hello”, “you”, “ke”, “da”}，里面有 4 个英文词语，我们希望两两组合，那么一共有哪些组合情况呢？</p>
</li>
</ul>
<p><img src="https://style.youkeda.com/img/course/a1/2/2-2-3.svg" alt="img"></p>
<p><img src="https://style.youkeda.com/img/course/a1/2/2-2-5.svg" alt="img"></p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p><strong>大 O 记法，只保留最大趋势公式，指数 &gt; 线性 &gt; 对数 &gt; 常数。</strong></p>
<p>因此我们在计算时间复杂度的时候，其实并不需要一行行看代码，只需要关注<strong>for 循环嵌套</strong>情况。</p>
<h3 id="2-性能优化小案例"><a href="#2-性能优化小案例" class="headerlink" title="2 性能优化小案例"></a>2 性能优化小案例</h3><h4 id="二分法查找"><a href="#二分法查找" class="headerlink" title="二分法查找"></a>二分法查找</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Find</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span>[] array, <span class="keyword">int</span> aim)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 初始化left = 最左侧, right = 最右侧</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = array.length;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 当left &gt; right则表示遍历完成</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">      <span class="comment">// 获取中间的值</span></span><br><span class="line">      <span class="keyword">int</span> middle = (left + right) / <span class="number">2</span>;</span><br><span class="line">      <span class="keyword">int</span> middleValue = array[middle];</span><br><span class="line">      <span class="keyword">if</span> (middleValue == aim) &#123;</span><br><span class="line">        <span class="comment">// 已经找到目标</span></span><br><span class="line">        <span class="keyword">return</span> middle;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (middleValue &lt; aim) &#123;</span><br><span class="line">        <span class="comment">// 目标在middle的右侧，重置left</span></span><br><span class="line">        left = middle + <span class="number">1</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 目标在middle的左侧，重置right</span></span><br><span class="line">        right = middle - <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] array = &#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">22</span>, <span class="number">75</span>, <span class="number">80</span>, <span class="number">90</span>, <span class="number">100</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> result1 = find(array, <span class="number">22</span>);</span><br><span class="line">    <span class="keyword">if</span> (result1 == -<span class="number">1</span>) &#123;</span><br><span class="line">      System.out.println(<span class="string">"22 不存在数组中"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">"22 存在数组中，索引值是 "</span> + result1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> result2 = find(array, <span class="number">50</span>);</span><br><span class="line">    <span class="keyword">if</span> (result2 == -<span class="number">1</span>) &#123;</span><br><span class="line">      System.out.println(<span class="string">"50 不存在数组中"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">"50 存在数组中，索引值是 "</span> + result2);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="二次问题"><a href="#二次问题" class="headerlink" title="二次问题"></a>二次问题</h4><p>标记法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Second</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;Integer&gt; <span class="title">repeat</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</span><br><span class="line">    ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span>[] exists = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">11</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">      <span class="keyword">int</span> value = array[i];</span><br><span class="line">      <span class="comment">// 如果当前位置已经为1，则表示重复</span></span><br><span class="line">      <span class="keyword">if</span> (exists[value] == <span class="number">1</span>) &#123;</span><br><span class="line">        result.add(value);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 否则将当前位置设置为1</span></span><br><span class="line">        exists[value] = <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] array = &#123;<span class="number">0</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">10</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    System.out.println(repeat(array));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-1计算机内存原理"><a href="#3-1计算机内存原理" class="headerlink" title="3.1计算机内存原理"></a>3.1计算机内存原理</h3><p>存储单元：相当于下图中的每一个小方格</p>
<p>内存地址：相当于下图中每一个格子的编号</p>
<p><img src="https://style.youkeda.com/img/course/a1/3/1-1.svg" alt="img"></p>
<p>扩展知识：连续两个方格内存地址差 8</p>
<p>因为我们现在电脑基本是 64 位，64 位表示内存存储最小使用单位为 64 个 bit，也就是 8 个 byte。</p>
<h3 id="3-2-数组-存储和读取"><a href="#3-2-数组-存储和读取" class="headerlink" title="3.2 数组-存储和读取"></a>3.2 数组-存储和读取</h3><ul>
<li>数组（Array）是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据<ul>
<li>线性数据结构：表示数组中数据都是按前后这种线性顺序排列的。</li>
<li>相同数据类型：数组中的每个值的数据类型都相同。</li>
</ul>
</li>
</ul>
<p><img src="https://style.youkeda.com/img/course/a1/3/1-1-5.svg" alt="img"></p>
<ul>
<li><p>连续内存空间：靠前并挨着在一排</p>
</li>
<li><p>数组读取</p>
<ul>
<li>start_address：数组开始地址，每个数组相对应的内存地址。</li>
<li>item_size :  每个元素需要的内存空间大小。</li>
</ul>
</li>
</ul>
<p><img src="https://style.youkeda.com/img/course/a1/3/1-1-4.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一个元素地址</span></span><br><span class="line">start_address</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二个元素地址</span></span><br><span class="line">start_address + item_size * <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三个元素地址</span></span><br><span class="line">start_address + item_size * <span class="number">2</span></span><br><span class="line"><span class="comment">// 第N个元素地址</span></span><br><span class="line">start_address + item_size * (N - <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h3 id="3-3数组-插入和删除"><a href="#3-3数组-插入和删除" class="headerlink" title="3.3数组-插入和删除"></a>3.3数组-插入和删除</h3><h4 id="数组插入"><a href="#数组插入" class="headerlink" title="数组插入"></a>数组插入</h4><p>尾部插入</p>
<p><img src="https://style.youkeda.com/img/course/a1/3/3-1.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Schedule</span> </span>&#123;</span><br><span class="line">  ......</span><br><span class="line">  <span class="comment">// 末尾插入</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(String task)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.array[<span class="keyword">this</span>.size] = task;</span><br><span class="line">    <span class="keyword">this</span>.size++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>中间插入</p>
<p><img src="https://style.youkeda.com/img/course/a1/3/3-3.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第三个位置插入</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert3Position</span><span class="params">(String task)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 索引值为3的地方</span></span><br><span class="line">  <span class="keyword">int</span> index = <span class="number">3</span>;</span><br><span class="line">  <span class="comment">// 第一步：从右侧开始依次右移</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="keyword">this</span>.size - <span class="number">1</span>; i &gt;= index; i--) &#123;</span><br><span class="line">    <span class="keyword">this</span>.array[i + <span class="number">1</span>] = <span class="keyword">this</span>.array[i];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 第二部：插入元素</span></span><br><span class="line">  <span class="keyword">this</span>.array[index] = task;</span><br><span class="line">  <span class="comment">// 调整size</span></span><br><span class="line">  <span class="keyword">this</span>.size++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数组删除</p>
<p><img src="https://style.youkeda.com/img/course/a1/3/3-6.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">YKDArrayList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 此处需要声明一个数组，作为底层存储</span></span><br><span class="line">  <span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">20</span>];</span><br><span class="line">  <span class="keyword">int</span> size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">YKDArrayList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 获取数组的长度</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.size;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 数组获取某个索引值</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.array[index];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 添加元素在末尾 </span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//相当于调用传入this.size</span></span><br><span class="line">    <span class="keyword">this</span>.add(<span class="keyword">this</span>.size, element);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 添加元素在中间</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> element)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="keyword">this</span>.size) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 元素依次右移</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="keyword">this</span>.size - <span class="number">1</span>; i &gt;= index; i--) &#123;</span><br><span class="line">      <span class="keyword">this</span>.array[i + <span class="number">1</span>] = <span class="keyword">this</span>.array[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 插入元素</span></span><br><span class="line">    <span class="keyword">this</span>.array[index] = element;</span><br><span class="line">    <span class="comment">// 调整size</span></span><br><span class="line">    <span class="keyword">this</span>.size++;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 删除元素</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; <span class="keyword">this</span>.size - <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 元素依次左移</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; <span class="keyword">this</span>.size - <span class="number">1</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">this</span>.array[i] = <span class="keyword">this</span>.array[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 删除最后一个元素</span></span><br><span class="line">    <span class="keyword">this</span>.array[<span class="keyword">this</span>.size - <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 调整size</span></span><br><span class="line">    <span class="keyword">this</span>.size--;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    YKDArrayList ykdArrayList = <span class="keyword">new</span> YKDArrayList();</span><br><span class="line">    ykdArrayList.add(<span class="number">1</span>);</span><br><span class="line">    ykdArrayList.add(<span class="number">2</span>);</span><br><span class="line">    ykdArrayList.add(<span class="number">3</span>);</span><br><span class="line">    ykdArrayList.add(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">    ykdArrayList.add(<span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    ykdArrayList.remove(<span class="number">3</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>字符串回文判断</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 判断是否为回文字符串</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPalindrome</span><span class="params">(String content)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 开始和结尾开始，依次往中间推进</span></span><br><span class="line">    <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> end = content.length() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (start &lt; end) &#123;</span><br><span class="line">      <span class="comment">// 一旦出现不同的字符，则返回错误</span></span><br><span class="line">      <span class="keyword">if</span> (content.charAt(start) != content.charAt(end)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      start++;</span><br><span class="line">      end--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    System.out.println(isPalindrome(<span class="string">"洞帘水挂水帘洞"</span>));</span><br><span class="line">    System.out.println(isPalindrome(<span class="string">"上海自来水来自海上"</span>));</span><br><span class="line">    System.out.println(isPalindrome(<span class="string">"maddam"</span>));</span><br><span class="line">    System.out.println(isPalindrome(<span class="string">"m"</span>));</span><br><span class="line">    System.out.println(isPalindrome(<span class="string">"maxcam"</span>));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/" data-id="ckd5k3gnn0005a8v2790l1tvm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-新Java网络编程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/23/%E6%96%B0Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="article-date">
  <time datetime="2020-07-23T07:38:46.000Z" itemprop="datePublished">2020-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/23/%E6%96%B0Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">新Java网络编程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-1-协议"><a href="#1-1-协议" class="headerlink" title="1.1 协议"></a>1.1 协议</h3><p><img src="https://qgt-document.oss-cn-beijing.aliyuncs.com/PY2/py2-1/ht%3Ahts%E5%8C%BA%E5%88%AB.jpg" alt="img"></p>
<h3 id="1-2-URL"><a href="#1-2-URL" class="headerlink" title="1.2 URL"></a>1.2 URL</h3><p>Uniform Resource Locator（统一定位资源符）</p>
<p><img src="D:%5Copt%5CGit%5Cdownloads%5Cxiangzi233.github.io%5Csource%5C_posts%5Cpost-name%5Cpy2-1-2.png" alt="URL格式"></p>
<p>格式说明：</p>
<ul>
<li><p>协议类型与域名之间以 <code>://</code>（固定写法）分隔。</p>
</li>
<li><p>路径（英文常称为<code>path</code>）以单斜杠<code>/</code>开头，中间每层的分隔符也是单斜杠<code>/</code> 。</p>
<ul>
<li>路径相当于一层一层的文件夹。但要注意与windows 的文件夹分隔符<code>\</code>不要混淆了。</li>
</ul>
</li>
<li><p>参数：</p>
<ul>
<li>路径与参数之间用 <code>?</code> 分隔。看到问号 <code>?</code>就知道后面的内容就是参数了。</li>
<li>多个参数之间用<code>&amp;</code> 分隔。</li>
<li>参数用“参数名=参数值”（<code>key=value</code>）的格式表示。</li>
</ul>
</li>
</ul>
<h4 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h4><p>例如    <a href="https://www.douban.com:443/gallery/topic/116390/?from=hot_topic_note&amp;sort=new" target="_blank" rel="noopener">https://www.douban.com:443/gallery/topic/116390/?from=hot_topic_note&amp;sort=new</a></p>
<p>域名后的 :<code>443</code>表示网站的端口号。HTTP 协议默认的端口号是<code>80</code> ，HTTPS 协议默认的端口号是 <code>443</code> 。默认的端口号在 URL 中是可以省略的，其它的端口号就必须要写明。</p>
<h4 id="路径"><a href="#路径" class="headerlink" title="路径"></a>路径</h4><ol>
<li>相对路径</li>
</ol>
<p><code>gallery/topic/116390/?from=hot_topic_note&amp;sort=new</code></p>
<p>不是以斜杠 <code>/</code>开头的路径，表示相对路径</p>
<p>书写 URL 时一定要写以斜杠 <code>/</code> 开头的绝对路径；收到别人给的不是以斜杠<code>/</code>开头的路径时，也要确认清楚。</p>
<ol start="2">
<li>默认路径</li>
</ol>
<p>没有输入路径时，表示请求网站的默认页面，那么服务器就会返回一个默认页面给浏览器。至于具体默认页面是什么页面，是由服务器决定的，通常服务器默认的页面是首页。</p>
<h3 id="2-1Get请求-无参数"><a href="#2-1Get请求-无参数" class="headerlink" title="2.1Get请求 - 无参数"></a>2.1Get请求 - 无参数</h3><p>在程序里面发请求，获取结果</p>
<h4 id="安装依赖库"><a href="#安装依赖库" class="headerlink" title="安装依赖库"></a>安装依赖库</h4><p>安装一个库： Okhttp3，这是一个非常流行的 HTTP 库，可以简单、快速的实现 HTTP 调用。</p>
<p>在 pom.xml 文件中增加依赖：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;okhttp&lt;/artifactId&gt;</span><br><span class="line"> &lt;version&gt;4.1.0&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>唯一的 <code>&lt;dependencies&gt;</code> 标签中，包含多个 <code>&lt;dependency&gt;</code> 标签，每一个 <code>&lt;dependency&gt;</code> 标签表示一个依赖库。书写时注意嵌套顺序.</p>
<h4 id="抓取内容"><a href="#抓取内容" class="headerlink" title="抓取内容"></a>抓取内容</h4><p>抓取“中国科学技术大学”首页的内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意先导入依赖</span></span><br><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetPage</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).build();</span><br><span class="line">    <span class="comment">// 使用client去请求</span></span><br><span class="line">    Call call = okHttpClient.newCall(request);</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 获得返回结果</span></span><br><span class="line">      result = call.execute().body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    GetPage getPage = <span class="keyword">new</span> GetPage();</span><br><span class="line">    String url = <span class="string">"https://www.ustc.edu.cn/"</span>;</span><br><span class="line">    String content = getPage.getContent(url);</span><br><span class="line">  </span><br><span class="line">    System.out.println(<span class="string">"call "</span> + url + <span class="string">" , content="</span> + content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用 Okhttp3 完成页面请求，需要三大步骤：</p>
<ul>
<li><p>实例化<code>OkHttpClient</code>。使用 <code>OkHttpClient okHttpClient = new OkHttpClient();</code> 代码.</p>
</li>
<li><p>执行调用</p>
<ul>
<li>执行调用</li>
<li>在执行调用之前，需要实例化一个 <code>Request</code> 对象，作用是定义请求的各种参数，<code>Request request = new Request.Builder().url(url).build();</code></li>
<li>然后构建调用对象<code>Call call = okHttpClient.newCall(request);</code></li>
<li>最后执行调用，如果调用失败可能抛异常，所以必须抓取异常。<code>call.execute()</code> 就是执行调用的代码。</li>
</ul>
</li>
<li><p><code>call.execute()</code>返回的其实是一个执行的结果对象，调用对象的方法即可获取返回的字符串内容(可以取得服务器返回的具体内容):<code>call.execute().body().string();</code></p>
</li>
</ul>
<h4 id="API"><a href="#API" class="headerlink" title="API"></a>API</h4><ul>
<li><p>API全称 Application Programming Interface，应用程序接口</p>
</li>
<li><p>API一般是指一些预先定义的函数</p>
</li>
<li><p><strong>目的</strong>是可以为开发人员<strong>快速调用某一程序</strong></p>
</li>
<li><p>而无需了解和访问源码，或理解它内部工作机制的细节。</p>
</li>
<li><p>输出中,我们在 console 中看到的大量的文本内容，这是给浏览器识别的内容，包含了很多无效的内容。所以很多时候，我们使用程序调用 <code>API</code>，获取到需要的数据。</p>
</li>
</ul>
<p><strong>调用 API</strong></p>
<p>本质： URL</p>
<p>返回内容有区别，没有大量多余字符</p>
<p>API返回内容：<code>数据</code>、</p>
<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">查询杭州余杭天气API：</span><br><span class="line">http:<span class="comment">//www.weather.com.cn/data/sk/101210106.html</span></span><br><span class="line">返回结果：</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"weatherinfo"</span>: &#123;</span><br><span class="line">    <span class="string">"city"</span>: <span class="string">"浣欐澀"</span>,</span><br><span class="line">    <span class="string">"cityid"</span>: <span class="string">"101210106"</span>,</span><br><span class="line">    <span class="string">"temp"</span>: <span class="string">"24"</span>,</span><br><span class="line">    <span class="string">"WD"</span>: <span class="string">"鍖楅"</span>,</span><br><span class="line">    <span class="string">"WS"</span>: <span class="string">"灏忎簬3绾�"</span>,</span><br><span class="line">    <span class="string">"SD"</span>: <span class="string">"77%"</span>,</span><br><span class="line">    <span class="string">"AP"</span>: <span class="string">"1000.7hPa"</span>,</span><br><span class="line">    <span class="string">"njd"</span>: <span class="string">"鏆傛棤瀹炲喌"</span>,</span><br><span class="line">    <span class="string">"WSE"</span>: <span class="string">"&lt;3"</span>,</span><br><span class="line">    <span class="string">"time"</span>: <span class="string">"17:50"</span>,</span><br><span class="line">    <span class="string">"sm"</span>: <span class="string">"3.6"</span>,</span><br><span class="line">    <span class="string">"isRadar"</span>: <span class="string">"0"</span>,</span><br><span class="line">    <span class="string">"Radar"</span>: <span class="string">""</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-2-Get请求-有参数"><a href="#2-2-Get请求-有参数" class="headerlink" title="2.2 Get请求 - 有参数"></a>2.2 Get请求 - 有参数</h3><p>案例：</p>
<p>下列查询 IP 地址信息的 API ：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//ip-api.com/json/?lang=zh-CN</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApiAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).build();</span><br><span class="line">    <span class="comment">// 使用client去请求</span></span><br><span class="line">    Call call = okHttpClient.newCall(request);</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 获得返回结果</span></span><br><span class="line">      result = call.execute().body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"http://ip-api.com/json/?lang=zh-CN"</span>;</span><br><span class="line">    ApiAsker asker = <span class="keyword">new</span> ApiAsker();</span><br><span class="line">    String content = asker.getContent(url);</span><br><span class="line">  </span><br><span class="line">    System.out.println(<span class="string">"API调用结果"</span>);</span><br><span class="line">    System.out.println(content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-3-POST-表单数据"><a href="#2-3-POST-表单数据" class="headerlink" title="2.3 POST 表单数据"></a>2.3 POST 表单数据</h3><p>POST 操作：提交数据至服务端进行增加、修改、删除等操作。</p>
<h4 id="post-方法"><a href="#post-方法" class="headerlink" title="post() 方法"></a>post() 方法</h4><p>okhttp3 库支持Post操作  ，在表单中提交</p>
<p>调用API 属于<code>get</code>操作</p>
<p> <strong>固定用法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入OkHttp3依赖并导包；</span></span><br><span class="line"><span class="comment">//构建一个FormBody表单对象</span></span><br><span class="line">Builder builder = <span class="keyword">new</span> FormBody.Builder();</span><br><span class="line"><span class="comment">// 设置数据，第一个参数是数据名，第二个参数是数据值</span></span><br><span class="line">builder.add(<span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">FormBody formBody = builder.build();</span><br><span class="line"><span class="comment">//使用 .post(formBody) 语句放入表单对象执行Post操作</span></span><br><span class="line">Request request = <span class="keyword">new</span> Request.Builder().url(url).post(formBody).build();</span><br></pre></td></tr></table></figure>

<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.FormBody;</span><br><span class="line"><span class="keyword">import</span> okhttp3.FormBody.Builder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FormPoster</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 向指定的 url 提交数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">postContent</span><span class="params">(String url, Map&lt;String, String&gt; formData)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//post方式提交的数据</span></span><br><span class="line">    Builder builder = <span class="keyword">new</span> FormBody.Builder();</span><br><span class="line">    <span class="comment">// 放入表单数据</span></span><br><span class="line">    <span class="keyword">for</span> (String key : formData.keySet()) &#123;</span><br><span class="line">      builder.add(key, formData.get(key));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 构建 FormBody 对象</span></span><br><span class="line">    FormBody formBody = builder.build();</span><br><span class="line">    <span class="comment">// 指定 post 方式提交FormBody</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).post(formBody).build();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用client去请求</span></span><br><span class="line">    Call call = okHttpClient.newCall(request);</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 获得返回结果</span></span><br><span class="line">      result = call.execute().body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"https://gitee.com/login"</span>;</span><br><span class="line">    Map&lt;String, String&gt; formData = <span class="keyword">new</span> HashMap();</span><br><span class="line">    formData.put(<span class="string">"user[login]"</span>, <span class="string">"17177466748"</span>);</span><br><span class="line"></span><br><span class="line">    FormPoster poster = <span class="keyword">new</span> FormPoster();</span><br><span class="line">    String content = poster.postContent(url, formData);</span><br><span class="line">  </span><br><span class="line">    System.out.println(<span class="string">"API调用结果"</span>);</span><br><span class="line">    System.out.println(content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-4-POST-JSON-数据"><a href="#2-4-POST-JSON-数据" class="headerlink" title="2.4 POST JSON 数据"></a>2.4 POST JSON 数据</h3><p>调用<code>post()</code>方法，参数使用<code>RequestBody</code></p>
<p>案例：</p>
<p>用<code>JSON</code>方法提交数据，注册一个新用户</p>
<table>
<thead>
<tr>
<th>数据名</th>
<th>数据值</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>张飞</td>
</tr>
<tr>
<td>secondName</td>
<td>翼德</td>
</tr>
</tbody></table>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//pom.xml中导依赖</span></span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- JSON 操作库 --&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;fastjson&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.2.62&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/dependencies&gt;</span><br></pre></td></tr></table></figure>

<p>代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.MediaType;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.RequestBody;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JsonPoster</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 定义提交数据的类型</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> MediaType JSON_TYPE = MediaType.parse(<span class="string">"application/json; charset=utf-8"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 向指定的 url 提交数据，以 json 的方式</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">postContent</span><span class="params">(String url, Map&lt;String, String&gt; datas)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 数据对象转换成 json 格式字符串</span></span><br><span class="line">    String param = JSON.toJSONString(datas);</span><br><span class="line">    <span class="comment">//post方式提交的数据</span></span><br><span class="line">    RequestBody requestBody = RequestBody.create(JSON_TYPE, param);</span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).post(requestBody).build();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用client去请求</span></span><br><span class="line">    Call call = okHttpClient.newCall(request);</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 获得返回结果</span></span><br><span class="line">      result = call.execute().body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"https://www.fastmock.site/mock/3d95acf3f26358ef032d8a23bfdead99/api/posts"</span>;</span><br><span class="line">    Map&lt;String, String&gt; datas = <span class="keyword">new</span> HashMap();</span><br><span class="line">    datas.put(<span class="string">"name"</span>, <span class="string">"张飞"</span>);</span><br><span class="line">    datas.put(<span class="string">"secondName"</span>, <span class="string">"翼德"</span>);</span><br><span class="line"></span><br><span class="line">    JsonPoster poster = <span class="keyword">new</span> JsonPoster();</span><br><span class="line">    String content = poster.postContent(url, datas);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"API调用结果"</span>);</span><br><span class="line">    System.out.println(content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>固定写法</strong></p>
<p>实现 JSON 方式提交数据的步骤：</p>
<ol>
<li><p>将数据转换成<code>JSON</code> 格式的字符串，调用<code>JSON.toJSONString()</code>方法即可。</p>
</li>
<li><p>创建 <code>RequestBody</code> 实例，注意需要指定提交的类型是 <code>application/json; charset=utf-8</code> 。这里的 utf-8 是 API 规定的编码格式。此例子中，API 规定数据传输的编码格式是 <code>utf-8</code></p>
</li>
<li><p>构建 <code>Request</code>实例对象时，调用<code>.post(requestBody)</code>即表示使用<code>JSON</code> 的方式提交数据.</p>
</li>
</ol>
<p><a href="https://www.cnblogs.com/csguo/p/7402034.html" target="_blank" rel="noopener">码表的理解(ASCII,GBK,Unicode,UTF-8等)</a></p>
<p><a href="https://www.youkeda.com/post/detail/5b4c8fb4db0f480a9947381bdc9327ee" target="_blank" rel="noopener">JSON 与 FastJSON</a></p>
<h3 id="3-1-http状态码"><a href="#3-1-http状态码" class="headerlink" title="3.1 http状态码"></a>3.1 http状态码</h3><p>HTTP Status Code</p>
<p>HTTP 响应状态代码指示特定 <a href="https://developer.mozilla.org/zh-cn/HTTP" target="_blank" rel="noopener">HTTP</a> 请求是否已成功完成。响应分为五类：信息响应(<code>100</code>–<code>199</code>)，成功响应(<code>200</code>–<code>299</code>)，重定向(<code>300</code>–<code>399</code>)，客户端错误(<code>400</code>–<code>499</code>)和服务器错误 (<code>500</code>–<code>599</code>)。状态代码由 <a href="https://tools.ietf.org/html/rfc2616#section-10" target="_blank" rel="noopener">section 10 of RFC 2616</a>定义</p>
<p>下面是常见的HTTP状态码：</p>
<ul>
<li>200 - 请求成功</li>
<li>301 - 资源（网页等）被永久转移到其它URL</li>
<li>404 - 请求的资源（网页等）不存在</li>
<li>500 - 内部服务器错误</li>
</ul>
<p>取状态码语句<code>call.execute().code()</code></p>
<p>但是读取内容的话，不能响应两次，则优化代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 执行请求</span></span><br><span class="line">Response rep = call.execute();</span><br><span class="line"><span class="comment">// 获取响应状态码</span></span><br><span class="line"><span class="keyword">int</span> code = rep.code();</span><br><span class="line"><span class="comment">// 获取响应内容</span></span><br><span class="line">String content = rep.body().string();</span><br></pre></td></tr></table></figure>

<h3 id="3-2-Response-图片"><a href="#3-2-Response-图片" class="headerlink" title="3.2 Response 图片"></a>3.2 Response 图片</h3><p>请求非文本文件只能用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.body().bytes();</span><br></pre></td></tr></table></figure>

<p>获取返回的二进制编码内容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取图片</span></span><br><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getImage</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).build();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 执行请求</span></span><br><span class="line">      Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">      <span class="keyword">byte</span>[] bytes = response.body().bytes();  </span><br><span class="line">      System.out.println(<span class="string">"图片大小为："</span> + bytes.length + <span class="string">" 字节"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"https://style.youkeda.com/img/ham/course/py2/douban.png"</span>;</span><br><span class="line">    ImageAsker asker = <span class="keyword">new</span> ImageAsker();</span><br><span class="line">    asker.getImage(url);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-3-Response-JSON"><a href="#3-3-Response-JSON" class="headerlink" title="3.3 Response - JSON"></a>3.3 Response - JSON</h3><p>把 JSON 结果转换为对象，方便程序今后一步分析</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JSON.parseObject()</span><br></pre></td></tr></table></figure>

<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用 IP 地址查询接口，查询信息：</span></span><br><span class="line"><span class="comment">//转化JSON结果为对象</span></span><br><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApiAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).build();</span><br><span class="line">    <span class="comment">// 使用client去请求</span></span><br><span class="line">    Call call = okHttpClient.newCall(request);</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 执行请求</span></span><br><span class="line">      Response response = call.execute();</span><br><span class="line">      <span class="comment">// 获取响应内容</span></span><br><span class="line">      result = response.body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"http://ip-api.com/json/"</span>;</span><br><span class="line">    ApiAsker asker = <span class="keyword">new</span> ApiAsker();</span><br><span class="line">    String content = asker.getContent(url);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"查询结果文本："</span> + content);</span><br><span class="line">    Map contentObj = JSON.parseObject(content, Map<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    System.out.println(<span class="string">"JSON 格式字符串转换为 Map 对象"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-4-解析JSON对象"><a href="#3-4-解析JSON对象" class="headerlink" title="3.4 解析JSON对象"></a>3.4 解析JSON对象</h3><p>复杂的多次嵌套结构的 JSON 数据，只需要多次取出嵌套的 Map 对象即可：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Map contentObj = JSON.parseObject(content, Map<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">Map dataObj = (Map)contentObj.get(<span class="string">"data"</span>);</span><br><span class="line">String city = (String)dataObj.get(<span class="string">"city"</span>);</span><br></pre></td></tr></table></figure>

<p>因为 Map 可以存储任何对象，所以从 Map 中 get() 到的对象必须指定其实际的类型:<code>(Map)</code> 、<code>(String)</code></p>
<p>本在命令行中可读性很差，我们可以将它拷贝到json格式化工具中格式化一下：点此打开<a href="http://www.ab173.com/json/jsonviewernew.php" target="_blank" rel="noopener">格式化工具</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    String content = asker.getContent(url);</span><br><span class="line"></span><br><span class="line">    Map contentObj = JSON.parseObject(content, Map<span class="class">.<span class="keyword">class</span>)</span>;  </span><br><span class="line"><span class="comment">// 解析嵌套的对象，获取数据</span></span><br><span class="line"></span><br><span class="line">    Map dataObj = (Map) contentObj.get(<span class="string">"data"</span>);</span><br><span class="line">    Map songObj = (Map) dataObj.get(<span class="string">"song"</span>);</span><br><span class="line">    List listObj = (List) songObj.get(<span class="string">"list"</span>);</span><br><span class="line">    Map yuansuObj = (Map) listObj.get(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    String albumname = (String)yuansuObj.get(<span class="string">"albumname"</span>);</span><br><span class="line">      System.out.println(<span class="string">"albumname = "</span> + albumname);</span><br></pre></td></tr></table></figure>







<p><img src="D:%5Copt%5CGit%5Cdownloads%5Cxiangzi233.github.io%5Csource%5C_posts%5Cpost-name%5CJSON1.png" alt="JSON1"></p>
<p><img src="D:%5Copt%5CGit%5Cdownloads%5Cxiangzi233.github.io%5Csource%5C_posts%5Cpost-name%5CJSON2.png" alt="JSON2"></p>
<p><strong>0号元素就是list里面的第一个元素</strong></p>
<p><code>Map yuansuObj = (Map) listObj.get(0);</code></p>
<p><code>String albumname = (String)yuansuObj.get(&quot;albumname&quot;);</code></p>
<h3 id="4-1-User-Agent"><a href="#4-1-User-Agent" class="headerlink" title="4.1 User-Agent"></a>4.1 User-Agent</h3><ul>
<li><p>大型网站会通过    <code>HTTP</code>    <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers" target="_blank" rel="noopener">信息头Headers</a>   中的  <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/User-Agent" target="_blank" rel="noopener">User-Agent</a>     判断，会拒绝非浏览器访问的请求。</p>
</li>
<li><p>Headers 信息并不是写在 URL 中的，属于隐藏的数据，不能直观看到。</p>
</li>
<li><p>User-Agent 是存放在 Headers 中的一种数据信息。</p>
</li>
<li><p>作用是，在指定 URL 发送请求的时候，告诉服务端当前用户的浏览器类型、版本，甚至操作系统、CPU等非隐私的技术信息。</p>
</li>
</ul>
<p><code>Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.163 Safari/535.1</code></p>
<p>案例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApiAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">        .url(url)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 添加一个 header 信息</span></span><br><span class="line">        .addHeader(<span class="string">"User-Agent"</span>, <span class="string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/535.1 (KHTML, like Gecko) Chrome/14.0.835.163 Safari/535.1"</span>)    </span><br><span class="line">        .build();</span><br><span class="line">      </span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 执行请求</span></span><br><span class="line">      Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">      <span class="comment">// 获取响应内容</span></span><br><span class="line">      result = response.body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"http://ip.taobao.com/service/getIpInfo.php?ip=117.89.35.58&amp;format=json"</span>;</span><br><span class="line">    ApiAsker asker = <span class="keyword">new</span> ApiAsker();</span><br><span class="line">    String content = asker.getContent(url);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"查询结果文本："</span> + content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-2-Refer"><a href="#4-2-Refer" class="headerlink" title="4.2 Refer"></a>4.2 Refer</h3><p>图片防盗链</p>
<p>例如图片网址是<code>https://cdn.nlark.com/yuque/0/2019/png/93870/1571386626984-2462f7f9-d397-4e50-91e4-e4b688dd3410.png</code></p>
<p>就设置了非本网站无法浏览</p>
<p><strong>解决办法：</strong></p>
<p><code>.addHeader()</code>方法里面直接加他图片自己的网站地址</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">        .url(url)</span><br><span class="line">        .addHeader(<span class="string">"Referer"</span>, <span class="string">"https://unreach.yuque.com"</span>)</span><br><span class="line">        .build();</span><br></pre></td></tr></table></figure>

<h4 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h4><p><code>Response</code>对象可以打印出最终响应的URL</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.request().url().toString()</span><br></pre></td></tr></table></figure>



<h3 id="4-3-Host"><a href="#4-3-Host" class="headerlink" title="4.3 Host"></a>4.3 Host</h3><p><code>Headers</code>中的重要信息</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Host" target="_blank" rel="noopener">Host</a>表示当前请求的域名。虽然这个域名已经存在于 URL 中，但遇到复杂的场景，例如使用代理服务器、或者 URL 中不写域名而是写 IP 地址进行请求等，设置 Host 就非常有用了.</p>
<p><strong>Host的值是一个不带协议头的域名</strong></p>
<p><strong>使用方法</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">    .url(url)</span><br><span class="line">    .addHeader(<span class="string">"Host"</span>, <span class="string">"www.douban.com"</span>)</span><br><span class="line">    .build();</span><br></pre></td></tr></table></figure>



<h3 id="5-1-下载文件"><a href="#5-1-下载文件" class="headerlink" title="5.1 下载文件"></a>5.1 下载文件</h3><h4 id="写入文本文件"><a href="#写入文本文件" class="headerlink" title="写入文本文件"></a>写入文本文件</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      String content = <span class="string">"Hello World"</span>;</span><br><span class="line">		<span class="comment">//文件对象</span></span><br><span class="line">      File file = <span class="keyword">new</span> File(<span class="string">"foo.txt"</span>);  </span><br><span class="line">		<span class="comment">//写入内容</span></span><br><span class="line">      FileWriter fileWritter = <span class="keyword">new</span> FileWriter(file.getName());</span><br><span class="line">      </span><br><span class="line">      fileWritter.write(content);  </span><br><span class="line">		<span class="comment">//必须执行关闭</span></span><br><span class="line">      fileWritter.close();  </span><br><span class="line"></span><br><span class="line">      System.out.println(<span class="string">"finish"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="写入二进制文件"><a href="#写入二进制文件" class="headerlink" title="写入二进制文件"></a>写入二进制文件</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcelAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">byte</span>[] getFile(String url) &#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).build();</span><br><span class="line">    <span class="keyword">byte</span>[] bytes = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 执行请求</span></span><br><span class="line">      Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">      bytes = response.body().bytes();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bytes;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"https://style.youkeda.com/img/ham/course/py2/china-city-list.xlsx"</span>;</span><br><span class="line">    ExcelAsker asker = <span class="keyword">new</span> ExcelAsker();</span><br><span class="line">    <span class="keyword">byte</span>[] data = asker.getFile(url);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 文件对象</span></span><br><span class="line">      File file = <span class="keyword">new</span> File(<span class="string">"china-city-list.xlsx"</span>);  </span><br><span class="line"></span><br><span class="line">      <span class="comment">// 写文件</span></span><br><span class="line">      FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file);  </span><br><span class="line">      fos.write(data);  </span><br><span class="line"></span><br><span class="line">      <span class="comment">// 必须刷新并关闭</span></span><br><span class="line">      fos.flush();  </span><br><span class="line">      fos.close();  </span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-下载图片"><a href="#5-2-下载图片" class="headerlink" title="5.2 下载图片"></a>5.2 下载图片</h3><p>同上面写入二进制文件相同</p>
<h3 id="5-3-解析excel"><a href="#5-3-解析excel" class="headerlink" title="5.3 解析excel"></a>5.3 解析excel</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导入依赖</span></span><br><span class="line">      &lt;!-- JSON 操作库 --&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;fastjson&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;1.2.62&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- excel 操作库 --&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;easyexcel&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;2.1.6&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//代码</span></span><br><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.EasyExcel;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcelAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">byte</span>[] getFile(String url) &#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).build();</span><br><span class="line">    <span class="keyword">byte</span>[] bytes = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 执行请求</span></span><br><span class="line">      Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">      bytes = response.body().bytes();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bytes;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"https://style.youkeda.com/img/ham/course/py2/xzq_201907.xlsx"</span>;</span><br><span class="line">    ExcelAsker asker = <span class="keyword">new</span> ExcelAsker();</span><br><span class="line">    <span class="keyword">byte</span>[] data = asker.getFile(url);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      File file = <span class="keyword">new</span> File(<span class="string">"xzq_201907.xlsx"</span>);</span><br><span class="line"></span><br><span class="line">      FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">      fos.write(data);</span><br><span class="line"></span><br><span class="line">      fos.flush();</span><br><span class="line">      fos.close();</span><br><span class="line"></span><br><span class="line">      System.out.println(<span class="string">"下载成功"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="comment">// 读取第一个sheet，读取文件内容，调用EasyExcel.read()方法，传入文件名称，解析第一个工作表，所以调用sheet()方法，传参0，doReadSync()表示同步读取文件内容，返回读取到的内容集合List</span></span><br><span class="line">    List&lt;Map&lt;Integer, String&gt;&gt; sheetDatas = EasyExcel.read(<span class="string">"xzq_201907.xlsx"</span>).sheet(<span class="number">0</span>).doReadSync();</span><br><span class="line">      <span class="comment">// List 中每个元素表示一行</span></span><br><span class="line">    <span class="keyword">for</span> (Map&lt;Integer, String&gt; rowData : sheetDatas) &#123;</span><br><span class="line">      <span class="comment">// Map 中用序号指代每一列</span></span><br><span class="line">      <span class="keyword">for</span> (Integer index : rowData.keySet()) &#123;</span><br><span class="line">        <span class="comment">// 列值</span></span><br><span class="line">        System.out.print(<span class="string">"列号："</span> + index + <span class="string">"，列值："</span> + rowData.get(index) + <span class="string">"。"</span>);    </span><br><span class="line">      &#125;  </span><br><span class="line">        <span class="comment">//println()输出不自动换行，所以等遍历完一行数据（即一个Map对象）后，使用 println() 输出一个空行。</span></span><br><span class="line">      System.out.println(<span class="string">""</span>);  </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回的集合List中，系统用<code>Map</code>表示一行数据</p>
<p><img src="D:%5Copt%5CGit%5Cdownloads%5Cxiangzi233.github.io%5Csource%5C_posts%5Cpost-name%5Cj14-5-3-1.svg" alt="示意图"></p>
<h4 id="自动转换为类"><a href="#自动转换为类" class="headerlink" title="自动转换为类"></a>自动转换为类</h4><p>一般用Map 表示每一列的数据。</p>
<p>如果知道 excel 文件每一列的含义，列数不超过10个，不会变化，用自<code>定义类</code>来表示更直观</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.EasyExcel;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExcelAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">byte</span>[] getFile(String url) &#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder().url(url).build();</span><br><span class="line">    <span class="keyword">byte</span>[] bytes = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 执行请求</span></span><br><span class="line">      Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">      bytes = response.body().bytes();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bytes;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"https://style.youkeda.com/img/ham/course/py2/xzq_201907.xlsx"</span>;</span><br><span class="line">    ExcelAsker asker = <span class="keyword">new</span> ExcelAsker();</span><br><span class="line">    <span class="keyword">byte</span>[] data = asker.getFile(url);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      File file = <span class="keyword">new</span> File(<span class="string">"xzq_201907.xlsx"</span>);</span><br><span class="line"></span><br><span class="line">      FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file);</span><br><span class="line">      fos.write(data);</span><br><span class="line"></span><br><span class="line">      fos.flush();</span><br><span class="line">      fos.close();</span><br><span class="line"></span><br><span class="line">      System.out.println(<span class="string">"下载成功"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//读取第一个sheet，多调用了方法 .head(DemoData.class) DemoData是自定义的类，表示一行数据，类的每个属性都表示一列的值。</span></span><br><span class="line">    List&lt;DemoData&gt; sheetDatas = EasyExcel.read(<span class="string">"xzq_201907.xlsx"</span>).head(DemoData<span class="class">.<span class="keyword">class</span>).<span class="title">sheet</span>(0).<span class="title">doReadSync</span>()</span>;</span><br><span class="line">    <span class="keyword">for</span> (DemoData rowData : sheetDatas) &#123;</span><br><span class="line">      System.out.println(JSON.toJSONString(rowData));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//属性定义的顺序必须与列顺序保持一致</span></span><br><span class="line"><span class="comment">//excel 表的列与自定义类的属性，是按顺序一一对应的，不是按名称的</span></span><br><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DemoData</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String code1;</span><br><span class="line">  <span class="keyword">private</span> String city1;</span><br><span class="line">  <span class="keyword">private</span> String code2;</span><br><span class="line">  <span class="keyword">private</span> String city2;</span><br><span class="line">  <span class="keyword">private</span> String code3;</span><br><span class="line">  <span class="keyword">private</span> String city3;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getCode1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> code1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCode1</span><span class="params">(String code1)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.code1 = code1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getCity1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> city1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCity1</span><span class="params">(String city1)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.city1 = city1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getCode2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> code2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCode2</span><span class="params">(String code2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.code2 = code2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getCity2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> city2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCity2</span><span class="params">(String city2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.city2 = city2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getCode3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> code3;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCode3</span><span class="params">(String code3)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.code3 = code3;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getCity3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> city3;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCity3</span><span class="params">(String city3)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.city3 = city3;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://style.youkeda.com/img/ham/course/py2/j14-5-3-2.svg" alt="示意图"></p>
<h3 id="6-1-cookie"><a href="#6-1-cookie" class="headerlink" title="6.1 cookie"></a>6.1 cookie</h3><p>某些API、网页、文件等内容要求登录才能访问，所以需要登录后获取cookie数据</p>
<p>登录该网页后，检查-Network-Headers-mine-cookie 拷贝cookie值放入一个<code>cookie.txt</code>中</p>
<p>编码把<code>cookie</code>信息字符串转化成<code>Map</code>类型的数据</p>
<p>cookie 信息会过期，要是获取不到，重新获取</p>
<p>在Header发送请求</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个request</span></span><br><span class="line">Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">.url(url)           .addHeader(<span class="string">"Cookie"</span>,ReadFileTool.readContent(<span class="string">"cookie.txt"</span>))</span><br><span class="line">.build();</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Call;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Response;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PageAsker</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// okHttpClient 实例</span></span><br><span class="line">    OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">        .url(url)</span><br><span class="line">        .addHeader(<span class="string">"User-Agent"</span>, <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Referer"</span>, <span class="string">"https://www.douban.com"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Host"</span>, <span class="string">"www.douban.com"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Cookie"</span>, ReadFileTool.readContent(<span class="string">"cookie.txt"</span>))</span><br><span class="line">        .build();</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 执行请求</span></span><br><span class="line">      Response response = okHttpClient.newCall(request).execute();</span><br><span class="line">      result = response.body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String url = <span class="string">"https://www.douban.com/mine"</span>;</span><br><span class="line">    PageAsker asker = <span class="keyword">new</span> PageAsker();</span><br><span class="line">    String content = asker.getContent(url);</span><br><span class="line"></span><br><span class="line">    System.out.println(content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读文件工具类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadFileTool</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 读取指定文件的内容</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">readContent</span><span class="params">(String fileName)</span> </span>&#123;</span><br><span class="line">    FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">    StringBuilder strBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      fr = <span class="keyword">new</span> FileReader(fileName);</span><br><span class="line">      <span class="keyword">int</span> ch = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> ((ch = fr.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">        strBuilder.append((<span class="keyword">char</span>) ch);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (fr != <span class="keyword">null</span>) &#123;</span><br><span class="line">          fr.close();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> strBuilder.toString();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="6-2-session"><a href="#6-2-session" class="headerlink" title="6.2 session"></a>6.2 session</h3><p>可以不获取cookie，抓取登录信息来模拟网站登录</p>
<p>抓取方式：chrome检查-勾选<code>Preserve log</code> -点击登录（控制台开始抓取信息）-signinLogin-提取信息</p>
<ol>
<li><p>登录地址：  Request URL:<a href="https://blablanla/signinLogin" target="_blank" rel="noopener">https://blablanla/signinLogin</a></p>
</li>
<li><p>执行方式（GET/POST）： Request Method: POST</p>
</li>
<li><p>HOST</p>
</li>
<li><p>User-Agent</p>
</li>
<li><p>表单数据，数据名称和数据值（最下面控制台的Form Data） </p>
<p><img src="https://style.youkeda.com/img/ham/course/py2/py2-6-1-6.png" alt="时光网1"></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//网站登录信息抓取</span></span><br><span class="line">Request URL: https:<span class="comment">//passport.mtime.com/member/signinLogin</span></span><br><span class="line">Request Method: POST</span><br><span class="line">Host: passport.mtime.com</span><br><span class="line">Referer: https:<span class="comment">//passport.mtime.com/member/signin/?		 	redirectUrl=http%3A%2F%2Fwww.mtime.com%2F</span></span><br><span class="line">User-Agent: Mozilla/<span class="number">5.0</span> (Windows NT <span class="number">10.0</span>; Win64; x64)  		AppleWebKit/<span class="number">537.36</span> (KHTML, like Gecko) Chrome/<span class="number">84.0</span><span class="number">.4147</span><span class="number">.89</span> Safari/<span class="number">537.36</span></span><br><span class="line">Form Data</span><br><span class="line">    loginEmailText: <span class="number">14790483789</span></span><br><span class="line">	loginPasswordText: <span class="number">016087909</span>d7bc56b20fd9050f712042f</span><br><span class="line">inputVcode: </span><br><span class="line">isvcode: <span class="keyword">true</span></span><br><span class="line">isAutoSign: <span class="keyword">false</span></span><br></pre></td></tr></table></figure>







<p>模拟网站登录获取数据 代码实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Cookie;</span><br><span class="line"><span class="keyword">import</span> okhttp3.CookieJar;</span><br><span class="line"><span class="keyword">import</span> okhttp3.FormBody;</span><br><span class="line"><span class="keyword">import</span> okhttp3.FormBody.Builder;</span><br><span class="line"><span class="keyword">import</span> okhttp3.HttpUrl;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PageLoginer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 用 CookieJar 实现 cookie 的存储，便于登录后请求其它 URL 可以复用</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient.Builder()</span><br><span class="line">      .cookieJar(<span class="keyword">new</span> CookieJar() &#123;</span><br><span class="line">          <span class="comment">// 把登录完毕后的 cookie 存储下来，再次发请求的时候复用</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> HashMap&lt;String, List&lt;Cookie&gt;&gt; cookieStore = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="comment">//Override说明该方法是重写父类的方法，这样如果写错了编译器会报错，而不是认为你为子类写了个新方法</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveFromResponse</span><span class="params">(HttpUrl url, List&lt;Cookie&gt; cookies)</span> </span>&#123;</span><br><span class="line">          cookieStore.put(<span class="string">"mtime.com"</span>, cookies);</span><br><span class="line">          System.out.println(<span class="string">"[saveFromResponse]url.host()="</span> + url.host());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;Cookie&gt; <span class="title">loadForRequest</span><span class="params">(HttpUrl url)</span> </span>&#123;</span><br><span class="line">          System.out.println(<span class="string">"[loadForRequest]url.host()="</span> + url.host());</span><br><span class="line">          List&lt;Cookie&gt; cookies = cookieStore.get(<span class="string">"mtime.com"</span>);</span><br><span class="line">          <span class="comment">//？意思：如果cookies是空值那么返回前面的，如果不是返回后面的。</span></span><br><span class="line">          <span class="keyword">return</span> cookies != <span class="keyword">null</span> ? cookies : <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      .build();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">postContent</span><span class="params">(String url, Map&lt;String, String&gt; formData)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//post方式提交的数据</span></span><br><span class="line">    Builder builder = <span class="keyword">new</span> FormBody.Builder();</span><br><span class="line">    <span class="comment">// 放入表单数据</span></span><br><span class="line">    <span class="keyword">for</span> (String key : formData.keySet()) &#123;</span><br><span class="line">      builder.add(key, formData.get(key));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 构建 FormBody 对象</span></span><br><span class="line">    FormBody formBody = builder.build();</span><br><span class="line">    <span class="comment">// 指定 post 方式提交FormBody</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">        .url(url)</span><br><span class="line">        .post(formBody)</span><br><span class="line">        .addHeader(<span class="string">"User-Agent"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Referer"</span>,</span><br><span class="line">            <span class="string">"https://passport.mtime.com/member/signin/?redirectUrl=http%3A%2F%2Fwww.mtime.com%2F"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Host"</span>, <span class="string">"passport.mtime.com"</span>)</span><br><span class="line">        .build();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      result = okHttpClient.newCall(request).execute().body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      System.out.println(<span class="string">"request "</span> + url + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 登录页面 url</span></span><br><span class="line">    String url = <span class="string">"https://passport.mtime.com/member/signinLogin"</span>;</span><br><span class="line">    <span class="comment">// 登录表单数据</span></span><br><span class="line">    Map&lt;String, String&gt; formData = <span class="keyword">new</span> HashMap();</span><br><span class="line">    formData.put(<span class="string">"loginEmailText"</span>, <span class="string">"13777467803"</span>);</span><br><span class="line">    formData.put(<span class="string">"loginPasswordText"</span>, <span class="string">"aa787bc9cc97ba5d27cc042ecffe1489"</span>);</span><br><span class="line">    formData.put(<span class="string">"isvcode"</span>, <span class="string">"true"</span>);</span><br><span class="line">    formData.put(<span class="string">"isAutoSign"</span>, <span class="string">"false"</span>);</span><br><span class="line"></span><br><span class="line">    PageLoginer asker = <span class="keyword">new</span> PageLoginer();</span><br><span class="line">    String content = asker.postContent(url, formData);</span><br><span class="line"></span><br><span class="line">    System.out.println(content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="6-3-session-复用"><a href="#6-3-session-复用" class="headerlink" title="6.3 session 复用"></a>6.3 session 复用</h3><p>实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test.http;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Cookie;</span><br><span class="line"><span class="keyword">import</span> okhttp3.CookieJar;</span><br><span class="line"><span class="keyword">import</span> okhttp3.FormBody;</span><br><span class="line"><span class="keyword">import</span> okhttp3.FormBody.Builder;</span><br><span class="line"><span class="keyword">import</span> okhttp3.HttpUrl;</span><br><span class="line"><span class="keyword">import</span> okhttp3.OkHttpClient;</span><br><span class="line"><span class="keyword">import</span> okhttp3.Request;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PageLoginer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 用 CookieJar 实现 cookie 的存储，便于登录后请求其它 URL 可以复用</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> OkHttpClient okHttpClient = <span class="keyword">new</span> OkHttpClient.Builder()</span><br><span class="line">      .cookieJar(<span class="keyword">new</span> CookieJar() &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> HashMap&lt;String, List&lt;Cookie&gt;&gt; cookieStore = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveFromResponse</span><span class="params">(HttpUrl url, List&lt;Cookie&gt; cookies)</span> </span>&#123;</span><br><span class="line">          cookieStore.put(<span class="string">"mtime.com"</span>, cookies);</span><br><span class="line">          <span class="comment">//System.out.println("[saveFromResponse]url.host()=" + url.host());</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> List&lt;Cookie&gt; <span class="title">loadForRequest</span><span class="params">(HttpUrl url)</span> </span>&#123;</span><br><span class="line">          <span class="comment">//System.out.println("[loadForRequest]url.host()=" + url.host());</span></span><br><span class="line">          List&lt;Cookie&gt; cookies = cookieStore.get(<span class="string">"mtime.com"</span>);</span><br><span class="line">          <span class="keyword">return</span> cookies != <span class="keyword">null</span> ? cookies : <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      .build();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 向指定的 URL 提交数据，并返回提交后的结果</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">postContent</span><span class="params">(String url, Map&lt;String, String&gt; formData)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//post方式提交的数据</span></span><br><span class="line">    Builder builder = <span class="keyword">new</span> FormBody.Builder();</span><br><span class="line">    <span class="comment">// 放入表单数据</span></span><br><span class="line">    <span class="keyword">for</span> (String key : formData.keySet()) &#123;</span><br><span class="line">      builder.add(key, formData.get(key));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 构建 FormBody 对象</span></span><br><span class="line">    FormBody formBody = builder.build();</span><br><span class="line">    <span class="comment">// 指定 post 方式提交FormBody</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">        .url(url)</span><br><span class="line">        .post(formBody)</span><br><span class="line">        .addHeader(<span class="string">"User-Agent"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Referer"</span>,</span><br><span class="line">            <span class="string">"https://passport.mtime.com/member/signin/?redirectUrl=http%3A%2F%2Fwww.mtime.com%2F"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Host"</span>, <span class="string">"passport.mtime.com"</span>)</span><br><span class="line">        .build();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> doExcute(request);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据输入的url，读取页面内容并返回</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 定义一个request</span></span><br><span class="line">    Request request = <span class="keyword">new</span> Request.Builder()</span><br><span class="line">        .url(url)</span><br><span class="line">        .addHeader(<span class="string">"User-Agent"</span>,</span><br><span class="line">            <span class="string">"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36"</span>)</span><br><span class="line">        .addHeader(<span class="string">"Host"</span>, <span class="string">"my.mtime.com"</span>)</span><br><span class="line">        .build();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> doExcute(request);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> String <span class="title">doExcute</span><span class="params">(Request request)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 返回结果字符串</span></span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      result = okHttpClient.newCall(request).execute().body().string();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      <span class="comment">// 抓取异常</span></span><br><span class="line">      System.out.println(<span class="string">"request "</span> + request.url() + <span class="string">" error . "</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    PageLoginer asker = <span class="keyword">new</span> PageLoginer();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 完成登录</span></span><br><span class="line">    String url = <span class="string">"https://passport.mtime.com/member/signinLogin"</span>;</span><br><span class="line">    <span class="comment">// 登录表单数据</span></span><br><span class="line">    Map&lt;String, String&gt; formData = <span class="keyword">new</span> HashMap();</span><br><span class="line">    formData.put(<span class="string">"loginEmailText"</span>, <span class="string">"13777467803"</span>);</span><br><span class="line">    formData.put(<span class="string">"loginPasswordText"</span>, <span class="string">"aa787bc9cc97ba5d27cc042ecffe1489"</span>);</span><br><span class="line">    formData.put(<span class="string">"isvcode"</span>, <span class="string">"true"</span>);</span><br><span class="line">    formData.put(<span class="string">"isAutoSign"</span>, <span class="string">"false"</span>);</span><br><span class="line">    String content = asker.postContent(url, formData);</span><br><span class="line">    System.out.println(<span class="string">"login result:"</span>);</span><br><span class="line">    System.out.println(content);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 请求我的订单</span></span><br><span class="line">    String myOrderUrl = <span class="string">"http://my.mtime.com/account/ecommerce/orderList/"</span>;</span><br><span class="line">    String myOrderContent = asker.getContent(myOrderUrl);</span><br><span class="line">    System.out.println(<span class="string">"orderList result:"</span>);</span><br><span class="line">    System.out.println(myOrderContent);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>分析执行两次请求的过程，实际上过程是类似的，区别是 Request 不同，所以，又做了一次重构，把真正执行的过程封装成一个方法：doExcute ，被其它 postContent() 和 getContent() 方法调用。</p>
<h4 id="小知识点"><a href="#小知识点" class="headerlink" title="小知识点"></a>小知识点</h4><ul>
<li><p><code>static</code>：类变量，意味着无论new多少个<code>PageLoginer</code>对象，<code>PageLoginer.okHttpClient</code>都只有一个。</p>
</li>
<li><p><code>final</code>:表示 <code>okHttpClient</code> 一旦第一次 new 出对象后，不能再次 new 新对象。</p>
</li>
</ul>
<h3 id="7-1-SMTP"><a href="#7-1-SMTP" class="headerlink" title="7.1 SMTP"></a>7.1 SMTP</h3><p>SMTP 是一个简单的基于文本的邮件传输协议，全称为（Simple Mail Transfer Protocol - 简单邮件传输协议）。在这个协议上我们可以指定一条邮件消息和一个或多个邮件接收者，然后进行邮件输出。</p>
<p>普通的网络请求： 一个网络地址 <code>https://www.youkeda.com/</code>代表的是优课达官网，并且可以通过浏览器访问，这个网络地址由 <code>HTTPS 协议</code>和<code>www.youkeda.com 网络地址</code>组成。</p>
<h3 id="7-2-JavaMail邮件发送"><a href="#7-2-JavaMail邮件发送" class="headerlink" title="7.2 JavaMail邮件发送"></a>7.2 JavaMail邮件发送</h3><p>用Java代码利用QQ邮箱发送邮件</p>
<ol>
<li><p>QQ邮箱网页版-设置-账户</p>
<p>开启所有关于SMTP有关的服务验证后得到授权码，要保存好自己的授权码</p>
<p>授权码没有空格，QQ邮箱会分段显示。</p>
</li>
<li><p>调用 JavaMail 调用发送和接收邮件</p>
<p>配置 maven 依赖，pom 文件中加入</p>
</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line"> &lt;groupId&gt;javax.mail&lt;/groupId&gt;</span><br><span class="line"> &lt;artifactId&gt;mail&lt;/artifactId&gt;</span><br><span class="line"> &lt;version&gt;1.4&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.email;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.Security;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">import</span> javax.mail.Authenticator;</span><br><span class="line"><span class="keyword">import</span> javax.mail.Message;</span><br><span class="line"><span class="keyword">import</span> javax.mail.PasswordAuthentication;</span><br><span class="line"><span class="keyword">import</span> javax.mail.Session;</span><br><span class="line"><span class="keyword">import</span> javax.mail.Transport;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.InternetAddress;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.MimeMessage;</span><br><span class="line"><span class="keyword">import</span> com.sun.net.ssl.internal.ssl.Provider;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mail</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 设置SSL连接、邮件环境</span></span><br><span class="line">      Security.addProvider(<span class="keyword">new</span> Provider());</span><br><span class="line">      <span class="keyword">final</span> String SSL_FACTORY = <span class="string">"javax.net.ssl.SSLSocketFactory"</span>;</span><br><span class="line">      Properties props = System.getProperties();</span><br><span class="line">      props.setProperty(<span class="string">"mail.smtp.host"</span>, <span class="string">"smtp.qq.com"</span>);</span><br><span class="line">      props.setProperty(<span class="string">"mail.smtp.socketFactory.class"</span>, SSL_FACTORY);</span><br><span class="line">      props.setProperty(<span class="string">"mail.smtp.socketFactory.fallback"</span>, <span class="string">"false"</span>);</span><br><span class="line">      props.setProperty(<span class="string">"mail.smtp.port"</span>, <span class="string">"465"</span>);</span><br><span class="line">      props.setProperty(<span class="string">"mail.smtp.socketFactory.port"</span>, <span class="string">"465"</span>);</span><br><span class="line">      props.setProperty(<span class="string">"mail.smtp.auth"</span>, <span class="string">"true"</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 建立邮件会话</span></span><br><span class="line">      Session session = Session.getDefaultInstance(props, <span class="keyword">new</span> Authenticator() &#123;</span><br><span class="line">        <span class="comment">// 身份认证</span></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> PasswordAuthentication <span class="title">getPasswordAuthentication</span><span class="params">()</span> </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> PasswordAuthentication(<span class="string">"xxxx@qq.com"</span>, <span class="string">"xxxx"</span>); <span class="comment">// 账户 授权码</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 建立邮件对象</span></span><br><span class="line">      MimeMessage message = <span class="keyword">new</span> MimeMessage(session);</span><br><span class="line">      <span class="comment">// 设置邮件的发件人、收件人、主题</span></span><br><span class="line">      <span class="comment">// 附带发件人名字</span></span><br><span class="line">      message.setFrom(<span class="keyword">new</span> InternetAddress(<span class="string">"xxxx@qq.com"</span>));</span><br><span class="line">      <span class="comment">//收件人，多人的话用  ,  分割</span></span><br><span class="line">      message.setRecipients(Message.RecipientType.TO, <span class="string">"xxxx@qq.com"</span>);</span><br><span class="line">      message.setSubject(<span class="string">"hello"</span>);</span><br><span class="line">      <span class="comment">// 文本部分</span></span><br><span class="line">      message.setContent(<span class="string">"hello world"</span>, <span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">      message.saveChanges();</span><br><span class="line">      <span class="comment">// 发送邮件</span></span><br><span class="line">      Transport.send(message);</span><br><span class="line">      <span class="comment">// 打印成功信息</span></span><br><span class="line">      System.out.println(<span class="string">"发送成功"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="8-1-查询城市代号"><a href="#8-1-查询城市代号" class="headerlink" title="8.1 查询城市代号"></a>8.1 查询城市代号</h3><p>上天气网搜索指定城市，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//www.weather.com.cn/weather1d/101220101.shtml#input</span></span><br></pre></td></tr></table></figure>

<p>这里的<code>101220101</code>就是该城市代号</p>
<h3 id="8-2-查询城市天气"><a href="#8-2-查询城市天气" class="headerlink" title="8.2 查询城市天气"></a>8.2 查询城市天气</h3><h4 id="调用API查询天气"><a href="#调用API查询天气" class="headerlink" title="调用API查询天气"></a>调用API查询天气</h4><p>中国天气官网查询实时天气的 API 为：</p>
<p><code>http://www.weather.com.cn/data/sk/101210106.html</code></p>
<p>替换城市代码为想要查询的城市</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;weatherinfo&quot;: &#123;</span><br><span class="line">    &quot;city&quot;: &quot;余杭&quot;,         &#x2F;&#x2F; 城市</span><br><span class="line">    &quot;cityid&quot;: &quot;101210106&quot;,  &#x2F;&#x2F; 城市代码</span><br><span class="line">    &quot;temp&quot;: &quot;24&quot;,           &#x2F;&#x2F; 温度</span><br><span class="line">    &quot;WD&quot;: &quot;北风&quot;,           &#x2F;&#x2F; 风向</span><br><span class="line">    &quot;WS&quot;: &quot;小于3级&quot;,        &#x2F;&#x2F; 风力等级</span><br><span class="line">    &quot;SD&quot;: &quot;77%&quot;,           &#x2F;&#x2F; 湿度</span><br><span class="line">    &quot;AP&quot;: &quot;1000.7hPa&quot;,     &#x2F;&#x2F; 气压</span><br><span class="line">    &quot;njd&quot;: &quot;暂无实况&quot;,      &#x2F;&#x2F;实况</span><br><span class="line">    &quot;WSE&quot;: &quot;&lt;3&quot;,</span><br><span class="line">    &quot;time&quot;: &quot;17:50&quot;,</span><br><span class="line">    &quot;sm&quot;: &quot;3.6&quot;,</span><br><span class="line">    &quot;isRadar&quot;: &quot;0&quot;,</span><br><span class="line">    &quot;Radar&quot;: &quot;&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-3-天气邮件推送"><a href="#8-3-天气邮件推送" class="headerlink" title="8.3 天气邮件推送"></a>8.3 天气邮件推送</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/23/%E6%96%B0Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" data-id="ckd5k3go40006a8v2b9u29xy2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-java面向对象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" class="article-date">
  <time datetime="2020-07-23T07:29:18.841Z" itemprop="datePublished">2020-07-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">java面向对象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-1-面向对象入门"><a href="#1-1-面向对象入门" class="headerlink" title="1.1 面向对象入门"></a>1.1 面向对象入门</h3><ul>
<li><p>在Java中对象其实就是一个Class(类)，在Java 世界中所有的程序都是由Class (对象、类)组成的；</p>
</li>
<li><p>UML类图：管理和维护对象的图形语言。</p>
<p>了解类框图   QQ群界面</p>
</li>
</ul>
<p><img src="https://style.youkeda.com/img/ham/course/qq-group.png" alt="qq群界面"></p>
<p>UML类图</p>
<p><img src="https://style.youkeda.com/img/ham/course/group_user.svg" alt="UML类图"></p>
<p>转换成java代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.qq.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  群对象，封装了群的基础数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Group</span></span>&#123;</span><br><span class="line">    <span class="comment">//群唯一的ID</span></span><br><span class="line">    String id;</span><br><span class="line">    <span class="comment">//群号</span></span><br><span class="line">    String groupNo;</span><br><span class="line">    <span class="comment">//群图标</span></span><br><span class="line">    String icon;</span><br><span class="line">    <span class="comment">//群名称</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="comment">//群公告</span></span><br><span class="line">    String notice;</span><br><span class="line">    <span class="comment">//群简介</span></span><br><span class="line">    String desc;</span><br><span class="line">    <span class="comment">// 群成员</span></span><br><span class="line">    ArrayList&lt;User&gt; users;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="1-2-类的关联关系"><a href="#1-2-类的关联关系" class="headerlink" title="1.2 类的关联关系"></a>1.2 类的关联关系</h3><p>真实世界里每一个事物（学校、电影、音乐等等）都能用计算机模拟，这些事物叫做<strong>领域</strong></p>
<h4 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h4><p>对象是对问题领域中事物的抽象</p>
<p>抽象就是把事物变成编程语言的过程</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/chouxiang1.svg" alt="img"></p>
<h4 id="对象的特性"><a href="#对象的特性" class="headerlink" title="对象的特性"></a>对象的特性</h4><ol>
<li><p>万物皆对象</p>
</li>
<li><p>每个对象都是唯一的</p>
<p>对象的唯一是指的实例化后的每个实例都是唯一的，对于相同事物抽象后的类可以是相同的。</p>
</li>
<li><p>对象具备属性和方法</p>
</li>
</ol>
<h4 id="关联"><a href="#关联" class="headerlink" title="关联"></a>关联</h4><h4 id=""><a href="#" class="headerlink" title=""></a><img src="https://style.youkeda.com/img/ham/course/j2/student_major_2.svg" alt="img"></h4><h4 id="-1"><a href="#-1" class="headerlink" title=""></a><img src="https://style.youkeda.com/img/ham/course/j2/arrows.jpg" alt="img"></h4><p>该线条表示<code>student</code>  类通过  <code>major</code>  属性关联了 类<code>Major</code></p>
<h4 id="类之间关系有"><a href="#类之间关系有" class="headerlink" title="类之间关系有"></a>类之间关系有</h4><ol>
<li>关联</li>
<li>依赖</li>
<li>聚集</li>
<li>泛化</li>
<li>实现</li>
</ol>
<h3 id="1-3-访问控制修饰符"><a href="#1-3-访问控制修饰符" class="headerlink" title="1.3 访问控制修饰符"></a>1.3 访问控制修饰符</h3><p>面向对象的基本思想之一是封装实现细节并且公开接口， 在Java语言中采用了访问控制修饰符来控制类，以及类的方法和变量的访问权限，从而达到隐藏实现细节只暴露接口的能力。</p>
<p>●公开级别:用public修饰，对外公开<br>●受保护级别:用protected修饰，向子类及同一个包中的类公开<br>●默认级别:没有访问修饰符，向同一个包中的类公开<br>●私有级别:用private修饰，只有类本身可以访问,不对外公开</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>同类</th>
<th>同包</th>
<th>不同的包</th>
<th>UML表示符</th>
</tr>
</thead>
<tbody><tr>
<td>public</td>
<td>有权限</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td>（绿）圆</td>
</tr>
<tr>
<td>protected</td>
<td>有权限</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td>（黄）菱形</td>
</tr>
<tr>
<td>默认</td>
<td>有权限</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td></td>
</tr>
<tr>
<td>private</td>
<td>有权限</td>
<td><em>无权限</em></td>
<td><em>无权限</em></td>
<td>（红）正方形</td>
</tr>
</tbody></table>
<p>注： protected一般和父子类在一起才生效</p>
<h4 id="类"><a href="#类" class="headerlink" title="类"></a>类</h4><p>可以用<code>public</code>和<code>默认</code>,不可以用 protected和private</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/public1.svg" alt="img"></p>
<h4 id="类的方法-实例变量"><a href="#类的方法-实例变量" class="headerlink" title="类的方法/实例变量"></a>类的方法/实例变量</h4><p>一般情况下类的成员变量(属性)就叫做实例变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 声明一个公开访问的字符串类型实例变量</span></span><br><span class="line">  <span class="keyword">public</span> String msg = <span class="string">"Hello"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明一个公开访问的方法</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">say</span><span class="params">(String word)</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> msg + word;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>某些方法定义需要返回值但是uml图没有标明，可以return null；</p>
<h3 id="1-4-封装"><a href="#1-4-封装" class="headerlink" title="1.4 封装"></a>1.4 封装</h3><p>把对象的属性隐藏起来，通过公开的方法来得到或者设置属性值；</p>
<p>setter、getter规范</p>
<p>●get+属性名称(属性名的首字母要大写)，用于获取属性<br>●set+属性名称(属性名的首字母要大写)，用于设置属性</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">  <span class="comment">//定义了一个关于名称的实例变量</span></span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 获取 name 的值 getter</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 设置 name 的值 setter</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>UML封装图</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/setter3.svg" alt="img"></p>
<h3 id="1-5-常量"><a href="#1-5-常量" class="headerlink" title="1.5 常量"></a>1.5 常量</h3><p>也可以叫静态变量，可以直接获取或者操作变量，不需要实例化，借助关键字<code>static</code></p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/static1.svg" alt="img"></p>
<p>static关键字：用于声明静态变量、静态代码块，可在其中执行代码并且调用static变量；</p>
<p>schools：常量的变量名为与变量区分开，一般<strong>全大写</strong>，单词间用<code>-</code>分隔开</p>
<h4 id="常用字符串常量"><a href="#常用字符串常量" class="headerlink" title="常用字符串常量"></a>常用字符串常量</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 用户Session key</span></span><br><span class="line"><span class="comment">  * final 表示 该变量不可被再次修改</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String USER_KEY = <span class="string">"m_key"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 手机验证码 key</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SMS_KEY = <span class="string">"m_sms_key"</span>;</span><br></pre></td></tr></table></figure>



<h4 id="内存缓存"><a href="#内存缓存" class="headerlink" title="内存缓存"></a>内存缓存</h4><p>先声明static变量再创建static</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.School;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 学校服务</span></span><br><span class="line"><span class="comment"> */</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SchoolService</span></span>&#123;</span><br><span class="line">  <span class="comment">// 学校数据的常量</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> ArrayList&lt;School&gt; SCHOOLS = <span class="keyword">new</span> ArrayList&lt;&gt;();    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 声明一个静态代码块，用于初始化学校数据</span></span><br><span class="line">  <span class="keyword">static</span>&#123;</span><br><span class="line">    School school = <span class="keyword">new</span> School();</span><br><span class="line">    school.setId(<span class="string">"1"</span>);</span><br><span class="line">    school.setName(<span class="string">"北京大学"</span>);</span><br><span class="line">    SCHOOLS.add(school);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//初始化school，再赋值</span></span><br><span class="line">    school = <span class="keyword">new</span> School();</span><br><span class="line">    school.setId(<span class="string">"2"</span>);</span><br><span class="line">    school.setName(<span class="string">"清华大学"</span>);</span><br><span class="line">    SCHOOLS.add(school);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 测试打印一下内存的数据</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;SCHOOLS.size();i++)&#123;</span><br><span class="line">      School school = SCHOOLS.get(i);</span><br><span class="line">      System.out.println(school.getName());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="UML图中常量声明"><a href="#UML图中常量声明" class="headerlink" title="UML图中常量声明"></a>UML图中常量声明</h4><p><img src="https://style.youkeda.com/img/ham/course/j2/userservice1.svg" alt="img"></p>
<p>加一个下划线</p>
<h3 id="2-1-继承语法"><a href="#2-1-继承语法" class="headerlink" title="2.1 继承语法"></a>2.1 继承语法</h3><p><img src="https://style.youkeda.com/img/ham/course/j2/extends.svg" alt="img"></p>
<p>Dog：Animal的子类</p>
<p>Animal: 父类</p>
<p>UML类图：</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/dog2.svg" alt="img"></p>
<p>箭头子类指向父类</p>
<p><strong>注意：继承关系中，子类只可以获取父类的protected，或者public的，获取不到private级别的变量或者方法</strong></p>
<h3 id="2-2-方法覆盖"><a href="#2-2-方法覆盖" class="headerlink" title="2.2 方法覆盖"></a>2.2 方法覆盖</h3><p>在子类重写父类定义的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"><span class="comment">//在Dog里面覆盖Animal的方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"狗狗喜欢吃肉骨头"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实例化Dog对象"><a href="#实例化Dog对象" class="headerlink" title="实例化Dog对象"></a>实例化Dog对象</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 实例化 dog 对象</span></span><br><span class="line">    Dog d = <span class="keyword">new</span> Dog();</span><br><span class="line">    d.setName(<span class="string">"小灰"</span>);</span><br><span class="line">    d.setAge(<span class="number">3</span>);</span><br><span class="line">    System.out.println(d.getName()+<span class="string">"---"</span>+d.getAge());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实例化Animal对象"><a href="#实例化Animal对象" class="headerlink" title="实例化Animal对象"></a>实例化Animal对象</h4><p>是抽象的，没有具体指某个动物，要结合子类<code>Animal d = new Dog();</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 实例化 dog 对象并赋值给 Animal 对象</span></span><br><span class="line">    Animal d = <span class="keyword">new</span> Dog();</span><br><span class="line">    d.setName(<span class="string">"小灰"</span>);</span><br><span class="line">    d.setAge(<span class="number">3</span>);</span><br><span class="line">    System.out.println(d.getName()+<span class="string">"---"</span>+d.getAge());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>父类Animal可以直接调用在子类Dog里面覆盖的对象<code>d.eat()</code></p>
<p>子类的对象是可以转化为父类对象，但是父类不能转化为子类。也就是说 Dog dog = new Animal()是错误的</p>
<h3 id="2-3-super-关键字"><a href="#2-3-super-关键字" class="headerlink" title="2.3 super 关键字"></a>2.3 super 关键字</h3><p>super操作父类，只发生在子类中</p>
<p>子类Dog里面调用父类Animal的eat（）方法  <code>super.eat();</code></p>
<p>当父类只有一个有参数的构造函数的时候，子类也必须要具备这个构造函数，或者调用 super 方法来实现新的构造函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomFile</span></span>&#123;</span><br><span class="line">  <span class="comment">// 存储文件路径的变量</span></span><br><span class="line">  <span class="keyword">public</span> String filePath;</span><br><span class="line">  <span class="comment">// 存储文件后缀变量，通过后缀来区分文件类型</span></span><br><span class="line">  <span class="keyword">public</span> String ext;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明一个构造函数，接受文件路径</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">CustomFile</span><span class="params">(String filePath)</span></span>&#123;</span><br><span class="line">    <span class="comment">//给类变量 filePath 赋值</span></span><br><span class="line">    <span class="comment">//this代表的是当前类的实例</span></span><br><span class="line">    <span class="keyword">this</span>.filePath = filePath;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 获取文件名称</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// 比如文件路径是 /Users/mac/work/face.png</span></span><br><span class="line">    <span class="comment">// 把文件路径分隔成数组（分隔符是 / ）</span></span><br><span class="line">    <span class="comment">// 数组的最后一位就是文件名</span></span><br><span class="line">    String[] paths = filePath.split(<span class="string">"/"</span>);</span><br><span class="line">    <span class="comment">// 数组的最后一位需要减1，因为数组是从索引0开始的。</span></span><br><span class="line">    <span class="keyword">return</span>  paths[paths.length-<span class="number">1</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在构造函数里的 super 方法必须写在第一行</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JavaFile</span> <span class="keyword">extends</span> <span class="title">CustomFile</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String packageName;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明一个构造函数</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">JavaFile</span><span class="params">(String filePath,String packageName)</span></span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(filePath);</span><br><span class="line">    <span class="keyword">this</span>.packageName = packageName;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getPackageName</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.packageName;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="3-1接口的语法"><a href="#3-1接口的语法" class="headerlink" title="3.1接口的语法"></a>3.1接口的语法</h3><ol>
<li>在java中，接口也是一个类，也包含方法</li>
</ol>
<p>我们定义了一个接口类以后，就可以支持多个实现类，接口的调用方不用关心是谁写的实现类，只关心接口的方法参数、方法返回值就可以无缝的完成程序的对接。</p>
<ol start="2">
<li><p>接口的定义</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/LoginService.svg" alt="img"></p>
</li>
<li><p>UML接口定义</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/RoleService.svg" alt="img"></p>
<p>表示定义了一个<code>RoleService</code>接口，它依赖了<code>Role</code>类</p>
</li>
</ol>
<p>接口</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/interface.png" alt="img"></p>
<p>接口命名规范：XxxxxService</p>
<h3 id="3-2-接口实现类"><a href="#3-2-接口实现类" class="headerlink" title="3.2 接口实现类"></a>3.2 接口实现类</h3><p><img src="https://style.youkeda.com/img/ham/course/j2/implements.svg" alt="img"></p>
<ul>
<li>接口定义的方法在实现类里必须要全部实现了，而且方法签名要一模一样（同样的方法名称、方法参数、方法返回值）</li>
<li>由于接口定义的方法都是<code>public</code>的，所以实现类的方法控制修饰符也必须是<code>public</code></li>
</ul>
<p>接口与继承的区别：</p>
<p>继承：子类只能继承一个父类</p>
<p>接口：实现类可以实现多个接口，多个接口用<code>,</code>分开</p>
<p><em>接口代码：</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EchoService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 输出任意的内容</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">echo</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>实现多接口代码：</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"><span class="comment">//1.注意导包</span></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.EchoService;</span><br><span class="line"><span class="comment">//2.多个接口用 , 隔开</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceImpl</span> </span></span><br><span class="line"><span class="class">             <span class="keyword">implements</span> <span class="title">RoleService</span>,<span class="title">EchoService</span></span>&#123;</span><br><span class="line"><span class="comment">//3.要实现接口的所有方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">echo</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="实例化"><a href="#实例化" class="headerlink" title="实例化"></a>实例化</h4><p>结合实现类实例化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//总结：接口 变量名 = new 实现类（）；</span></span><br><span class="line">    RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="接口转化"><a href="#接口转化" class="headerlink" title="接口转化"></a>接口转化</h4><p>实现了多个接口，实例可以被转化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//实例化</span></span><br><span class="line">    RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类型转化：把 roleService 实例转化为 EchoService 接口类型</span></span><br><span class="line">      <span class="comment">//总结：新接口 新名称 = （新接口）被转化的名称；</span></span><br><span class="line">    EchoService echoService = (EchoService)roleService;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="UML接口实现图"><a href="#UML接口实现图" class="headerlink" title="UML接口实现图"></a>UML接口实现图</h4><p><img src="https://style.youkeda.com/img/ham/course/j2/RoleService1.svg" alt="img"></p>
<h4 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h4><ul>
<li><p>一实现类的包名在service包下并且命名为impl</p>
</li>
<li><p>实现类命名规则<code>XxxServicelmpl</code>，也就是后缀是<code>ServiceImpl</code></p>
</li>
<li><p>例：<code>com . youkeda. service. impl. RoleServiceImpl</code></p>
</li>
</ul>
<h3 id="3-2-2-任务"><a href="#3-2-2-任务" class="headerlink" title="3.2.2 任务"></a>3.2.2 任务</h3><p><img src="https://style.youkeda.com/img/ham/course/j2/RoleService2.svg" alt="img"></p>
<p>如上图，我们根据这个UML图完成代码的编写，<br>我们需要你在RoleServiceTest类里完成RoleService角色数据的添加和取。你需要得到RoleService的实例，以及调用addRole方法，最后调用getRoles方法得到所有的角色，并打印出角色集合的最后-条记录的名称和描述。测试数据如下</p>
<table>
<thead>
<tr>
<th>name</th>
<th>desc</th>
</tr>
</thead>
<tbody><tr>
<td>admin</td>
<td>系统管理员</td>
</tr>
<tr>
<td>design</td>
<td>设计师</td>
</tr>
<tr>
<td>dev</td>
<td>开发者</td>
</tr>
</tbody></table>
<p>打印的结果是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dev:开发者</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Role</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDesc</span><span class="params">(String desc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleService</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoleService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">ArrayList&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceImpl</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceImpl</span> </span></span><br><span class="line"><span class="class">                <span class="keyword">implements</span> <span class="title">RoleService</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> ArrayList&lt;Role&gt; ROLES = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> ArrayList&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ROLES;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>&#123;</span><br><span class="line">    ROLES.add(role);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line">    </span><br><span class="line">    Role role = <span class="keyword">new</span> Role();</span><br><span class="line">    role.setName(<span class="string">"admin"</span>);</span><br><span class="line">    role.setDesc(<span class="string">"系统管理员"</span>);</span><br><span class="line">    roleService.addRole(role);</span><br><span class="line">    </span><br><span class="line">    role = <span class="keyword">new</span> Role();</span><br><span class="line">    role.setName(<span class="string">"design"</span>);</span><br><span class="line">    role.setDesc(<span class="string">"设计师"</span>);</span><br><span class="line">    roleService.addRole(role);</span><br><span class="line">    </span><br><span class="line">    role = <span class="keyword">new</span> Role();</span><br><span class="line">    role.setName(<span class="string">"dev"</span>);</span><br><span class="line">    role.setDesc(<span class="string">"开发者"</span>);</span><br><span class="line">    roleService.addRole(role);</span><br><span class="line">    </span><br><span class="line">    ArrayList&lt;Role&gt; roles = roleService.getRoles();</span><br><span class="line">    Role lastRole = roles.get(roles.size()-<span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">        System.out.println(lastRole.getName()+<span class="string">":"</span>+lastRole.getDesc());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="3-3-Java常用接口"><a href="#3-3-Java常用接口" class="headerlink" title="3.3 Java常用接口"></a>3.3 Java常用接口</h3><ul>
<li><p>Map</p>
<ul>
<li><p>遵循<code>key:value</code>这样形式的集合 </p>
</li>
<li><p>实例化：<code>Map&lt;Integer,String&gt; map = new HashMap&lt;&gt;();</code></p>
</li>
<li><p>赋值：<code>map.put(Integer,String);</code></p>
</li>
<li><p>取值：<code>map.get(key);</code></p>
</li>
<li><p>是集合数据，可以用<code>.size();</code>   ,  for遍历</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://style.youkeda.com/img/ham/course/j2/java-map1.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"></span><br><span class="line"><span class="comment">// key value 得是 Java 类型</span></span><br><span class="line"><span class="comment">//Map&lt;key,value&gt; map = new HashMap&lt;&gt;();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化Map对象</span></span><br><span class="line">Map&lt;Integer,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">map.put(<span class="number">1</span>,<span class="string">"Monday"</span>);</span><br><span class="line">map.put(<span class="number">2</span>,<span class="string">"Tuesday"</span>);</span><br><span class="line">map.put(<span class="number">3</span>,<span class="string">"Wednesday"</span>);</span><br><span class="line">map.put(<span class="number">4</span>,<span class="string">"Thursday"</span>);</span><br><span class="line">map.put(<span class="number">5</span>,<span class="string">"Friday"</span>);</span><br><span class="line">map.put(<span class="number">6</span>,<span class="string">"Saturday"</span>);</span><br><span class="line">map.put(<span class="number">7</span>,<span class="string">"Sunday"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//取值</span></span><br><span class="line">String weekText = map.get(<span class="number">3</span>);</span><br><span class="line">System.out.println(weekText);</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"> <span class="keyword">for</span> (Map.Entry&lt;Integer,String&gt; entry : map.entrySet())&#123; </span><br><span class="line"></span><br><span class="line">   System.out.println(<span class="string">"Key = "</span> + entry.getKey() + </span><br><span class="line">                  <span class="string">", Value = "</span> + entry.getValue());</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>







<ul>
<li>List<ul>
<li>是ArrayList的接口，用法和ArrayList大致相同</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//字符串集合</span></span><br><span class="line">List&lt;String&gt; strings = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="keyword">for</span>(String str : strings)&#123;</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>3.3.3 任务</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/RoleService3.svg" alt="img"></p>
<p>任务清单</p>
<p>1.重构 RoleService</p>
<p>ArrayList换成了List</p>
<p>2.编写UserServiceImpl</p>
<p>常量USERS初始化数据：</p>
<table>
<thead>
<tr>
<th>nickName</th>
<th>userName</th>
<th>password</th>
</tr>
</thead>
<tbody><tr>
<td>爱吹风的牛</td>
<td>niu</td>
<td>Niu123</td>
</tr>
<tr>
<td>我爱西红柿</td>
<td>xihongshi</td>
<td>Didi5</td>
</tr>
</tbody></table>
<p>我们知道这个login方法是根据输入的用户名和密码来找出对应的User例。<br>我们可以使用组合条件判断哦，比如下面的伪代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>( user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password) )&#123;</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3.完成UserRoleServiceTest编写</p>
<p>注意不要忘记在main函数里调用一下testRole和testUser方法哦</p>
<p>userService的login测试数据是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User user = userService.login(<span class="string">"xihongshi"</span>,<span class="string">"Didi5"</span>);</span><br></pre></td></tr></table></figure>

<p>预期打印结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dev:开发者</span><br><span class="line">我爱西红柿:xihongshi</span><br></pre></td></tr></table></figure>



<p>代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Role</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Role</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDesc</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDesc</span><span class="params">(String desc)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleService</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RoleService</span> </span>&#123;</span><br><span class="line">  <span class="comment">//添加角色</span></span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>;</span><br><span class="line">  <span class="comment">//获取所有角色</span></span><br><span class="line">  List&lt;Role&gt;getRoles();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RoleServiceImpl</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RoleServiceImpl</span> </span></span><br><span class="line"><span class="class">  <span class="keyword">implements</span> <span class="title">RoleService</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Role&gt; ROLES = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addRole</span><span class="params">(Role role)</span></span>&#123;</span><br><span class="line">      ROLES.add(role);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Role&gt; <span class="title">getRoles</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> ROLES;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * User</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String nickName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getNickName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> nickName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNickName</span><span class="params">(String nickName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nickName = nickName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userName = userName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.User;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * UserService</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">User <span class="title">login</span><span class="params">(String userName,String password)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.User;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * UserServiceImpl</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> </span></span><br><span class="line"><span class="class">  <span class="keyword">implements</span> <span class="title">UserService</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;User&gt; USERS= <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setNickName(<span class="string">"爱吹风的牛"</span>);</span><br><span class="line">        user.setUserName(<span class="string">"niu"</span>);</span><br><span class="line">        user.setPassword(<span class="string">"Niu123"</span>);</span><br><span class="line">        USERS.add(user);</span><br><span class="line"></span><br><span class="line">        user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setNickName(<span class="string">"我爱西红柿"</span>);</span><br><span class="line">        user.setUserName(<span class="string">"xihongshi"</span>);</span><br><span class="line">        user.setPassword(<span class="string">"Didi5"</span>);</span><br><span class="line">        USERS.add(user);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">login</span><span class="params">(String userName, String password)</span></span>&#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (User user : USERS)&#123;</span><br><span class="line">        <span class="keyword">if</span>( user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password) )&#123;</span><br><span class="line">           <span class="keyword">return</span> user;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.Role;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.User;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.RoleService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.RoleServiceImpl;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.impl.UserServiceImpl;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * UserRoleServiceTest</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserRoleServiceTest</span> </span>&#123;</span><br><span class="line"><span class="comment">//实例化接口</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> RoleService roleService = <span class="keyword">new</span> RoleServiceImpl();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> UserService userService = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        testRole();</span><br><span class="line">        testUser();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testRole</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Role role = <span class="keyword">new</span> Role();</span><br><span class="line">        role.setName(<span class="string">"admin"</span>);</span><br><span class="line">        role.setDesc(<span class="string">"系统管理员"</span>);</span><br><span class="line">        roleService.addRole(role);</span><br><span class="line"></span><br><span class="line">        role = <span class="keyword">new</span> Role();</span><br><span class="line">        role.setName(<span class="string">"design"</span>);</span><br><span class="line">        role.setDesc(<span class="string">"设计师"</span>);</span><br><span class="line">        roleService.addRole(role);</span><br><span class="line"></span><br><span class="line">        role = <span class="keyword">new</span> Role();</span><br><span class="line">        role.setName(<span class="string">"dev"</span>);</span><br><span class="line">        role.setDesc(<span class="string">"开发者"</span>);</span><br><span class="line">        roleService.addRole(role);</span><br><span class="line"></span><br><span class="line">        List&lt;Role&gt; roles = roleService.getRoles();</span><br><span class="line"></span><br><span class="line">        Role lastRole = roles.get(roles.size() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(lastRole.getName() + <span class="string">":"</span> + lastRole.getDesc());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        User user = userService.login(<span class="string">"xihongshi"</span>, <span class="string">"Didi5"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(user.getNickName() + <span class="string">":"</span> + user.getUserName());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="4-1-Java异常机制"><a href="#4-1-Java异常机制" class="headerlink" title="4.1 Java异常机制"></a>4.1 Java异常机制</h3><ul>
<li><p>编译错误</p>
</li>
<li><p>运行错误</p>
<p>异常：运行后出现错误</p>
<p>捕获：处理该异常</p>
</li>
</ul>
<p><img src="https://style.youkeda.com/img/ham/course/j2/ExceptionTest2.svg" alt="img"></p>
<p>异常被捕获后程序可正常运行</p>
<h3 id="4-2-常见的异常类"><a href="#4-2-常见的异常类" class="headerlink" title="4.2 常见的异常类"></a>4.2 常见的异常类</h3><ul>
<li><p>java异常类：一般命名为XxxxxException</p>
</li>
<li><p>IOException:操作输入流和输出流时可能出现的异常,这个以后我们会经常遇到</p>
</li>
<li><p>ArithmeticException:<strong>数学异常</strong>。如果把整数除以0，就会出现这种异常</p>
</li>
<li><p>NullPointerException:<strong>空指针</strong>异常。当引用变量为null时，试图访问对象的属性或方法，就会出现这种异常，例如：</p>
<p><code>String d = null;
System.out.println(d.length()); // 抛出NullPointerException</code></p>
</li>
<li><p>ArrayIndexOutOfBoundsException:<strong>下标越界异常</strong>,一般出现在数组中，比如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">4</span>];</span><br><span class="line">array[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">array[<span class="number">7</span>]=<span class="number">1</span>;<span class="comment">// 抛出 ArrayIndexOutOfBoundsException</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ClassCastException:当<strong>类型转化失败</strong>的时候就会出现该异常</p>
</li>
<li><p>IllegalArgumentException:非常参数异常，<strong>可以用来检查方法的参数是否合法</strong></p>
</li>
</ul>
<h4 id="多个异常捕获"><a href="#多个异常捕获" class="headerlink" title="多个异常捕获"></a>多个异常捕获</h4><p>转换字符串为数字：<code>Integer.parseInt(str)</code></p>
<p>捕获多个异常需要多次 catch</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest4</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          num = getInt(<span class="string">"小王"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NumberFormatException e) &#123;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串转换为数字</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于这些 Exceptions 都是继承于 Exception，所以你也可以直接用一个 Exception 捕获所有的异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest4</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          num = getInt(<span class="string">"小王"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 字符串转换为数字</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-3-抛出异常"><a href="#4-3-抛出异常" class="headerlink" title="4.3 抛出异常"></a>4.3 抛出异常</h3><p>我们不知道如何处理一些超出预期的数据的时候，我们就可以抛出异常给上层去处理，如果上层也不知道，那么可以继续向上抛出。</p>
<p>检查参数是否合法：<code>java.lang.IllegalArgumentException</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(str == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在想要抛出的地方使用throw关键字，throw后是具体的异常实例（异常也是Java类，需要new实例化）</p>
<p><strong>异常堆栈</strong>：异常的错误显示</p>
<p><strong>RuntimeException</strong></p>
<p>与<code>Exception</code>不同，它不需要在方法上约定可能抛出的异常，而Exception需要声明</p>
<p>把IllegalArgumentException换成Exception</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest6</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = getInt(<span class="keyword">null</span>);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(str == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">运行报错：</span><br><span class="line">    未报告的异常错误java.lang.Exception; 必须对其进行捕获或声明以便抛出</span><br></pre></td></tr></table></figure>

<p>表示：需要在此方法签名上声明它</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest7</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = getInt(<span class="keyword">null</span>);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(str == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行还有错误，因为这个时候调用者没有捕获它</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest8</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            num = getInt(<span class="keyword">null</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getInt</span><span class="params">(String str)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"姓名不能为空"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>为了获取异常的信息,我们还使用了<code>e. getMessage()</code>这个可以获取异常的符串消息，这个指我们在<code>new Exception(&quot;姓名不能为空&quot;)</code>时候出传入的。</p>
<p><em>建议少用RuntimeException，因为这个在编译阶段是不做检查的，可能产生一些未知问题</em></p>
<h4 id="UML图"><a href="#UML图" class="headerlink" title="UML图"></a>UML图</h4><p><img src="https://style.youkeda.com/img/ham/course/j2/UserServiceException.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function">User <span class="title">login</span><span class="params">(String userName,String password)</span> <span class="keyword">throws</span> NullPointerException</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-4-自定义异常"><a href="#4-4-自定义异常" class="headerlink" title="4.4 自定义异常"></a>4.4 自定义异常</h3><p>以 UserService 为例，之前我们在 login 上抛出了 Exception，这个实在搞不明白是啥异常,所以我们创建了一个 ParamNullException</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/ParamNullException.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParamNullException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参数为空的时候异常</p>
<p>实现类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">login</span><span class="params">(String userName, </span></span></span><br><span class="line"><span class="function"><span class="params">                  String password)</span> <span class="keyword">throws</span> ParamNullException </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (userName == <span class="keyword">null</span> || password == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> ParamNullException();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (User user : USERS) &#123;</span><br><span class="line">    <span class="keyword">if</span> (user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password)) &#123;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>想知道具体的哪个对象是空</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">login</span><span class="params">(String userName, </span></span></span><br><span class="line"><span class="function"><span class="params">                  String password)</span> <span class="keyword">throws</span> ParamNullException </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (userName == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> ParamNullException(<span class="string">"用户名为空"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (password == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> ParamNullException(<span class="string">"密码为空"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (User user : USERS) &#123;</span><br><span class="line">    <span class="keyword">if</span> (user.getUserName().equals(userName) &amp;&amp; user.getPassword().equals(password)) &#123;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上运行会报错</p>
<p>因为我们调用了<code>throw new ParamNullException(&quot;密码为空&quot;);</code></p>
<p>大家知道这个new其实执行了ParamNullException 的构造函数，但是我们并没有创建这个方法，所以我们需要新增这个构造函数。在创建构造函数的时候，你得先了解一下父类的构造函数</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/exceptionMethod.png" alt="img"></p>
<p>我们创建的时候必须要执行 super 构造函数的，所以最后你应该是这样的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ParamNullException</span> <span class="keyword">extends</span> <span class="title">Exception</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ParamNullException</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ParamNullException</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意：我们还要创建一个空的构造函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ParamNullException</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="finally"><a href="#finally" class="headerlink" title="finally"></a>finally</h4><p>假如小王在.工作时突然犯病,<br>因而提前下班。我们来模<br>拟一下这个行为，我们还创建了两个异常类:<br>LeaveEarlyException(代表提前下班的异常)、<br>DiseaseException(代表生病的异常)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> <span class="keyword">throws</span> LeaveEarlyException </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      开门</span><br><span class="line">      工作 <span class="number">8</span>个小时 <span class="comment">// 可能会抛出异常 DiseaseException</span></span><br><span class="line">      关门</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (DiseaseException e)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> LeaveEarlyException();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们应该希望不管上班过程出现任何意外，都是要关门的。所以这个时候我们就需要使用到finally 代码块，它一般和 try一起使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> <span class="keyword">throws</span> LeaveEarlyException </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      开门</span><br><span class="line">      工作 <span class="number">8</span>个小时 <span class="comment">// 可能会抛出异常 DiseaseException</span></span><br><span class="line">      关门</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (DiseaseException e)&#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> LeaveEarlyException();</span><br><span class="line">    &#125; <span class="keyword">finally</span>&#123;</span><br><span class="line">      关门</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如.上面的模拟代码，这样系统就安全啦。finally 在我们以后操作数据库或者其他流的时候会用到，其他时候用的不多所以我们这里不演示其他案例了</p>
<h3 id="5-1-内部类语法"><a href="#5-1-内部类语法" class="headerlink" title="5.1 内部类语法"></a>5.1 内部类语法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Outer</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如上面的代码，内部类的格式和普通的Java类并没有什么不同</p>
<p><strong>内部类</strong>:创建在一个class内,这里的InnerTool</p>
<p>Outer我们称为<strong>外部类</strong></p>
<p>想调用内部类，要<strong>先实例化</strong>且实例化只能在<code>Outer</code>内完成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//实例化</span></span><br><span class="line">    <span class="keyword">private</span> InnerTool tool = <span class="keyword">new</span> InnerTool();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="UML类图"><a href="#UML类图" class="headerlink" title="UML类图"></a>UML类图</h4><p><img src="https://style.youkeda.com/img/ham/course/j2/InnerTool.svg" alt="img"></p>
<h4 id="内部类实例化"><a href="#内部类实例化" class="headerlink" title="内部类实例化"></a>内部类实例化</h4><p>加需求，实现3个数字的加法；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> InnerTool tool = <span class="keyword">new</span> InnerTool();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> c)</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> tool.add( tool.add(a,b) , c );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>tool.add( tool.add(a,b) , c );</code></p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/tools.svg" alt="img"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.util.OuterUtil;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtilTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       OuterUtil outer = <span class="keyword">new</span> OuterUtil();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">int</span> sum = outer.add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">       System.out.println(sum);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="访问实例内部类"><a href="#访问实例内部类" class="headerlink" title="访问实例内部类"></a>访问实例内部类</h4><p>其他类调用内部类</p>
<p>比如<code>OuterUtilTest</code>调用<code>InnerTool</code></p>
<p><code>InnerTool</code>访问控制符是public 所以：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">OuterUtil.InnerTool tool = <span class="keyword">new</span> OuterUtil().<span class="keyword">new</span> InnerTool();</span><br></pre></td></tr></table></figure>

<p>先把外部类实例化：</p>
<p><strong>该内部所属的外部类.内部类 实例名  = new 外部类方法（）.new 内部类方法（）；</strong></p>
<p>实例内部类有个约束：<strong>不能有静态变量</strong></p>
<h4 id="静态内部类"><a href="#静态内部类" class="headerlink" title="静态内部类"></a>静态内部类</h4><p>内部类变静态内部类：增加 static 关键字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">InnerTool</span> </span>&#123; <span class="comment">// 内部类</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果我们声明为静态内部类后，那么就可以直接调用这个内部类，不需要先实例化外部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.test;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.util.OuterUtil;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 静态内部类是需要单独 import 的</span></span><br><span class="line"><span class="keyword">import</span> com.youkeda.util.OuterUtil.InnerTool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterUtilTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       InnerTool tool = <span class="keyword">new</span> InnerTool();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">int</span> sum = tool.add(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">       System.out.println(sum);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="局部内部类"><a href="#局部内部类" class="headerlink" title="局部内部类"></a>局部内部类</h4><p>在方法里面定义一个类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tester</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">B</span></span>&#123;</span><br><span class="line">            <span class="keyword">int</span> a;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        B b = <span class="keyword">new</span> B();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在过去内部类经常用于解决子类只能继承一个父类的缺陷，相对来说在 Android 场景上使用的会多一些，但是随着 Java 语言自身的不断升级，内部类的使用场景越来越少。</p>
<h3 id="5-2-匿名类"><a href="#5-2-匿名类" class="headerlink" title="5.2 匿名类"></a>5.2 匿名类</h3><p>本质上它就是一个局部内部类，不同的是匿名类只用于类的实例化，而不是声明</p>
<p>举个例子,我们现在有一个接口A</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">A</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运用匿名类，可以实现接口类</p>
<p>实例化：<code>A a = new A(){A接口的方法};</code></p>
<p>运用：<code>a.A接口中的方法</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ATest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">      <span class="comment">//new一个接口类，方法体是接口方法，</span></span><br><span class="line">    A a = <span class="keyword">new</span> A()&#123;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">         System.out.println(<span class="string">"执行内部类"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    a.method();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相当于实现类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AImpl</span> <span class="keyword">implements</span> <span class="title">A</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"执行类"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>匿名类除了实现接口外，也可以是继承父类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sub</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    Sub sub = <span class="keyword">new</span> Sub()&#123;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">         System.out.println(<span class="string">"执行内部类"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    sub.print();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相当于</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubNode</span> <span class="keyword">extends</span> <span class="title">Sub</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"执行"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>类似简写的实现类</em></p>
<h4 id="随机数补充介绍"><a href="#随机数补充介绍" class="headerlink" title="随机数补充介绍"></a>随机数补充介绍</h4><p>我们在前面学习过 Math.random() 得到 0~1 之间的随机数，除了这种方案之外，还可以利用 java.util.Random 类。例子如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实例化随机数</span></span><br><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="comment">// 得到0-7之间的随机数</span></span><br><span class="line"><span class="keyword">int</span> num = r.nextInt(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果想得到 0-8 之间的随机数</span></span><br><span class="line"><span class="keyword">int</span> num = r.nextInt(<span class="number">9</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果想得到50-100之间的随机数</span></span><br><span class="line"><span class="keyword">int</span> num = r.nextInt(<span class="number">51</span>)+<span class="number">50</span>;</span><br><span class="line"><span class="comment">// 这个 51 = 100 - 50 + 1</span></span><br></pre></td></tr></table></figure>



<h3 id="5-3-接口中的默认方法"><a href="#5-3-接口中的默认方法" class="headerlink" title="5.3 接口中的默认方法"></a>5.3 接口中的默认方法</h3><p>抽象类：首先是一个父类，他的实例化必须有子类</p>
<p>例子</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个武器的抽象类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Weapon</span></span>&#123;</span><br><span class="line">  <span class="comment">// 抽象方法：攻击</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>关键字<code>abstract</code>：需要声明在class类上以及需要抽象的方法上</p>
<p><em>抽象类也可以添加普通的方法从而方便子类去复用方法</em></p>
<p>声明抽象类后，它的子类必须实现抽象方法，如同实现接口一样</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GoldenBar</span> <span class="keyword">extends</span> <span class="title">Weapon</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"使用金箍棒进行劈一棍"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="抽象类UML图"><a href="#抽象类UML图" class="headerlink" title="抽象类UML图"></a>抽象类UML图</h4><p><img src="https://style.youkeda.com/img/ham/course/j2/weapon.svg" alt="img"></p>
<h4 id="接口的默认方法"><a href="#接口的默认方法" class="headerlink" title="接口的默认方法"></a>接口的默认方法</h4><p>接口的默认方法也解决另外一个常见的重构问题，就是接口新增一个方法不需要所有子类修改，起到平滑升级的目的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Vehicle</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"我是一辆车!"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>default</code>关键字：这个时候实现类如果没有自己的实现逻辑，就可以不用覆盖默认方法。</p>
<p><strong>总结：用了<code>default</code>关键字后，接口可以定义方法体，实现类可覆盖可不覆盖不会报错，main（）；可以直接调用接口里面定义的方法运行</strong></p>
<h3 id="6-1-对象的关系"><a href="#6-1-对象的关系" class="headerlink" title="6.1 对象的关系"></a>6.1 对象的关系</h3><h4 id="聚合关系-Aggregation"><a href="#聚合关系-Aggregation" class="headerlink" title="聚合关系(Aggregation)"></a>聚合关系(Aggregation)</h4><p>聚合是一种特殊的关联(Association)形式，表示两个对象之间的所属(has-a)关系。所有者对象称为<strong>聚合对象</strong>，它的类称为<strong>聚合类</strong>；从属对象称为<strong>被聚合对象</strong>，它的类称为称为<strong>被聚合类</strong>。</p>
<p>例如，一个公司有很多员工就是公司类 Company 和员工类 Employee 之间的一种聚合关系。被聚合对象和聚合对象有着各自的生命周期，即<em>如果公司倒闭并不影响员工的存在</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Company</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Employee&gt; employees;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="聚合关系UML图"><a href="#聚合关系UML图" class="headerlink" title="聚合关系UML图"></a>聚合关系UML图</h4><p>注意箭头</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/aggregation.svg" alt="img"></p>
<h4 id="组合关系-Composition"><a href="#组合关系-Composition" class="headerlink" title="组合关系(Composition)"></a>组合关系(Composition)</h4><p>聚合是一种较弱形式的对象包含(一个对象包含另一个对象)关系，较强形式是组合(Composition)。在组合关系中包含对象负责被包含对象的创建以及生命周期，即当包含对象被销毁时被包含对象也会不复存在。</p>
<p>例如一辆汽车拥有一个引擎是汽车类 Car 与引擎类 Engine 的组合关系。下面是组合的一些例子。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 实例化一个不可变的属性 engine</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Engine engine = <span class="keyword">new</span> Engine();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Engine</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String type;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="组合关系UML图"><a href="#组合关系UML图" class="headerlink" title="组合关系UML图"></a>组合关系UML图</h4><p><img src="https://style.youkeda.com/img/ham/course/j2/composition.svg" alt="img"></p>
<h3 id="依赖关系-Dependency"><a href="#依赖关系-Dependency" class="headerlink" title="依赖关系(Dependency)"></a>依赖关系(Dependency)</h3><p>依赖(Dependency)描述的是一个类的引用用作另一个类的方法的参数。</p>
<p>如，我们之前使用的 UserService 和 User 之间就是依赖关系,大家注意看一下线条，依赖和关联的区别在于有没有属性存在，<em>依赖的类是有属性变量的</em></p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/dependency.svg" alt="img"></p>
<h4 id="继承-Inheritance-实现-Realization-关系"><a href="#继承-Inheritance-实现-Realization-关系" class="headerlink" title="继承(Inheritance)/实现(Realization)关系"></a>继承(Inheritance)/实现(Realization)关系</h4><p>继承和实现的 UML 图是一样的表达了子类继承父类，实现类实现接口的关系</p>
<p><img src="https://style.youkeda.com/img/ham/course/j2/bar.svg" alt="img"></p>
<h3 id="7-1-List和数组的互换"><a href="#7-1-List和数组的互换" class="headerlink" title="7.1 List和数组的互换"></a>7.1 List和数组的互换</h3><p>专门处理数组和集合的类<code>java.util.Arrays</code></p>
<h4 id="static-List-asList-T…-a"><a href="#static-List-asList-T…-a" class="headerlink" title="static List asList(T… a)"></a>static List asList(T… a)</h4><p>asList 方法是把任意的相同对象实例转变为 List。</p>
<p>T 是泛型类型 : 泛型代表可以是任意的 Java 对象，比如 String、Course 等。泛型如果要使用，还<strong>需要在方法名前面再额外声明</strong>，比如我们这里的<code>&lt;T&gt;</code></p>
<p><code>...</code>是可变参数的一种声明  ： 方法参数不确定的时候可以使用。和数组很像</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function">List&lt;T&gt; <span class="title">asList</span><span class="params">(T[] a)</span></span></span><br></pre></td></tr></table></figure>

<p>案例分析<code>List&lt;Integer&gt; lists = Arrays.asList(intArr);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysMain</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 数字数组</span></span><br><span class="line">    Integer[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line">    <span class="comment">// 转化数组为 list</span></span><br><span class="line">      </span><br><span class="line">    List&lt;Integer&gt; lists = Arrays.asList(intArr);</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">    System.out.println(<span class="string">"集合的长度是: "</span> + lists.size());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong> Arrays.asList() 的参数值必须是<strong>对象数组</strong>（例如<code>Integer[]</code>）,才支持泛型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line"><span class="comment">// 不能用泛型</span></span><br><span class="line">List lists = Arrays.asList(intArr);</span><br></pre></td></tr></table></figure>

<p>也就是说，对于基本类型（小写的 <code>byte,short,int,long,float,double,boolean</code>）的数组（例如 <code>int[]</code>），<code>lists</code>包含了什么类型的数据，是不清楚的。</p>
<p>所以 不要用  Arrays.asList()  转换 <strong>基本类型数组</strong></p>
<p><code>...</code>效果  <code>...</code>就是代码中的”小王”,”小明”；”小王”,”小明”,”小李”；不确定参数个数、集合长度时候建议用这种声明办法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysMain</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">   <span class="comment">// 转化数组为 list</span></span><br><span class="line">   List&lt;String&gt; lists = Arrays.asList(<span class="string">"小王"</span>,<span class="string">"小明"</span>);</span><br><span class="line">   System.out.println(<span class="string">"集合的长度是: "</span> + lists.size());</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 转化数组为 list2</span></span><br><span class="line">   List&lt;String&gt; lists2 = Arrays.asList(<span class="string">"小王"</span>,<span class="string">"小明"</span>,<span class="string">"小李"</span>);</span><br><span class="line">   System.out.println(<span class="string">"集合2的长度是: "</span> + lists2.size());</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="List转为数组"><a href="#List转为数组" class="headerlink" title="List转为数组"></a>List转为数组</h4><p>toArray方法,不用导包</p>
<p><code>Integer[] arr = al.toArray(new Integer[]{});</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">List2ArrayTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; al = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        al.add(<span class="number">10</span>);</span><br><span class="line">        al.add(<span class="number">20</span>);</span><br><span class="line">        al.add(<span class="number">30</span>);</span><br><span class="line">        al.add(<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转化为数组</span></span><br><span class="line">       Integer[] arr = al.toArray(<span class="keyword">new</span> Integer[]&#123;&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Integer x : arr) &#123;</span><br><span class="line">          System.out.println(x + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="List转为字符串"><a href="#List转为字符串" class="headerlink" title="List转为字符串"></a>List转为字符串</h4><p><code>String.join(&quot;split&quot;,list)</code>方法</p>
<p><code>String string = String.join(&quot;,&quot;, list);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Array2StringTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 创建字符串集合</span></span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">"Geeks"</span>, <span class="string">"ForGeeks"</span>, <span class="string">"GeeksForGeeks"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转化集合为字符串， 使用 `,` 分割</span></span><br><span class="line">        String string = String.join(<span class="string">","</span>, list);</span><br><span class="line">        <span class="comment">// 打印结果</span></span><br><span class="line">        System.out.println(<span class="string">"字符串是: "</span> + string);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者写成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//*  表示把java.util包下的全部导入（List、ArrayList、Arrays都导入了）</span></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Array2StringTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 字符串数组</span></span><br><span class="line">        String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"Geeks"</span>, <span class="string">"ForGeeks"</span>, <span class="string">"GeeksForGeeks"</span>&#125;;</span><br><span class="line">        <span class="comment">// 创建字符串集合</span></span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(arr);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转化集合为字符串， 使用 `,` 分割</span></span><br><span class="line">        String string = String.join(<span class="string">","</span>, list);</span><br><span class="line">        <span class="comment">// 打印结果</span></span><br><span class="line">        System.out.println(<span class="string">"字符串是: "</span> + string);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="7-2-排序"><a href="#7-2-排序" class="headerlink" title="7.2 排序"></a>7.2 排序</h3><h4 id="Arrays-sort"><a href="#Arrays-sort" class="headerlink" title="Arrays.sort()"></a>Arrays.sort()</h4><p>导包：<code>java.util.Arrays;</code> </p>
<p><code>sort()</code>方法默认  从小到大排序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysSortTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get the Array</span></span><br><span class="line">        Integer[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// To sort the array using normal sort-</span></span><br><span class="line">        Arrays.sort(intArr);</span><br><span class="line">        </span><br><span class="line"><span class="comment">//注意：使用了  toString（）  方法进行打印</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"Integer Array: "</span></span><br><span class="line">                           + Arrays.toString(intArr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line">    Integer Array: [<span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">22</span>, <span class="number">35</span>]</span><br></pre></td></tr></table></figure>

<h4 id="Arrays-toString-的方法签名如下"><a href="#Arrays-toString-的方法签名如下" class="headerlink" title="Arrays.toString 的方法签名如下"></a>Arrays.toString 的方法签名如下</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">boolean</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">byte</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">char</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">double</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">float</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">long</span>[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(Object[] arr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">toString</span><span class="params">(<span class="keyword">short</span>[] arr)</span></span></span><br></pre></td></tr></table></figure>

<h4 id="自定义排序"><a href="#自定义排序" class="headerlink" title="自定义排序"></a>自定义排序</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(T[] a, Comparator&lt; <span class="keyword">super</span> T&gt; c)</span>:</span></span><br></pre></td></tr></table></figure>

<p>我们可以在第二个参数里传递自定义比较类来确定排序</p>
<p><code>java.util.Comparator</code>是一个接口</p>
<p>该接口方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">//返回值是 int，我们根据返回值 &gt;0、=0、&lt;0 进行重新排序</span></span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果 第一个参数：o1 &gt; 第二个参数：o2 则执行的是升序，o1 &lt; o2 则执行降序</p>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraysSortTest2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Integer[] intArr = &#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">15</span>, <span class="number">22</span>, <span class="number">35</span> &#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 自定义排序</span></span><br><span class="line">        Arrays.sort(intArr, <span class="keyword">new</span> Comparator&lt;Integer&gt;()&#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Integer o1, Integer o2)</span></span>&#123;</span><br><span class="line">                <span class="comment">// 判断 o2&gt;o1，执行降序排序</span></span><br><span class="line">                <span class="comment">//前面的o1-后面的o2 ：从小到大</span></span><br><span class="line">                <span class="comment">//后面的o2-前面的o1 : 从大到小</span></span><br><span class="line">                <span class="keyword">return</span> o2-o1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Integer Array: "</span></span><br><span class="line">                           + Arrays.toString(intArr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">    Integer Array: [<span class="number">10</span>, <span class="number">15</span>, <span class="number">20</span>, <span class="number">22</span>, <span class="number">35</span>]</span><br></pre></td></tr></table></figure>



<h4 id="集合的排序"><a href="#集合的排序" class="headerlink" title="集合的排序"></a>集合的排序</h4><p>用<code>java.util.Collections</code>工具，用sort方法来处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">sort</span><span class="params">(List&lt;T&gt; list, Comparator&lt;? <span class="keyword">super</span> T&gt; c)</span></span></span><br></pre></td></tr></table></figure>

<p>注意：如果执行了 Collections.sort 方法，list 的顺序会直接被修改为排序后</p>
<p><strong>例子：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> rollNo;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> rollNo, String name,</span></span></span><br><span class="line"><span class="function"><span class="params">                               String address)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.rollNo = rollNo;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 省略了 getter、setter</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 重写 toString 方法，用于后面的打印</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.rollNo + <span class="string">" "</span> + <span class="keyword">this</span>.name +</span><br><span class="line">                           <span class="string">" "</span> + <span class="keyword">this</span>.address;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>test</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListSortTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List&lt;Student&gt; ar = <span class="keyword">new</span> ArrayList&lt;Student&gt;();</span><br><span class="line">    ar.add(<span class="keyword">new</span> Student(<span class="number">111</span>, <span class="string">"bbbb"</span>, <span class="string">"london"</span>));</span><br><span class="line">    ar.add(<span class="keyword">new</span> Student(<span class="number">131</span>, <span class="string">"aaaa"</span>, <span class="string">"nyc"</span>));</span><br><span class="line">    ar.add(<span class="keyword">new</span> Student(<span class="number">121</span>, <span class="string">"cccc"</span>, <span class="string">"jaipur"</span>));</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"原始集合"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ar.size(); i++) &#123;</span><br><span class="line">      System.out.println(ar.get(i));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 实现升序排序</span></span><br><span class="line">    Collections.sort(ar, <span class="keyword">new</span> Comparator&lt;Student&gt;()&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Student a, Student b)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 第一个参数的学号 &gt; 第二个参数的学号</span></span><br><span class="line">          </span><br><span class="line">        <span class="keyword">return</span> a.getRollNo() - b.getRollNo();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"\n排序后的集合"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ar.size(); i++) &#123;</span><br><span class="line">      System.out.println(ar.get(i));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="7-3-集合操作"><a href="#7-3-集合操作" class="headerlink" title="7.3 集合操作"></a>7.3 集合操作</h3><h4 id="删除-remove"><a href="#删除-remove" class="headerlink" title="删除 remove"></a>删除 remove</h4><p>集合既然可以添加也可以删除，如果我们要移除某一个元素</p>
<p><code>List.remove(int index)</code></p>
<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListRemoveDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list.add(<span class="string">"for"</span>);</span><br><span class="line">        list.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list.add(<span class="string">"10"</span>);</span><br><span class="line">        list.add(<span class="string">"20"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"集合: "</span> + list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 删除第4条记录</span></span><br><span class="line">        list.remove(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"修改后的集合: "</span> + list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="合并-addAll"><a href="#合并-addAll" class="headerlink" title="合并 addAll"></a>合并 addAll</h4><p>两个集合，合并为一个集合    <code>A.addAll(B)</code>把B合并到A里面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListAddAllDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list1 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list1.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list1.add(<span class="string">"For"</span>);</span><br><span class="line">        list1.add(<span class="string">"ForGeeks"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ArrayList 1: "</span></span><br><span class="line">                           + list1);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list2 = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list2.add(<span class="string">"GeeksForGeeks"</span>);</span><br><span class="line">        list2.add(<span class="string">"A computer portal"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ArrayList 2: "</span></span><br><span class="line">                           + list2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 合并 list2 到 list1 集合中</span></span><br><span class="line">        list1.addAll(list2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Joined ArrayLists: "</span></span><br><span class="line">                           + list1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="截取-subList"><a href="#截取-subList" class="headerlink" title="截取 subList"></a>截取 subList</h4><p>从集合里截取一段内容，我们就得需要 <code>subList(int begin,int end)</code> 方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubListDemo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        list.add(<span class="string">"Geeks"</span>);</span><br><span class="line">        list.add(<span class="string">"for"</span>);</span><br><span class="line">        list.add(<span class="string">"Geeks1"</span>);</span><br><span class="line">        list.add(<span class="string">"10"</span>);</span><br><span class="line">        list.add(<span class="string">"20"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"集合: "</span> + list);</span><br><span class="line"><span class="comment">//截取第三（包含）（0 1 2）条到第四条（不含）</span></span><br><span class="line">        List&lt;String&gt; arrlist2 = list.subList(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"修改后的集合: "</span> + arrlist2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line">    </span><br><span class="line">集合: [Geeks, <span class="keyword">for</span>, Geeks1, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">修改后的集合: [Geeks1, <span class="number">10</span>]</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/" data-id="ckd5k3gni0002a8v2dnv44qn4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-post-name" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/post-name/" class="article-date">
  <time datetime="2020-07-15T09:01:05.000Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/post-name/">post_name</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/post-name/" data-id="ckd5k3gnl0003a8v25sdwdls0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-java语言入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/java%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2020-07-15T07:30:00.000Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/java%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8/">java语言入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-2"><a href="#1-2" class="headerlink" title="1.2"></a>1.2</h3><ul>
<li>编译器：完成编译任务的程序，在高级语言执行执行之前一次性对程序进行完整的编译;</li>
<li>这种高级语言叫做源代码，源代码编译后的结果是字节码;</li>
<li>java语言最大的特点是一次编写到处运行;</li>
<li>源代码—编译器—字节码—解释器（JVM Java虚拟机）—计算机运行.</li>
</ul>
<h3 id="1-3Java-程序的构成"><a href="#1-3Java-程序的构成" class="headerlink" title="1.3Java 程序的构成"></a>1.3Java 程序的构成</h3><p>Java 源代码是一个后缀为 java 的文本文件<br>注意：Java 文件名必须是英文字母（有数字也可以，尽量不用数字），不能有空格,首字母是大写;<br><img src="https://style.youkeda.com/img/ham/course/j1/j1-1/codeDesc1.svg" alt=""><br><code>System.out.println(&quot;&quot;)</code>  执行：打印一行，println 是 print new line 单词缩写；<br>java代码基本是一行一行执行的，所以每一行代码结束的地方都得有 <code>;</code></p>
<h3 id="1-4-Java-代码注释"><a href="#1-4-Java-代码注释" class="headerlink" title="1.4 Java 代码注释"></a>1.4 Java 代码注释</h3><p>块注释</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*我是块注释</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>



<p>行注释<code>//</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这行代码是要输出 我的世界</span></span><br><span class="line">System.out.println(<span class="string">"我的世界"</span>);</span><br></pre></td></tr></table></figure>





<h3 id="2-1-变量"><a href="#2-1-变量" class="headerlink" title="2.1 变量"></a>2.1 变量</h3><ul>
<li>变量是解决内容复用的，是有名称的的存储地址；</li>
<li>java把一切内容都用对象来表示（字符串、数字、布尔、日期、时间），所以变量内容就是对象；</li>
<li>声明：创建一个变量        类型 变量名；例： <code>String name；  int age</code>；</li>
<li>关键字：java中不允许声明的名称。  例： <code>public、static、void、int</code>等。</li>
</ul>
<h3 id="2-2-赋值"><a href="#2-2-赋值" class="headerlink" title="2.2 赋值"></a>2.2 赋值</h3><p>• 在变量名后面加上  <code>= 数据</code>   若数据是字符类型则需要用   <code>&quot;&quot;</code>   包围字符串，例：<br>    <code>String world = &quot;你好呀&quot;;</code><br>• 重复赋值：该变量的值是可以被再次修改的。 </p>
<h3 id="2-3-数据类型"><a href="#2-3-数据类型" class="headerlink" title="2.3 数据类型"></a>2.3 数据类型</h3><ol>
<li><p>字符串：<code>String</code>，值需要用  <code>&quot;&quot;</code>  包围；</p>
</li>
<li><p>数字：小整数 int （-231<del>231-1  10位数）； 大整数 long （-263</del>263-1  19位数）； 浮点数 double ；<br> 注意 long 类型赋值的时候要在数字最后面跟上一个小写的 l(注意是字母 L 不要看错啦),比如</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> num = <span class="number">78900000123l</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>布尔：值为true或false；</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 是否允许</span></span><br><span class="line"><span class="keyword">boolean</span> isAllow = <span class="keyword">true</span>;</span><br></pre></td></tr></table></figure>
<h3 id="2-4-运算符"><a href="#2-4-运算符" class="headerlink" title="2.4 运算符"></a>2.4 运算符</h3><p>• 加法运算符 +<br>• 减法运算符 -<br>• 乘法运算符 *<br>• 除法运算符 /<br>• 整除运算符 %<br><strong>注意:</strong><br>• Java 执行的是整除除法，也就是说当两个操作数都是整数时，结果也会自动变成整数（直接去掉了小数点的值）<br>• 字符串使用 + 可以让多个字符串链接在一起，如果字符串+数字也会变成字符</p>
<h3 id="3-1-数学函数"><a href="#3-1-数学函数" class="headerlink" title="3.1 数学函数"></a>3.1 数学函数</h3><p>随机数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 得到一个随机数</span></span><br><span class="line"><span class="keyword">double</span> value = Math.random();</span><br><span class="line">System.out.println(value);</span><br></pre></td></tr></table></figure>

<p>如上代码，Math 是 Java 提供的类用于提供数学计算的，random 就是方法<code>Math.random()</code> 方法用于返回一个随机数，随机数范围为 0.0 =&lt; Math.random &lt; 1.0<br>类型转换：将<code>double</code>类型转换为<code>int</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> nValue = (<span class="keyword">int</span>) value;</span><br></pre></td></tr></table></figure>

<p>得到0-9的随机数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// (value*10) 用小括号包围是因为先乘10得到结果在转化为整数</span></span><br><span class="line"><span class="comment">// 要不然得不到结果，这个就是数学的优先级</span></span><br><span class="line"><span class="keyword">int</span> nValue = (<span class="keyword">int</span>) (value*<span class="number">10</span>);</span><br></pre></td></tr></table></figure>





<h3 id="3-2-自定义方法"><a href="#3-2-自定义方法" class="headerlink" title="3.2 自定义方法"></a>3.2 自定义方法</h3><ol>
<li><p>main方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 固定的方法格式，main方法用于启动程序</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<p>  方法语法</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// public（公共的） static（静态） void（空类型）</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> 方法名称(方法参数)&#123;</span><br><span class="line">  代码块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>驼峰式命名<br> • 大驼峰命名法（每个单词第一个字母大写）：用户名称 <code>UserName</code>、我的文档 <code>MyDocument</code>、密码 <code>Password</code><br> • 小驼峰命名法（第一个单词字母小写，后面的单词第一个字母大写）：我的文档<code>myDocument</code>.</li>
</ol>
<h3 id="3-3自定义方法调用"><a href="#3-3自定义方法调用" class="headerlink" title="3.3自定义方法调用"></a>3.3自定义方法调用</h3><p>方法调用：方法被创建了之后去执行这个方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Custom</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">      System.out.println(<span class="string">"测试"</span>);</span><br><span class="line">      <span class="comment">// 这里执行一下 newLine 这个自定义方法的调用</span></span><br><span class="line">      newLine();</span><br><span class="line">      System.out.println(<span class="string">"结束"</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">newLine</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">""</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>​    方法可以被任意的调用多次。newLine 方法里也可以调用其他方法<br>​    方法的作用：</p>
<ol>
<li>解决代码复用问题；</li>
<li>隐藏程序细节，程序更清晰，降低复杂度。</li>
</ol>
<p>​    </p>
<h3 id="3-4-方法参数"><a href="#3-4-方法参数" class="headerlink" title="3.4 方法参数"></a>3.4 方法参数</h3><p><img src="https://style.youkeda.com/img/ham/course/j1/j1-3/method1.svg" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Custom</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    random(<span class="number">100000</span>);</span><br><span class="line">    random(<span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">  *生成随机数</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">random</span><span class="params">(<span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> code = (<span class="keyword">int</span>) ((Math.random()+<span class="number">1</span>) * length);</span><br><span class="line">    System.out.println(code);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>形参：声明在方法参数这个位置里的变量</p>
<p>方法调用</p>
<ul>
<li>如果方法有了参数声明后，就必须要传入参数，否则会编译失败；</li>
<li>这个参数可以是变量，也可以是值,只是要特别注意数据类型要匹配，你不能给一个 int 参数 传入 String 字符串类型.这个传递的变量称为 实参。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接传值</span></span><br><span class="line">random(<span class="number">100000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传递变量</span></span><br><span class="line"><span class="keyword">int</span> len = <span class="number">100000</span>;</span><br><span class="line">random(len);</span><br></pre></td></tr></table></figure>



<p>3.5 多参数方法<br>多参数的时候使用 <code>,</code> 分隔开</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageCode</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String text = <span class="string">"亲爱的优课达用户，你本次的验证码是"</span>;</span><br><span class="line">    code(text,<span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">(String text,<span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">      <span class="keyword">int</span> code = (<span class="keyword">int</span>)((Math.random()+<span class="number">1</span>)*len);</span><br><span class="line">      System.out.println(text+<span class="string">"【"</span>+code+<span class="string">"】"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>如何使产生的随机数第一个数不是1：<br>让随机数*9+1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageCode1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    String text = <span class="string">"您收到的验证码为"</span>;</span><br><span class="line">    code(text,<span class="number">1000</span>);</span><br><span class="line">     &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">code</span> <span class="params">(String text,<span class="keyword">int</span> length)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> rand = (<span class="keyword">int</span>)((Math.random()*<span class="number">9</span>+<span class="number">1</span>)*length);</span><br><span class="line">    System.out.println(text+<span class="string">"【"</span>+rand+<span class="string">"】"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-1-条件执行"><a href="#4-1-条件执行" class="headerlink" title="4.1 条件执行"></a>4.1 条件执行</h3><p>条件语句就是让我们执行条件判断的语法，若条件表达式为真，代码块执行；反之，则什么都不会发生。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件表达式)&#123;</span><br><span class="line">    </span><br><span class="line"> 代码块</span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>条件表达式可以包含任意的比较运算符（有时候也叫做关系运算符）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">x == y  <span class="comment">// x 等于 y</span></span><br><span class="line"></span><br><span class="line">x != y  <span class="comment">// x 不等于 y</span></span><br><span class="line"></span><br><span class="line">x &gt; y  <span class="comment">// x 大于 y</span></span><br><span class="line"></span><br><span class="line">x &lt; y  <span class="comment">// x 小于 y</span></span><br><span class="line"></span><br><span class="line">x &gt;= y  <span class="comment">// x 大于等于 y</span></span><br><span class="line"></span><br><span class="line">x &lt;= y  <span class="comment">// x 小于等于 y</span></span><br></pre></td></tr></table></figure>



<p>注意：<code>=</code>为赋值，<code>==</code>为等于，没有<code>=&gt;</code>  <code>=&lt;</code>的写法，运算符比较，类型得相同int与int比较，double与double比较。</p>
<h3 id="4-2-选择性执行"><a href="#4-2-选择性执行" class="headerlink" title="4.2 选择性执行"></a>4.2 选择性执行</h3><p>选择性执行指的的就是有两条可选路径，我们通过判断条件来选择其中一条路径</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件表达式)&#123;</span><br><span class="line"></span><br><span class="line"> 代码语句</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line"> 代码语句</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="4-3-条件判断链"><a href="#4-3-条件判断链" class="headerlink" title="4.3 条件判断链"></a>4.3 条件判断链</h3><p>条件链：条件判断多于两个，并且需要根据条件的不同执行不同的分支</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">report</span><span class="params">(String name,<span class="keyword">double</span> score)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span>(score &gt;= <span class="number">90</span>)&#123;</span><br><span class="line">  System.out.println(name+<span class="string">",你本次的成绩为优秀"</span>);</span><br><span class="line"> &#125; <span class="keyword">else</span> <span class="keyword">if</span>(score &gt;= <span class="number">80</span>)&#123;</span><br><span class="line">  System.out.println(name+<span class="string">",你本次的成绩为良好"</span>);</span><br><span class="line"> &#125; <span class="keyword">else</span> <span class="keyword">if</span>(score &gt;= <span class="number">60</span>)&#123;</span><br><span class="line">  System.out.println(name+<span class="string">",你本次的成绩为及格"</span>);</span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  System.out.println(name+<span class="string">",你本次的成绩为不通过"</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>else if 这个和 if 本质没有什么区别，唯一的区别在于它的执行顺序，Java 代码的执行是一行一行的执行，所以条件链的执行是先从第一个条件判断开始，如果判断不成功继续执行下一个判断，一直到没有条件符合的情况。</p>
<h3 id="4-4-嵌套条件"><a href="#4-4-嵌套条件" class="headerlink" title="4.4 嵌套条件"></a>4.4 嵌套条件</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudentReport</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span> <span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">report(<span class="string">"小明"</span>,<span class="number">80</span>);</span><br><span class="line">   report(<span class="string">"小王"</span>,<span class="number">90</span>);</span><br><span class="line">   report(<span class="string">"小四"</span>,<span class="number">70</span>);</span><br><span class="line">   report(<span class="string">"小五"</span>,<span class="number">50</span>);</span><br><span class="line">   report(<span class="string">"小六"</span>,<span class="number">40</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">report</span> <span class="params">(String name, <span class="keyword">double</span> score)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(score &gt;= <span class="number">60</span>)&#123;</span><br><span class="line">    message(name);</span><br><span class="line">    <span class="keyword">if</span>(score &gt;= <span class="number">90</span>)&#123;</span><br><span class="line">     System.out.println(name+<span class="string">",你本次的成绩为优秀"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(score &gt;= <span class="number">80</span>)&#123;</span><br><span class="line">     System.out.println(name+<span class="string">",你本次的成绩为良好"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">     System.out.println(name+<span class="string">",你本次的成绩为及格"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    System.out.println(name+<span class="string">",你本次的成绩为不通过"</span>);</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">message</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">   System.out.println(name+<span class="string">"恭喜你成功进阶"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们可以看到，这里我们在 if 语句里再执行 if else 语句，这就是嵌套执行，Java 是可以多层嵌套的.</p>
<h3 id="4-5-返回语句"><a href="#4-5-返回语句" class="headerlink" title="4.5 返回语句"></a>4.5 返回语句</h3><p>返回语句完成程序中断</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">plan</span><span class="params">(<span class="keyword">double</span> temperature)</span></span>&#123;</span><br><span class="line"> System.out.println(<span class="string">"准备出门去学校"</span>);</span><br><span class="line"> <span class="keyword">if</span>(temperature&gt;<span class="number">38</span>)&#123;</span><br><span class="line">  <span class="comment">// 体温超过38度，属于发烧，忌运动</span></span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> System.out.println(<span class="string">"去操场踢球"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不难看出多了一个 return; 这就是返回语句，代码执行到这里的时候就会中断后面的代码。</p>
<p>有一点需要特别说明的，就是 return;语句之后是不能有其他代码的，除非是在嵌套代码里</p>
<h3 id="4-6-递归"><a href="#4-6-递归" class="headerlink" title="4.6 递归"></a>4.6 递归</h3><p>递归：一个方法也可以调用它自身</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountDown</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  count(<span class="number">3</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">count</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">  System.out.println(number);</span><br><span class="line">  number = number - <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (number == <span class="number">0</span>) &#123;</span><br><span class="line">   System.out.println(<span class="string">"程序执行完毕"</span>);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  count(number);</span><br><span class="line"><span class="comment">//递归，count方法里面调用count</span></span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>5.1 返回值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* 得到验证码</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">(<span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line"> <span class="comment">// 得到随机数结果</span></span><br><span class="line"> <span class="keyword">double</span> val = Math.random();</span><br><span class="line"> <span class="comment">// 随机数结果*9+1 然后再乘以位数得到验证码</span></span><br><span class="line"> <span class="keyword">int</span> result = (<span class="keyword">int</span>)((val*<span class="number">9</span>+<span class="number">1</span>)*len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>方法的声明上有不同</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 验证码方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">(<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="comment">// 随机数方法</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">random</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>

<p>如果有返回值，返回语句应该是程序的最后执行的行（大多数是最后一行，如果有 if else 语句可能就不是最后一行） </p>
<h3 id="5-2-布尔-amp-amp-逻辑运算符"><a href="#5-2-布尔-amp-amp-逻辑运算符" class="headerlink" title="5.2 布尔&amp;&amp;逻辑运算符"></a>5.2 布尔&amp;&amp;逻辑运算符</h3> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(x&gt;<span class="number">0</span>)&#123;</span><br><span class="line"> System.out.println(<span class="string">"x&gt;0"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p> 用boolean可以写成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> flag = x&gt;<span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(flag)&#123;</span><br><span class="line"> System.out.println(<span class="string">"x&gt;0"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>boolean类型除了作用于这里，也可以作为方法的参数或者返回类型。比如判断是否<br>及格的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isPass</span><span class="params">(<span class="keyword">int</span> score)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> score &gt;= <span class="number">60</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><p>与 and <code>&amp;&amp;</code></p>
<p>或者 or <code>||</code></p>
<p>非 not  <code>!</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(x&gt;<span class="number">0</span> &amp;&amp; x &lt;<span class="number">10</span>)&#123;</span><br><span class="line">  <span class="comment">// 表示 x 大于0 并且 x小于10时才为真</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(x == <span class="number">60</span> || x == <span class="number">80</span> || x == <span class="number">90</span>)&#123;</span><br><span class="line">  <span class="comment">//组合多次， 表示 x 等于60 或者 x 等于80 或者x等于90都为真</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(x!=<span class="number">0</span>)&#123;</span><br><span class="line">  <span class="comment">// 表示x不等于0的时候</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对 boolean 数据进行 <code>!</code> 的运用这个表示对 boolean 值进行否定</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">boolean</span> isPass = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!isPass)&#123;</span><br><span class="line">  System.out.println(<span class="string">"通过考试"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="6-1-自增和自减"><a href="#6-1-自增和自减" class="headerlink" title="6.1 自增和自减"></a>6.1 自增和自减</h3><ul>
<li><p>自减：<code>变量名称--</code>，比如 <code>number--</code>，两个<code>-</code>相当于<code>number=number-1;</code>由于默认是-1,所以1可以省略.</p>
<p>其他步长 :  只要固定减数字，``number = number -2<code>; 可以改成</code>number-=2;`</p>
</li>
<li><p>自增：把<code>--</code>换成<code>++</code></p>
</li>
</ul>
<h3 id="6-2-数组"><a href="#6-2-数组" class="headerlink" title="6.2 数组"></a>6.2 数组</h3><p>数组就是一组类型相同的数据组合在一起。</p>
<p>初始化变量</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span>[] numbers = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">8</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>数组初始化完后，并没有存储实际的值，int 类型的数据默认值是0,<br>所以如果没有完成数组的赋值，那么int数组的每一个值都是0;<br>String类型的数据默认值是null,所以没有赋值，那么String数组的<br>每一个值都是nul</p>
<p><code>int[]</code>表示”整型数组”类型，<code>string[]</code>表示”字符串数组”类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明一个 int 数组的变量，数组大小为6</span></span><br><span class="line"><span class="keyword">int</span>[] numbers = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">6</span>];</span><br><span class="line"><span class="comment">//new int[6]创建一个新的数组空间，空间大小为6</span></span><br></pre></td></tr></table></figure>

<p>借助下标存储数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明一个 int 数组的变量，数组大小为6</span></span><br><span class="line"><span class="keyword">int</span>[] numbers = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">6</span>];</span><br><span class="line"><span class="comment">//下标从0开始</span></span><br><span class="line">numbers[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">numbers[<span class="number">1</span>] = <span class="number">3</span>;</span><br><span class="line">numbers[<span class="number">2</span>] = <span class="number">5</span>;</span><br><span class="line">numbers[<span class="number">3</span>] = <span class="number">7</span>;</span><br><span class="line">numbers[<span class="number">4</span>] = <span class="number">9</span>;</span><br><span class="line">numbers[<span class="number">5</span>] = <span class="number">11</span>;</span><br></pre></td></tr></table></figure>

<p>获取数据，用下标</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 得到数组中第三个数字</span></span><br><span class="line"><span class="keyword">int</span> num = numbers[<span class="number">2</span>];</span><br><span class="line">System.out.println(num);</span><br></pre></td></tr></table></figure>

<p>注意获取数组的最后一位是number[number.length-1]</p>
<p>长度（多少个数）:<code>length</code></p>
<p>获取数组长度 <code>int size = number.length;</code></p>
<h3 id="6-3-for循环"><a href="#6-3-for循环" class="headerlink" title="6.3 for循环"></a>6.3 for循环</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  String[] tables = <span class="keyword">new</span> String[]&#123;<span class="string">"张三"</span>,<span class="string">"李四"</span>, <span class="string">"王五"</span>&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tables.length; i++)&#123;</span><br><span class="line">    String name = tables[i];</span><br><span class="line">    System.out.println(i+<span class="string">"："</span>+name);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><code>new String[]{&quot;张三&quot;，&quot;李四&quot;，“王五&quot;};</code>这个语法就是初始化字符串、数组数据;如果是数字数组的话，那就是<code>new int[]{39,40,89};</code>浮点数据就是<code>new double[]{39,40, 89};</code></p>
<h4 id="扩展知识点"><a href="#扩展知识点" class="headerlink" title="扩展知识点"></a>扩展知识点</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String name : tables) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>等同于</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tables.length; i++)&#123;</span><br><span class="line">  String name = tables[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="嵌套循环"><a href="#嵌套循环" class="headerlink" title="嵌套循环"></a>嵌套循环</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//打印3*3乘法口诀表</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//控制行</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">    String line = <span class="string">""</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">      <span class="comment">// 拼接line字符串，打印出 类似 1*2=2 2*2=4 这样的效果</span></span><br><span class="line">      line = line + j + <span class="string">"*"</span> + i + <span class="string">"="</span> + j * i + <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(line);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="7-1调用字符串对象方法"><a href="#7-1调用字符串对象方法" class="headerlink" title="7.1调用字符串对象方法"></a>7.1调用字符串对象方法</h3><ul>
<li>字符串长度length()</li>
</ul>
<p>​     用法  <code>message.length();</code> 该长度计算包含message里面的所有字符（文字、数字、标点、符号、空格等）</p>
<ul>
<li>取出字符串中的一个字charAt(index)</li>
</ul>
<p>​    一个字符串，比如: <code>Hello Java</code> ，我们想取出第二个字，那么就可以使用<code>charAt(index)</code>，index 就是具体的坐标(和数组一样，从0开始的)，所以第二个字的index值是1.</p>
<p>​    <strong>注意：charAt方法返回的类型是char，且只能存一个字符</strong></p>
<ul>
<li><p>去掉左右多余的空格trim()</p>
<p><code>String newStr=message.trim();</code>得到的是一个新的、两端没有空格的字符串。</p>
</li>
</ul>
<h3 id="7-2-字符串常用方法"><a href="#7-2-字符串常用方法" class="headerlink" title="7.2 字符串常用方法"></a>7.2 字符串常用方法</h3><h4 id="查找字符串indexOf"><a href="#查找字符串indexOf" class="headerlink" title="查找字符串indexOf"></a>查找字符串indexOf</h4><p>indexOf(“字符串”) 去文本中查找第一个匹配到的int类型的坐标索引值，若返回<code>-1</code>：不匹配，返回<code>！=-1</code>  :匹配成功</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str = <span class="string">"Java是一种广泛使用的计算机编程语言，拥有跨平台、面向对象、泛型编程的特性，广泛应用于企业级Web应用开发和移动应用开发。任职于太阳微系统的詹姆斯·高斯林等人于1990年代初开发Java语言的雏形，最初被命名为Oak，目标设置在家用电器等小型系统的编程语言，应用在电视机、电话、闹钟、烤面包机等家用电器的控制和通信。由于这些智能化家电的市场需求没有预期的高，Sun公司放弃了该项计划。随着1990年代互联网的发展，Sun公司看见Oak在互联网上应用的前景，于是改造了Oak，于1995年5月以Java的名称正式发布。Java伴随着互联网的迅猛发展而发展，逐渐成为重要的网络编程语言。"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> index = str.indexOf(<span class="string">"Java"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(index!=-<span class="number">1</span>)&#123;</span><br><span class="line">      System.out.println(<span class="string">"匹配到了Java，索引位置是"</span>+index);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"没有匹配到了Java"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>找第二个出现 java 的位置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">   String str = <span class="string">"Java是一种广泛使用的计算机编程语言，于1995年5月以Java的名称正式发布。"</span>;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">int</span> index = str.indexOf(<span class="string">"Java"</span>);</span><br><span class="line"></span><br><span class="line">   index = str.indexOf(<span class="string">"Java"</span>, index + <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">   System.out.println(<span class="string">"第二次匹配到了Java，索引位置是"</span> + index);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><code>indexOf(&quot;Java&quot;, index + 4);</code></p>
<p>第二个是数字类型，设定开始查找位置</p>
<h4 id="字符串拼接-substring"><a href="#字符串拼接-substring" class="headerlink" title="字符串拼接 substring"></a>字符串拼接 substring</h4><p>得到某个匹配到的字符串后的内容；</p>
<p><code>substring（开始索引，结束索引）；</code></p>
<p>拼接一个新的字符串从开始索引（含）到结束索引（不含）；</p>
<p><code>substring(开始索引)；</code></p>
<p>拼接一个新的字符串从开始索引（含）一直到结束.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str = <span class="string">"Java是一种广泛使用的计算机编程语言，拥有跨平台、面向对象、泛型编程的特性，广泛应用于企业级Web应用开发和移动应用开发。任职于太阳微系统的詹姆斯·高斯林等人于1990年代初开发Java语言的雏形，最初被命名为Oak，目标设置在家用电器等小型系统的编程语言，应用在电视机、电话、闹钟、烤面包机等家用电器的控制和通信。由于这些智能化家电的市场需求没有预期的高，Sun公司放弃了该项计划。随着1990年代互联网的发展，Sun公司看见Oak在互联网上应用的前景，于是改造了Oak，于1995年5月以Java的名称正式发布。Java伴随着互联网的迅猛发展而发展，逐渐成为重要的网络编程语言。"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> index = str.indexOf(<span class="string">"Java"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (index != -<span class="number">1</span>) &#123;</span><br><span class="line">      System.out.println(<span class="string">"匹配到了Java，索引位置是"</span> + index);</span><br><span class="line"><span class="comment">//想取出java之后的结果所以加4</span></span><br><span class="line">      String newStr = str.substring(index+<span class="number">4</span>);</span><br><span class="line">      System.out.println(newStr);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">"没有匹配到了Java"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="字符串开始和结束内容判断startsWith-endsWith"><a href="#字符串开始和结束内容判断startsWith-endsWith" class="headerlink" title="字符串开始和结束内容判断startsWith/endsWith"></a>字符串开始和结束内容判断startsWith/endsWith</h4><p><code>endsWith(&quot;字符串&quot;);</code>  判断是否以该字符结尾，返回值是boolean；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">  String fileName = <span class="string">"报告.doc"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(fileName.endsWith(<span class="string">".doc"</span>))&#123;</span><br><span class="line">    System.out.println(<span class="string">"是word文档"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>startWith();</code>  判断开头，用法一致；</p>
<h4 id="字符串替换-replaceAll"><a href="#字符串替换-replaceAll" class="headerlink" title="字符串替换 replaceAll"></a>字符串替换 replaceAll</h4><p><code>replaceAll(&quot;要替换的值&quot;,&quot;新值&quot;);</code>  执行后得到一个新字符串，原先的不变；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String str = <span class="string">"Java是一种广泛使用的计算机编程语言，拥有跨平台、面向对象、泛型编程的特性，广泛应用于企业级Web应用开发和移动应用开发。于1995年5月以Java的名称正式发布。Java伴随着互联网的迅猛发展而发展，逐渐成为重要的网络编程语言。"</span>;</span><br><span class="line"></span><br><span class="line">    String newStr = str.replaceAll(<span class="string">"Java"</span>,<span class="string">"Python"</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(newStr);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>



<h3 id="7-3-字符串操作"><a href="#7-3-字符串操作" class="headerlink" title="7.3 字符串操作"></a>7.3 字符串操作</h3><h4 id="字符串分割-split-“分割字符串”"><a href="#字符串分割-split-“分割字符串”" class="headerlink" title="字符串分割 split(“分割字符串”)"></a>字符串分割 split(“分割字符串”)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">  String text = <span class="string">"姓名|年龄|性别\n张三|20|男\n李四|18|男\n小花|18|女"</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 使用 split 进行换行符的分割，得到一个新的数组对象,这个"\n"也可以是".""|""*"等</span></span><br><span class="line">  String[] data = text.split(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 因为第一行是标题不是数据，所以我们需要把长度-1</span></span><br><span class="line">  <span class="comment">// (注意要使用小括号包围，因为要先计算长度再组合字符串)</span></span><br><span class="line">  System.out.println(<span class="string">"共有:"</span>+(data.length-<span class="number">1</span>)+<span class="string">" 条记录"</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>.</code>   <code>|</code>   <code>*</code>  这三个字符如果作为分割符，那么就需要加上<code>\\</code> ,比如<code>str .split(&quot;\\|&quot;);</code></p>
<h4 id="大小写转化toUpperCase-toLowerCase"><a href="#大小写转化toUpperCase-toLowerCase" class="headerlink" title="大小写转化toUpperCase/toLowerCase"></a>大小写转化toUpperCase/toLowerCase</h4><p>toUpperCase方法，toUpperCase() 方法没有参数,把字符中的字母全变成大写骈且返回出新字符串数据.</p>
<p>toLowerCase() 全变小写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String text = <span class="string">"zhangSan,LiSi"</span></span><br><span class="line">String enName = text.toUpperCase();</span><br></pre></td></tr></table></figure>

<h4 id="字符串比较equals"><a href="#字符串比较equals" class="headerlink" title="字符串比较equals"></a>字符串比较equals</h4><p>比较两个字符串是否相同   <code>equals(&quot;被比较的字符串&quot;)</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  String text = <span class="string">"字符串"</span>;</span><br><span class="line">  <span class="comment">// 使用 equals 方法判断是否相同</span></span><br><span class="line">  <span class="keyword">if</span> (text.equals(<span class="string">"字符串"</span>)) &#123;</span><br><span class="line">    System.out.println(<span class="string">"equals 方法字符串相等"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 前后顺序无所谓,下面代码是一样的</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="string">"字符串"</span>.equals(text)) &#123;</span><br><span class="line">    System.out.println(<span class="string">"equals 方法字符串相等"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="数字和字符串转化Integer-parseInt"><a href="#数字和字符串转化Integer-parseInt" class="headerlink" title="数字和字符串转化Integer.parseInt"></a>数字和字符串转化Integer.parseInt</h4><p>字符串转数字</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String text = <span class="string">"123"</span>;</span><br><span class="line">    <span class="comment">// 转化字符串为数字</span></span><br><span class="line">    <span class="keyword">int</span> a = Integer.parseInt(text);</span><br><span class="line">    System.out.println(a);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 转化字符串为数字</span></span><br><span class="line">    a = Integer.parseInt(<span class="string">"100"</span>);</span><br><span class="line">    System.out.println(a);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>数字转字符串</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">100</span>;</span><br><span class="line">    <span class="comment">//使用空字符串相加数字，会自动变成字符串类型</span></span><br><span class="line">    String str = <span class="string">""</span>+a;</span><br><span class="line">    System.out.println(str);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>使用String.valueOf() 方法，valueOf 方法参数接受数字、浮点、布尔类型转化为字符串。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> a = <span class="number">100</span>;</span><br><span class="line">  <span class="comment">//使用valueOf强制把数字转化为字符串</span></span><br><span class="line">  String str = String.valueOf(a);</span><br><span class="line">  System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-1-包（package）的导入"><a href="#8-1-包（package）的导入" class="headerlink" title="8.1 包（package）的导入"></a>8.1 包（package）的导入</h3><p>因为Java体系非常庞大，为了管理更多的代码互不侵犯，所以采用一个叫”包管理”的机制来管理代码,</p>
<p>简单来说就是把不同的Java代码放在不同的文件夹里，这个文件夹就是”包(package)”。对于使用不同包的代码，得需要先导入这个包。<br>String、int、 double、 long 这些属于基础类型，所以不需要导入包。<br>在Java当中导入包的语句就是<code>import 包名+类名;</code>包名+类名组成了完整的包路径。</p>
<p><strong>注意：这一句代码在类文件前面</strong></p>
<h4 id="日期时间和字符串的转化"><a href="#日期时间和字符串的转化" class="headerlink" title="日期时间和字符串的转化"></a>日期时间和字符串的转化</h4><p><code>年-月-日   时:分:秒</code>   java语言格式：  <code>yyyy-MM-dd   HH:mm:ss</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//导包</span></span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTest5</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    LocalDate time = LocalDate.now();</span><br><span class="line">    <span class="comment">// 打印默认的时间数据</span></span><br><span class="line">    System.out.println(time.toString());</span><br><span class="line"><span class="comment">//格式化处理</span></span><br><span class="line">    <span class="comment">// 创建一个格式化方式</span></span><br><span class="line">    DateTimeFormatter df = DateTimeFormatter.ofPattern(<span class="string">"yyyy年MM月dd"</span>);</span><br><span class="line">    <span class="comment">// 执行时间的格式化处理，得到期望格式的时间字符串</span></span><br><span class="line">    String timeStr = df.format(time);</span><br><span class="line">    <span class="comment">// 打印时间</span></span><br><span class="line">    System.out.println(timeStr);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">输出：</span><br><span class="line"><span class="number">2020</span>-<span class="number">07</span>-<span class="number">18</span></span><br><span class="line"><span class="number">2020</span>年<span class="number">07</span>月<span class="number">18</span>日</span><br><span class="line">------运行结束------</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<h4 id="获取日期时间具体的值"><a href="#获取日期时间具体的值" class="headerlink" title="获取日期时间具体的值"></a>获取日期时间具体的值</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTest7</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">    LocalDate time = LocalDate.now();</span><br><span class="line">    <span class="comment">// 得到当前时间所在年</span></span><br><span class="line">    <span class="keyword">int</span> year = time.getYear();</span><br><span class="line">    System.out.println(<span class="string">"当前年份 "</span> + year);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 得到当前时间所在月</span></span><br><span class="line">    <span class="keyword">int</span> month = time.getMonth().getValue();</span><br><span class="line">    System.out.println(<span class="string">"当前月份 "</span> + month);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 得到当前时间在这个月中的天数</span></span><br><span class="line">    <span class="keyword">int</span> day = time.getDayOfMonth();</span><br><span class="line">    System.out.println(<span class="string">"当前日 "</span> + day);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 得到当前时间所在星期数</span></span><br><span class="line">    <span class="keyword">int</span> dayOfWeek = time.getDayOfWeek().getValue();</span><br><span class="line">    System.out.println(<span class="string">"当前星期 "</span> + dayOfWeek);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>getyear和getday方法， 源码中返回类型是int,所以可以直接获取值，而getMonth和getDayOfWeek的返回类型是Month和DayOfWeek,所以返回的不是int,需要用getValue方法去获取值。</p>
<h3 id="8-1-时间日期类的运用"><a href="#8-1-时间日期类的运用" class="headerlink" title="8.1 时间日期类的运用"></a>8.1 时间日期类的运用</h3><h4 id="字符串转化为日期时间"><a href="#字符串转化为日期时间" class="headerlink" title="字符串转化为日期时间"></a>字符串转化为日期时间</h4><p>time转换成字符串  <code>time.toString();</code> </p>
<p>把字符串转换为LocalDate类型 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个时间字符串，日期是2019年1月1日</span></span><br><span class="line">   String date = <span class="string">"2019-01-01"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 把字符串转化位 LocalDate 对象，并得到字符串匹配的日期</span></span><br><span class="line">   LocalDate date2 = LocalDate.parse(date);</span><br></pre></td></tr></table></figure>

<p>如果字符串格式不是 <code>yyyy-MM-dd</code>,那么就要借助<code>DateTimeFormatter</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个时间字符串，日期是2019年1月1日</span></span><br><span class="line">   String date = <span class="string">"2019/01/01"</span>;</span><br><span class="line"></span><br><span class="line">   DateTimeFormatter df = DateTimeFormatter.ofPattern(<span class="string">"yyyy/MM/dd"</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 把字符串转化位 LocalDate 对象，并得到字符串匹配的日期</span></span><br><span class="line">   LocalDate date2 = LocalDate.parse(date,df);</span><br><span class="line"><span class="comment">// 打印出日期</span></span><br><span class="line">   System.out.println(date2.toString());</span><br></pre></td></tr></table></figure>

<h4 id="时间日期的计算"><a href="#时间日期的计算" class="headerlink" title="时间日期的计算"></a>时间日期的计算</h4><p>LocalDate类有一个<code>plusDays(天数)</code> 方法用于执行天数的相加</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTest9</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    LocalDate leaveTime = getLeaveTime(<span class="string">"2019-05-01"</span>, <span class="number">4</span>);</span><br><span class="line">    System.out.println(leaveTime.toString());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 根据入住时间和入住天数得到离店时间</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> checkInTime</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> days</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LocalDate <span class="title">getLeaveTime</span><span class="params">(String checkInTime, <span class="keyword">int</span> days)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 把字符串转化为 LocalDate 类型</span></span><br><span class="line">    LocalDate time = LocalDate.parse(checkInTime);</span><br><span class="line">    <span class="comment">// 使用 plusDays 添加天数，得到新的时间</span></span><br><span class="line">    LocalDate leaveTime = time.plusDays(days);</span><br><span class="line">    <span class="keyword">return</span> leaveTime;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其他日期计算</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTest10</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    LocalDate now = LocalDate.now();</span><br><span class="line">    System.out.println(<span class="string">"当前："</span> + now.toString());</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"加法运算"</span>);</span><br><span class="line">    System.out.println(<span class="string">"加1天："</span> + now.plusDays(<span class="number">1</span>));</span><br><span class="line">    System.out.println(<span class="string">"加1周："</span> + now.plusWeeks(<span class="number">1</span>));</span><br><span class="line">    System.out.println(<span class="string">"加1月："</span> + now.plusMonths(<span class="number">1</span>));</span><br><span class="line">    System.out.println(<span class="string">"加1年："</span> + now.plusYears(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"减法运算"</span>);</span><br><span class="line">    System.out.println(<span class="string">"减1天："</span> + now.minusDays(<span class="number">1</span>));</span><br><span class="line">    System.out.println(<span class="string">"减1周："</span> + now.minusWeeks(<span class="number">1</span>));</span><br><span class="line">    System.out.println(<span class="string">"减1月："</span> + now.minusMonths(<span class="number">1</span>));</span><br><span class="line">    System.out.println(<span class="string">"减1年："</span> + now.minusYears(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="两个日期时间的判断"><a href="#两个日期时间的判断" class="headerlink" title="两个日期时间的判断"></a>两个日期时间的判断</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTest11</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    LocalDate now = LocalDate.now();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 可以对两个 LocalDate 进行比较，</span></span><br><span class="line">    <span class="comment">// 可以判断一个日期是否在另一个日期之前或之后，</span></span><br><span class="line">    <span class="comment">// 或者判断两个日期是否是同年同月同日。</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span> isBefore = now.minusDays(<span class="number">1</span>).isBefore(LocalDate.now());</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"是否在当天之前："</span> + isBefore);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">boolean</span> isAfter = now.plusDays(<span class="number">1</span>).isAfter(LocalDate.now());</span><br><span class="line">    System.out.println(<span class="string">"是否在当天之后："</span> + isAfter);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 判断是否是当天</span></span><br><span class="line">    <span class="keyword">boolean</span> sameDate = now.isEqual(LocalDate.now());</span><br><span class="line">    System.out.println(<span class="string">"是否在当天："</span> + sameDate);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意只有”yyyy-MM-dd“ 格式的字符串才可以直接转化成LocalDate，”2019-4-8“不行。</strong></p>
<h1 id="2-8-2-4里面比较时间的表达"><a href="#2-8-2-4里面比较时间的表达" class="headerlink" title="2. 8.2.4里面比较时间的表达"></a>2. 8.2.4里面比较时间的表达</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">notice</span><span class="params">(String time)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 把字符串转化为 LocalDate 类型</span></span><br><span class="line">    LocalDate dateTime = LocalDate.parse(time);</span><br><span class="line"></span><br><span class="line">    LocalDate noticeTime = LocalDate.parse(<span class="string">"2019-04-08"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dateTime.isBefore(noticeTime)) &#123;</span><br><span class="line">      System.out.println(<span class="string">"活动还未开始"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dateTime.isAfter(noticeTime)) &#123;</span><br><span class="line">      System.out.println(<span class="string">"活动已经结束啦"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dateTime.equals(noticeTime)) &#123;</span><br><span class="line">      System.out.println(<span class="string">"活动开始啦"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//isBefore是布尔类型，还没声明就直接用了</span></span><br></pre></td></tr></table></figure>



<h3 id="8-3面向对象-抽象"><a href="#8-3面向对象-抽象" class="headerlink" title="8.3面向对象-抽象"></a>8.3面向对象-抽象</h3><p>在java中一切皆对象</p>
<p>创建java</p>
<p>四个规范</p>
<p>●文件名由<code>类名</code> + <code>java</code> 组成，比如说 HelloWord.java<br>●类名遵循大驼峰命名法，首字母大写,类名里不能有中文和特殊字符哦(比如: &amp;、#、@、*等)，只能是字母和数字。比如: HelloWord、 Test、 Test40<br>●Java类内容遵守固定的格式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 类名称 </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Java 类是存放在lava 包中的，默认情况下Java工程中的代码是存放在src/main/java 目录中,从这个目录开始才是包名开始的地方，这个是lava 工程化推荐的目录结构。</p>
<h3 id="8-4-面向对象-包"><a href="#8-4-面向对象-包" class="headerlink" title="8.4 面向对象-包"></a>8.4 面向对象-包</h3><ul>
<li><p>用<code>package</code>管理代码</p>
</li>
<li><p>包路径就是文件夹相对路径</p>
</li>
<li><p>包路径和子包路径直接用<code>.</code>来做分隔</p>
</li>
<li><p>包名的规则： 一般来说包名的开始是一个公司或者-个组织的域名的反写，如果是个人也可以遵守类似的规则，举个例子，优课达的域名是youkeda. com ,那么包名的起始就是  <code>com. youkeda</code>，我们就需要创建  <code>com/youkeda</code>   这样的两级目录。Java 的规范建议是用包管理代码。</p>
</li>
<li><p>声明包路径：这个包下的java文件需要声明包   <code>com.youkeda.test.hello.java</code>  该文件里面第一行声明   <code>package com.youkeda.test;</code></p>
</li>
<li><p>包名的字母一般都是小写</p>
</li>
</ul>
<h4 id="引入自定义的类"><a href="#引入自定义的类" class="headerlink" title="引入自定义的类"></a>引入自定义的类</h4><ul>
<li><p>import 包路径.文件名;</p>
</li>
<li><p>import语句要在package之后</p>
</li>
</ul>
<h3 id="8-5-面向对象-属性-方法"><a href="#8-5-面向对象-属性-方法" class="headerlink" title="8.5 面向对象-属性/方法"></a>8.5 面向对象-属性/方法</h3><p>一座房子：特征：颜色、卧室       行为：打开水龙头、打开灯；</p>
<p>特征称为<strong>对象属性</strong>，而行为称为<strong>对象方法</strong>，完整的抽象过程分别是<strong><em>抽象对象名称、对象属性、对象方法。</em></strong></p>
<h4 id="对象属性"><a href="#对象属性" class="headerlink" title="对象属性"></a>对象属性</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">House</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 房子的颜色是绿色</span></span><br><span class="line">    <span class="keyword">public</span> String color = <span class="string">"green"</span>;</span><br><span class="line">    <span class="comment">// 房子的卧室有2间</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> bedRooms = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="对象方法"><a href="#对象方法" class="headerlink" title="对象方法"></a>对象方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">House</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 房子的颜色是绿色</span></span><br><span class="line">    <span class="keyword">public</span> String color = <span class="string">"green"</span>;</span><br><span class="line">    <span class="comment">// 房子的卧室有2间</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> bedRooms = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 打开水龙头</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">runWater</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 打开电灯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">turnLightsOn</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>有static的方法我们称为静态方法，没有static的方法叫对象方法</p>
<h1 id="问题：静态方法和对象方法的区别"><a href="#问题：静态方法和对象方法的区别" class="headerlink" title="问题：静态方法和对象方法的区别"></a>问题：静态方法和对象方法的区别</h1><ol>
<li><strong>静态方法属于整个类所有，因此调用它不需要实例化，可以直接调用（类.静态方法（））。实例方法必须先实例化，创建一个对象，才能进行调用（对象.实例方法（））。</strong></li>
<li><strong>静态方法只能访问静态成员，不能访问实例成员；而实例方法可以访问静态成员和实例成员。</strong></li>
<li><strong>在程序运行期间，静态方法是一直存放在内存中，因此调用速度快，但是却占用内存。实例方法是使用完成后由回收机制自动进行回收，下次再使用必须再实例化。</strong></li>
<li><strong>一般来说，公共的函数、经常调用的可以写成静态方法，比如数据连接等（SqlHelper)。</strong></li>
</ol>
<h3 id="8-6-实例化对象"><a href="#8-6-实例化对象" class="headerlink" title="8.6 实例化对象"></a>8.6 实例化对象</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//我的房子</span></span><br><span class="line">House myHouse = <span class="keyword">new</span> House();</span><br><span class="line"></span><br><span class="line"><span class="comment">//你的房子</span></span><br><span class="line">House youHouse = <span class="keyword">new</span> House();</span><br><span class="line"></span><br><span class="line"><span class="comment">//她的房子</span></span><br><span class="line">House herHouse = <span class="keyword">new</span> House();</span><br></pre></td></tr></table></figure>

<p>对象的属性只有实例化之后才能被调用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用开灯方法</span></span><br><span class="line">youHouse.turnLightsOn();</span><br><span class="line"><span class="comment">//更改房子属性，让房子变成红色；</span></span><br><span class="line">herHouse.color = <span class="string">"red"</span>;</span><br></pre></td></tr></table></figure>

<h4 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h4><p>语法：<code>new 构造函数();</code></p>
<p>构造函数其实是一个特别的对象方法</p>
<p>1.它的名称是和类名一模一样<br>    比如House.java这个类的构造函数名称就是House ，绝大多数情况下构造函数都是Java系统自动创建的<br>2.构造函数方法没有返回值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">House</span></span>&#123;</span><br><span class="line">     <span class="comment">//这就是默认的构造函数</span></span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="title">House</span><span class="params">()</span></span>&#123;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>3.构造函数一般配合实例化一起使用，可以把构造函数当作类对象的初始化方法</p>
<p><em>注意:构造函数是对象方法，所以也具备所有方法的能力，比如有参数、可以在方法里写代码逻辑</em></p>
<h3 id="8-7-构造函数"><a href="#8-7-构造函数" class="headerlink" title="8.7 构造函数"></a>8.7 构造函数</h3><h4 id="带参构造函数"><a href="#带参构造函数" class="headerlink" title="带参构造函数"></a>带参构造函数</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">House</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 房子的颜色是绿色</span></span><br><span class="line">    <span class="keyword">public</span> String color = <span class="string">"green"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自定义一个带 color 参数的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">House</span><span class="params">(String color)</span></span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//上面的this，相当于之前的myHouse，也就是说this代表实例化后的对象</span></span><br><span class="line">myHouse.color = <span class="string">"red"</span>;</span><br></pre></td></tr></table></figure>

<p>显示指定默认构造函数</p>
<p>如果在Java类中定义了新的构造函数，那么默认的无参数构造函数就失效了。</p>
<h1 id="问题：为什么定义了新的构造函数，默认函数会失效，必须要有一个默认的构造函数程序才能正常运行吗？"><a href="#问题：为什么定义了新的构造函数，默认函数会失效，必须要有一个默认的构造函数程序才能正常运行吗？" class="headerlink" title="问题：为什么定义了新的构造函数，默认函数会失效，必须要有一个默认的构造函数程序才能正常运行吗？"></a>问题：为什么定义了新的构造函数，默认函数会失效，必须要有一个默认的构造函数程序才能正常运行吗？</h1><p><strong><em>也就是说如果之前构造函数定义过了房子是绿色，实例化时候再设定房子是绿色就会冲突报错，设定为其他颜色或者不设定就可以正常运行了。</em></strong></p>
<p>如果想让默认的构造函数生效，你可以再添加一个默认的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">House</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 房子的颜色是绿色</span></span><br><span class="line">    <span class="keyword">public</span> String color = <span class="string">"green"</span>;</span><br><span class="line">    <span class="comment">// 房子的卧室有2间</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> bedRooms = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">House</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自定义一个带 color 参数的构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">House</span><span class="params">(String color)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="8-7-构造函数-1"><a href="#8-7-构造函数-1" class="headerlink" title="8.7 构造函数"></a>8.7 构造函数</h3><p>面向对象的类：<code>Java.io.File</code></p>
<p>File(文件)是操作系统中的基本元素，对于工程师来说也是经常打交道的，Java File 也非常强大，它也是抽象电脑上的文件而来的。</p>
<h4 id="实例化-File"><a href="#实例化-File" class="headerlink" title="实例化 File"></a>实例化 File</h4><p>先导包 <code>import java.io.File</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实例化一个文件实例，指向到 d:/img/a.png 文件</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"d:/img/a.png"</span>);</span><br></pre></td></tr></table></figure>

<p>除了上面的实例化方式，File 还有两个常用的构造函数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据parent路径名字符串和child路径名字符串创建一个新 File 实例</span></span><br><span class="line">File(String parent, String child)</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过给定的父文件对象和子路径名字符串创建一个新的File实例</span></span><br><span class="line">File(File parent, String child)</span><br></pre></td></tr></table></figure>

<h1 id="问题：-看不懂另外两种实例化方式"><a href="#问题：-看不懂另外两种实例化方式" class="headerlink" title="问题： 看不懂另外两种实例化方式"></a>问题： 看不懂另外两种实例化方式</h1><p><img src="D:%5Copt%5CGit%5Cdownloads%5Cxiangzi233.github.io%5Csource%5C_posts%5Cpost-name%5Clocaldate.png" alt="image-20200723142003767"></p>
<p>实例化成功后，File 类会找到对应的那个文件，从而可以获取和操作文件</p>
<h5 id="获取文件大小方法"><a href="#获取文件大小方法" class="headerlink" title="获取文件大小方法"></a>获取文件大小方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回字节数</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">length</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>

<p>通过这个我们可以知道方法名称、方法参数、返回类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//得到文件大小的字节数</span></span><br><span class="line"><span class="keyword">long</span> size = file.length();</span><br></pre></td></tr></table></figure>



<h3 id="8-8-ArrayList"><a href="#8-8-ArrayList" class="headerlink" title="8.8 ArrayList"></a>8.8 ArrayList</h3><p>假设需要打印n个文件，文件不确定数量，无法使用数组来存储；</p>
<p>则可以用动态数组 <code>java.utill.ArrayList</code> 对象 来存储多个文件；</p>
<p><strong>语法：</strong></p>
<p>ArrayList本质上就是一个动态数组对象，可以防便的存储集合对象，一般来说我们会把同一个类型的数据存储在这个ArrayList 里。我们如果要使用ArrayList 就必须要先实例化,</p>
<p>实例化的语法都是一样的， 使用new关键字，并且需要指定对象类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意导包</span></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这里的 Java 对象类型可以是任意的对象类型</span></span><br><span class="line"><span class="comment">// 比如 String、Integer、House 等</span></span><br><span class="line"><span class="comment">// 这里的 &lt;&gt; 是 Java 泛型的规范,记住这个语法就行了</span></span><br><span class="line">ArrayList&lt;Java 对象类型&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure>

<p><strong>add 方法</strong></p>
<p>添加数据   <code>.add(&quot;数据&quot;);</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mport java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListTest1</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建一个 ArrayList 存储字符串集合</span></span><br><span class="line">    ArrayList&lt;String&gt; strs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加数据到 ArrayList 实例里</span></span><br><span class="line">    strs.add(<span class="string">"张三"</span>);</span><br><span class="line">    strs.add(<span class="string">"李四"</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>get/size  方法</strong></p>
<p>动态数组具备数组的特点</p>
<ul>
<li>可以获取长度<code>.size()</code></li>
<li>可以根据索引获取具体的值  get(index) ，ArrayList的索引从 0 开始</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListTest1</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建一个 ArrayList 存储字符串集合</span></span><br><span class="line">    ArrayList&lt;String&gt; strs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加数据到 ArrayList 实例里</span></span><br><span class="line">    strs.add(<span class="string">"张三"</span>);</span><br><span class="line">    strs.add(<span class="string">"李四"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取集合的长度</span></span><br><span class="line">    <span class="keyword">int</span> size = strs.size();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用 for 循环迭代每一条记录</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;size;i++)&#123;</span><br><span class="line">       <span class="comment">// 根据索引获取值，值的类型是 String</span></span><br><span class="line">       String str = strs.get(i);</span><br><span class="line">       System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>for语句循环迭代集合的另一种写法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListTest1</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 创建一个 ArrayList 存储字符串集合</span></span><br><span class="line">    ArrayList&lt;String&gt; strs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="comment">// 添加数据到 ArrayList 实例里</span></span><br><span class="line">    strs.add(<span class="string">"张三"</span>);</span><br><span class="line">    strs.add(<span class="string">"李四"</span>);</span><br><span class="line">    <span class="comment">// 获取集合的长度</span></span><br><span class="line">    <span class="keyword">int</span> size = strs.size();</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">    <span class="comment">// 使用 for 循环迭代每一条记录</span></span><br><span class="line"><span class="comment">//for( 集合变量的类型 变量名称 : 集合变量 )</span></span><br><span class="line">    <span class="keyword">for</span>(String str : strs)&#123;</span><br><span class="line">       System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="9-实战机器人对话"><a href="#9-实战机器人对话" class="headerlink" title="9. 实战机器人对话"></a>9. 实战机器人对话</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.model;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> joe</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RobotMessageRequest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> reqType =<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> Perception perception;</span><br><span class="line">    <span class="keyword">private</span> UserInfo userInfo = <span class="keyword">new</span> UserInfo();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getReqType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> reqType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setReqType</span><span class="params">(<span class="keyword">int</span> reqType)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.reqType = reqType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Perception <span class="title">getPerception</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> perception;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPerception</span><span class="params">(Perception perception)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.perception = perception;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserInfo <span class="title">getUserInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserInfo</span><span class="params">(UserInfo userInfo)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.userInfo = userInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Perception</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> InputText inputText;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> InputText <span class="title">getInputText</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> inputText;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInputText</span><span class="params">(InputText inputText)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.inputText = inputText;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">InputText</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String text;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getText</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> text;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setText</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.text = text;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">UserInfo</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> String apiKey = <span class="string">"b017c92f5c084daab1dc79f6dba247a8"</span>;</span><br><span class="line">        <span class="keyword">private</span> String userId = <span class="string">"youkeda001"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getApiKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> apiKey;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setApiKey</span><span class="params">(String apiKey)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.apiKey = apiKey;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getUserId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> userId;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserId</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.userId = userId;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.youkeda.service.MessageService;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Application</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> MessageService messageService = <span class="keyword">new</span> MessageService();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String reply = messageService.send(<span class="string">"今天天气怎么样"</span>);</span><br><span class="line">        System.out.println(reply);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (reply.indexOf(<span class="string">"查询哪个城市"</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">            reply = messageService.send(<span class="string">"杭州"</span>);</span><br><span class="line">            System.out.println(reply);</span><br><span class="line">        &#125;</span><br><span class="line">        System.exit(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSON;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.youkeda.model.RobotMessageRequest;</span><br><span class="line"><span class="keyword">import</span> okhttp3.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RobotService</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RobotService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    OkHttpClient client = <span class="keyword">new</span> OkHttpClient();</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">post</span><span class="params">(String json)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        RequestBody body = RequestBody.create(MediaType.get(<span class="string">"application/json; charset=utf-8"</span>), json);</span><br><span class="line">        Request request = <span class="keyword">new</span> Request.Builder().url(<span class="string">"http://openapi.tuling123.com/openapi/api/v2"</span>).post(body).build();</span><br><span class="line">        <span class="keyword">try</span> (Response response = client.newCall(request).execute()) &#123;</span><br><span class="line">            JSONObject object = JSON.parseObject(response.body().string());</span><br><span class="line">            <span class="keyword">return</span> object.getJSONArray(<span class="string">"results"</span>).getJSONObject(<span class="number">0</span>).getJSONObject(<span class="string">"values"</span>).getString(<span class="string">"text"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">reply</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        RobotMessageRequest request = <span class="keyword">new</span> RobotMessageRequest();</span><br><span class="line">        RobotMessageRequest.InputText inputText = <span class="keyword">new</span> RobotMessageRequest.InputText();</span><br><span class="line">        inputText.setText(input);</span><br><span class="line">        RobotMessageRequest.Perception perception = <span class="keyword">new</span> RobotMessageRequest.Perception();</span><br><span class="line">        perception.setInputText(inputText);</span><br><span class="line">        request.setPerception(perception);</span><br><span class="line"></span><br><span class="line">        String json = JSON.toJSONString(request);</span><br><span class="line">        String msg = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            msg = post(json);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.youkeda.service;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对话内容</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> joe</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2019-07-06</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> RobotService robot = <span class="keyword">new</span> RobotService();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 发消息</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">send</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        String reply = robot.reply(message);</span><br><span class="line">        <span class="keyword">return</span> reply;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[INFO] --- exec-maven-plugin:<span class="number">3.0</span><span class="number">.0</span>:java (<span class="keyword">default</span>-cli) @ app ---</span><br><span class="line">请问你想查询哪个城市</span><br><span class="line">杭州:周日 <span class="number">07</span>月<span class="number">19</span>日,阴转小雨 西南风转北风,最低气温<span class="number">23</span>度，最高气温<span class="number">36</span>度。</span><br><span class="line">------运行结束------</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[INFO] --- exec-maven-plugin:<span class="number">3.0</span><span class="number">.0</span>:java (<span class="keyword">default</span>-cli) @ app ---</span><br><span class="line">请问你想查询哪个城市</span><br><span class="line">合肥:周日 <span class="number">07</span>月<span class="number">19</span>日,大雨转雷阵雨 持续无风向转西南风,最低气温<span class="number">22</span>度，最高气温<span class="number">25</span>度。</span><br><span class="line">------运行结束------</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[INFO] --- exec-maven-plugin:<span class="number">3.0</span><span class="number">.0</span>:java (<span class="keyword">default</span>-cli) @ app ---</span><br><span class="line">请问你想查询哪个城市</span><br><span class="line">青岛:周日 <span class="number">07</span>月<span class="number">19</span>日,小雨转阴 持续无风向,最低气温<span class="number">21</span>度，最高气温<span class="number">24</span>度。</span><br><span class="line">------运行结束------</span><br><span class="line">#</span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[INFO] --- exec-maven-plugin:<span class="number">3.0</span><span class="number">.0</span>:java (<span class="keyword">default</span>-cli) @ app ---</span><br><span class="line">请问你想查询哪个城市</span><br><span class="line">西安:周日 <span class="number">07</span>月<span class="number">19</span>日,晴 西风转南风,最低气温<span class="number">19</span>度，最高气温<span class="number">31</span>度。</span><br><span class="line">------运行结束------</span><br><span class="line">#</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/java%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8/" data-id="ckd5k3gnm0004a8v25sjja9ii" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-chushi" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/11/chushi/" class="article-date">
  <time datetime="2020-07-11T10:31:17.000Z" itemprop="datePublished">2020-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/11/chushi/">chushi</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="hello-my-blog！"><a href="#hello-my-blog！" class="headerlink" title="hello my blog！"></a>hello my blog！</h1><h2 id="配置了自己的博客"><a href="#配置了自己的博客" class="headerlink" title="配置了自己的博客"></a>配置了自己的博客</h2><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>今天学习了java语言入门1、2、3</p>
<h3 id="如何使用本地图片资源"><a href="#如何使用本地图片资源" class="headerlink" title="如何使用本地图片资源"></a>如何使用本地图片资源</h3><ol>
<li>配置_config.yml文件<br>将post_asset_folder: 后面的false改为true<br><code>post_asset_folder: true</code></li>
<li>仓库目录下执行命令<br><code>hexo new post_name</code><br>在source/_posts中就会生成文章post_name.md和同名文件夹post_name,将图片放入post_name中，就可以使用相对路径引用图片资源了<br><code>![alt](test.jpg)</code><br><img src="plane.jpg" alt="alt"></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/11/chushi/" data-id="ckd5k3gnd0001a8v2cd8gcnsl" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/11/hello-world/" class="article-date">
  <time datetime="2020-07-11T10:25:50.949Z" itemprop="datePublished">2020-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/11/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/11/hello-world/" data-id="ckd5k3gn50000a8v2au5rgdaf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/07/26/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8/">数据结构与算法入门</a>
          </li>
        
          <li>
            <a href="/2020/07/23/%E6%96%B0Java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">新Java网络编程</a>
          </li>
        
          <li>
            <a href="/2020/07/23/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">java面向对象</a>
          </li>
        
          <li>
            <a href="/2020/07/15/post-name/">post_name</a>
          </li>
        
          <li>
            <a href="/2020/07/15/java%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8/">java语言入门</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>